{"version":3,"sources":["webpack:///src/views/member/myIntersted.vue","webpack:///./src/views/member/myIntersted.vue?8343","webpack:///./src/views/member/myIntersted.vue"],"names":["myIntersted","name","components","commonHeader","common_header","InfiniteScroll","mint_ui_common","Indicator","Button","Lazyload","Toast","data","h_title","visited","list","select","mounted","options","this","$route","query","visit","getList","methods","goTop","console","log","document","getElementById","scrollIntoView","block","behavior","checkLike","event","selected","i","length","push","id","that","Object","api","then","res","isSuccess","rows","goInfo","obj","tag_ids","join","arr","stringify_default","message","iconClass","duration","setTimeout","$router","back","member_myIntersted","render","_vm","_h","$createElement","_c","_self","attrs","showback","_v","on","returnTop","staticStyle","height","staticClass","_m","_l","item","index","key","src","img","directives","rawName","value","expression","type","domProps","checked","Array","isArray","_i","click","$event","change","$$a","$$el","target","$$c","$$i","$set","concat","slice","for","_s","size","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/23.53f8e57f45c80f1841c5.js","sourcesContent":["<template>\r\n  <div>\r\n    <common-header :h_title=\"h_title\" :showback=\"true\"></common-header>\r\n    <return-top @returnTop='goTop'></return-top>\r\n    <div style='height:0.9rem'></div>\r\n    <div class='interested'>\r\n      <div class='i_header'>\r\n        <span class='header_title'>选择至少4个感兴趣的内容</span>\r\n        <span>私人订制，以后可随时更改</span>\r\n      </div>\r\n      <div class='i_body'>\r\n        <div class='i_likeList'>\r\n          <!-- <checkbox-group bindchange=\"checkLike\"> -->\r\n          <div class='i_like' v-for='(item,index) in list' :key='index'>\r\n            <!-- <label for='item.id'> -->\r\n            <img :src='item.img' class='i_like_img' />\r\n            <div class='info_chose'>\r\n              <input v-model=\"item.selected\" :id='item.id' type='checkbox' @click=\"checkLike(item)\" />\r\n              <label :for=\"item.id\"></label>\r\n            </div>\r\n            <!-- <checkbox id='item.id' checked='item.selected' value='item.id'></checkbox> -->\r\n            <span>{{item.name}}</span>\r\n            <!-- </label> -->\r\n          </div>\r\n          <!-- </checkbox-group> -->\r\n        </div>\r\n        <div class='i_like_btn' @click='goInfo'>\r\n          <mt-button size='normal'>完成</mt-button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport commonHeader from 'common/common-header'\r\nimport {\r\n  InfiniteScroll,\r\n  Indicator,\r\n  Button,\r\n  Lazyload,\r\n  Toast\r\n} from 'mint-ui'\r\nimport {\r\n  getMyIntersted,\r\n  savePersonInfo\r\n} from '@/api/index'\r\n  // import {\r\n  //   countDown\r\n  // } from '@/store/pubilc.js'\r\n  // import {\r\n  //   parseTime\r\n  // } from '@/store/pubilc.js'\r\n  // import {\r\n  //   setToken,\r\n  //   getToken\r\n  // } from '@/store/auth'\r\nexport default {\r\n  name: 'MyIntersted',\r\n  components: {\r\n    commonHeader,\r\n    InfiniteScroll,\r\n    Indicator,\r\n    Button,\r\n    Lazyload,\r\n    Toast\r\n  },\r\n  data() {\r\n    return {\r\n      h_title: '我的关注',\r\n      visited: 0,\r\n      list: [],\r\n      select: []\r\n    }\r\n  },\r\n  mounted() {\r\n    // Indicator.open('加载中...')\r\n    // console.log(this.$route.query)\r\n    let options = this.$route.query\r\n    this.visited = options.visit\r\n    this.getList()\r\n  },\r\n  methods: {\r\n    goTop() {\r\n      console.log('回到顶部')\r\n      document.getElementById('coll').scrollIntoView({\r\n        block: 'start',\r\n        behavior: 'smooth'\r\n      })\r\n    },\r\n    checkLike(event) {\r\n      event.selected = !event.selected\r\n      this.select = []\r\n      for (let i = 0; i < this.list.length; i++) {\r\n        if (this.list[i].selected) {\r\n          this.select.push(this.list[i].id)\r\n        }\r\n      }\r\n      console.log(this.select)\r\n    },\r\n    getList() {\r\n      var that = this\r\n      that.select = []\r\n      getMyIntersted().then(res => {\r\n        if (res.isSuccess) {\r\n          for (var i = 0; i < res.data.rows.length; i++) {\r\n            if (res.data.rows[i].selected) {\r\n              that.select.push(res.data.rows[i].id)\r\n            }\r\n          }\r\n          that.list = res.data.rows\r\n          that.select = that.select\r\n        }\r\n      })\r\n    },\r\n    goInfo: function () {\r\n      if (this.select.length >= 4) {\r\n        var obj = {\r\n          'tag_ids': this.select.join(',')\r\n        }\r\n        var arr = []\r\n        arr.push(obj)\r\n        var that = this\r\n        savePersonInfo(JSON.stringify(arr)).then(res => {\r\n          if (res.isSuccess) {\r\n            Toast({\r\n              message: '保存成功',\r\n              iconClass: 'iconfont icon-dui1',\r\n              duration: 1000\r\n            })\r\n            setTimeout(function () {\r\n              that.$router.back()\r\n            }, 1000)\r\n          }\r\n        })\r\n        // util.queryRequest('?m=myinfo&a=usersave', {\r\n        //   data: JSON.stringify(arr)\r\n        // }, 'POST', function (res) {\r\n        //   if (res.isSuccess) {\r\n        //     wx.showToast({\r\n        //       title: '保存成功',\r\n        //       icon: 'success',\r\n        //       duration: 1000\r\n        //     })\r\n        //     setTimeout(function () {\r\n        //       var pages = getCurrentPages()\r\n        //       if (this.visited == 0) {\r\n        //         wx.redirectTo({\r\n        //           url: '../memberCenter/memberCenter'\r\n        //         })\r\n        //       } else {\r\n        //         // 调用接口保存感兴趣的内容，\r\n        //         wx.navigateBack({\r\n        //           delta: 1\r\n        //         })\r\n        //       }\r\n        //     }.bind(that), 1000)\r\n        //   }\r\n        // })\r\n      } else {\r\n        Toast({\r\n          message: '至少选择四个',\r\n          duration: 1000\r\n        })\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n  @import '~styles/index.less';\r\n  @import '~styles/variable.less';\r\n\r\n  .interested {\r\n    /* font-family: SimHei; */\r\n    padding: 0.81rem;\r\n    background: #fff;\r\n  }\r\n\r\n  .interested .i_header {\r\n    text-align: center;\r\n  }\r\n\r\n  .interested .i_header span {\r\n    font-size: 26/100rem;\r\n    color: #8f8f8f;\r\n    display: block;\r\n    text-align: center;\r\n  }\r\n\r\n  .i_header .header_title {\r\n    font-size: 44/100rem !important;\r\n    font-weight: bold;\r\n    color: #343434;\r\n    margin-bottom: 22/100rem;\r\n  }\r\n\r\n  .i_body {\r\n    margin-top: 54/100rem;\r\n  }\r\n\r\n  .i_likeList {\r\n    overflow: hidden;\r\n    height: 716/100rem;\r\n    overflow: scroll;\r\n  }\r\n\r\n  .i_like {\r\n    position: relative;\r\n    float: left;\r\n    margin: 14/100rem;\r\n    text-align: center;\r\n  }\r\n\r\n  .i_like .i_like_img {\r\n    width: 168/100rem;\r\n    height: 168/100rem;\r\n  }\r\n\r\n  .i_like span {\r\n    display: block;\r\n    font-size: 26.65/100rem;\r\n    color: #373737;\r\n    text-align: center;\r\n    width: 168/100rem;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n    white-space: nowrap;\r\n  }\r\n\r\n  .i_like_btn {\r\n    text-align: center;\r\n  }\r\n\r\n  .i_like_btn button {\r\n    margin-top: 58/100rem;\r\n    width: 460/100rem;\r\n    height: 86/100rem;\r\n    line-height: 86/100rem;\r\n    border: none;\r\n    background: #ff8d97;\r\n    color: #fff;\r\n    outline: none;\r\n    font-size: 40/100rem;\r\n    border-radius: 20/100rem;\r\n  }\r\n\r\n  input[type=\"checkbox\"] {\r\n    // width: 34/100rem;\r\n    // height: 34/100rem;\r\n    // opacity: 0;\r\n    width: 1.68rem;\r\n    height: 1.68rem;\r\n    opacity: 0;\r\n    position: absolute;\r\n    top: 0;\r\n  }\r\n\r\n  label {\r\n    position: absolute;\r\n    right: 5/100rem;\r\n    top: 8/100rem;\r\n    width: 34/100rem;\r\n    height: 34/100rem;\r\n    // border-radius: 50%;\r\n    border: 2/100rem solid #7c7c7c;\r\n    border-radius: 50%;\r\n  }\r\n\r\n  /*设置选中的input的样式*/\r\n  /* + 是兄弟选择器,获取选中后的label元素*/\r\n  input:checked+label {\r\n    background-color: #ff8d97;\r\n    border: 2/100rem solid #ff8d97;\r\n  }\r\n\r\n  input:checked+label::after {\r\n    position: absolute;\r\n    content: \"\";\r\n    width: 0.1rem;\r\n    height: 0.24rem;\r\n    top: 0;\r\n    left: 0.11rem;\r\n    border: 0.04rem solid #fff;\r\n    border-top: none;\r\n    border-left: none;\r\n    -webkit-transform: rotate(45deg);\r\n    transform: rotate(45deg);\r\n  }\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/member/myIntersted.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('common-header',{attrs:{\"h_title\":_vm.h_title,\"showback\":true}}),_vm._v(\" \"),_c('return-top',{on:{\"returnTop\":_vm.goTop}}),_vm._v(\" \"),_c('div',{staticStyle:{\"height\":\"0.9rem\"}}),_vm._v(\" \"),_c('div',{staticClass:\"interested\"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"i_body\"},[_c('div',{staticClass:\"i_likeList\"},_vm._l((_vm.list),function(item,index){return _c('div',{key:index,staticClass:\"i_like\"},[_c('img',{staticClass:\"i_like_img\",attrs:{\"src\":item.img}}),_vm._v(\" \"),_c('div',{staticClass:\"info_chose\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(item.selected),expression:\"item.selected\"}],attrs:{\"id\":item.id,\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(item.selected)?_vm._i(item.selected,null)>-1:(item.selected)},on:{\"click\":function($event){return _vm.checkLike(item)},\"change\":function($event){var $$a=item.selected,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(item, \"selected\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(item, \"selected\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(item, \"selected\", $$c)}}}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":item.id}})]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(item.name))])])}),0),_vm._v(\" \"),_c('div',{staticClass:\"i_like_btn\",on:{\"click\":_vm.goInfo}},[_c('mt-button',{attrs:{\"size\":\"normal\"}},[_vm._v(\"完成\")])],1)])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"i_header\"},[_c('span',{staticClass:\"header_title\"},[_vm._v(\"选择至少4个感兴趣的内容\")]),_vm._v(\" \"),_c('span',[_vm._v(\"私人订制，以后可随时更改\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-b2182e8c\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/member/myIntersted.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-b2182e8c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./myIntersted.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./myIntersted.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./myIntersted.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-b2182e8c\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./myIntersted.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-b2182e8c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/member/myIntersted.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}