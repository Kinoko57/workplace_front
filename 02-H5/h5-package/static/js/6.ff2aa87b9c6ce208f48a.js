webpackJsonp([6],{EGFp:function(t,e,i){t.exports=i.p+"static/img/fans.ac84920.png"},amQF:function(t,e){},"lx+i":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("Dd8w"),a=i.n(s),o=i("fqE/"),n=i("Jtwt"),c=i("EGFp"),r=i.n(c),l=i("uhDe"),h=i.n(l),m=i("gyMJ"),d=i("HUDw"),u=i("NYxO"),v=i("Au9i"),_={name:"Shoper",data:function(){return{head_color:{color:"#000",background:"#FCD9BB"},fansImg:r.a,memberImg:h.a,h_title:"会员中心",show_tips:!1,isShare:0,showlevel:!1,imgPath:"https://share.gongzhugou.com/static/image/xcx_img/",isMember:!1,rulesTitle:"",shoperShow:!1,autoplay:!1,interval:3e3,duration:3e3,isTop:!0,memShop_total:0,total_amout:0,memShop:[],noticeList:[],membeInfo:{total_money:0,money:0},giftList:[],fancNum:0,today:0,backday:0,navNtn:0,avatarUrl:"https://share.gongzhugou.com/static/image/xcx_img/member/avatar.png",score:0,todayOrders:0,userInfo:{avatar:"",nickname:"",username:"",level_id:"0",isShow:0},rwcode:!1,notice_length:"",ad:{title:"",img:"",href:"",type:"",href_type:"",href_id:""}}},components:{Indicator:v.Indicator,Toast:v.Toast,Button:v.Button,commonHeader:o.a,returnTop:n.a},mounted:function(){},activated:function(){this.userInfo=this.$store.state.home.userInfo,this.isMember=this.$store.state.home.is_member,this.isShare=this.$store.state.home.is_share,this.getFansNum(),this.getVipList(),this.getVipInfo(),this.getnotceList(),this.getAd(),this.getList()},methods:a()({},Object(u.c)({setCarPro:"SET_CARPRO"}),{getList:function(){var t=this;Object(d.G)().then(function(e){v.Indicator.close(),e.isSuccess&&(console.log(e),t.giftList=e.data.gift)})},toNewFans:function(t,e){this.$router.togo({path:"/todayNew?type="+t}),window.localStorage.setItem("type",e)},goGiftDetail:function(t,e){this.$router.togo({path:"/newPeopleDetail?type="+t+"&id="+e+"&form=share"})},openConcart:function(){var t=this;if("true"===window.localStorage.getItem("isLogin")||!0===window.localStorage.getItem("isLogin")){console.log("展开聊天框"),console.log(this.userInfo),window.localStorage.setItem("leaveApp",!0);t.$router.togo({path:"/chat",name:"Chat",params:{url:"https://www.sobot.com/chat/h5/index.html",sysNum:"563069f6a21c4723b6a05d5ab9a6146d",back:1,titleFlag:1,uname:this.userInfo.nickname,face:this.userInfo.avatar,partnerId:this.userInfo.uid}})}else window.plus.nativeUI.confirm("您当前未登录，是否立即前往登录",function(e){0!==e.index&&"0"!==e.index||t.$router.togo({path:"/login?back=1"})},{title:"提示",buttons:["确定","取消"],verticalAlign:"center"})},getVipInfo:function(){var t=this;Object(d.B)().then(function(e){e.isSuccess&&(t.membeInfo=e.data.member,t.userInfo.uid=e.data.member.uid)})},getFansNum:function(){v.Indicator.open("加载中...");var t=this;Object(d.z)().then(function(e){e.isSuccess&&(v.Indicator.close(),t.showlevel=!0,t.fancNum=e.data.mem_new,t.todayOrders=e.data.today_orders1,t.today=e.data.today_fans,t.backday=e.data.fans_new)})},getnotceList:function(){var t=this;Object(d.C)().then(function(e){e.isSuccess&&(t.noticeList=e.rows,e.rows.length>3?(t.autoplay=!0,t.notice_length=3,t.notic_height=198):(t.autoplay=!1,t.notice_length=e.rows.length,t.notic_height=66*e.rows.length))})},getAd:function(){var t=this;Object(d.y)({type:3}).then(function(e){if(e.isSuccess){var i=e.data.ad;t.ad=i}})},getVipList:function(){var t=this;Object(d.A)().then(function(e){if(e.isSuccess){var i=e.data.rows;t.memShop=i}})},toPoster:function(){this.$router.togo({path:"/poster"})},toQrcode:function(){this.$router.togo({path:"/myQrcode"})},goLink:function(t){this.$router.togo({path:t})},goTop:function(){console.log("回到顶部"),document.getElementById("shper_bottom").scrollIntoView({block:"start",behavior:"smooth"})},goUrl:function(t,e,i){console.log(e);var s=e.split("/");if(1==i)this.$router.togo({path:"/proDetail?type=normal&id="+t});else if(0==i)0!=t&&this.$router.replace({path:"/poster"});else{var a=e;-1!=a.indexOf("hotPush")||-1!=a.indexOf("index")||-1!=a.indexOf("myCar")||-1!=a.indexOf("proType")||-1!=a.indexOf("memberCenter")||-1!=a.indexOf("shoper")?this.$router.replace({path:s[s.length-1]}):-1!=a.indexOf("lottery")?this.$router.replace({path:s[s.length-1]}):this.$router.togo({path:s[s.length-1]})}},goIndex:function(){this.$router.togo({path:"/index"})},linkGo:function(){this.$router.togo({path:"/personCenter"})},viewDetail:function(t,e){this.$router.togo({path:"/noticeDetail?id="+t+"&name="+e})},goDetail:function(t){this.$router.togo({path:"/proDetail?type=normal&id="+t})},addCar:function(t,e){var i=this,s={pid:t,quantity:1,checked:0,deal_type:e};Object(m.e)(s).then(function(e){if(e.isSuccess){if(""===i.$store.state.home.carpro)i.setCarPro([t]);else{for(var s=i.$store.state.home.carpro,a=0;a<s.length&&s[a]!==t;a++);a>=s.length&&s.push(t),i.setCarPro(s)}Object(v.Toast)({message:"加入购物车成功",iconClass:"iconfont icon-dui1",icon:"success"})}else Object(v.Toast)({message:e.msg,duration:1e3})})}})},f={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("common-header",{attrs:{h_title:t.h_title,showback:!1,bgcolor:t.head_color,showleft:!0},on:{concartAction:t.openConcart}}),t._v(" "),t.showlevel?i("div",{staticStyle:{background:"#FAFAFC"}},[i("div",{staticClass:"shper_bottom"},[i("div",{staticStyle:{height:"0.9rem"},attrs:{id:"shper_bottom"}}),t._v(" "),i("return-top",{on:{returnTop:t.goTop}}),t._v(" "),i("div",{staticClass:"m_header"},[i("div",{staticClass:"m_info_login"},[i("img",{staticClass:"m_avatar",attrs:{src:t.userInfo.avatar,mode:"scaleToFill"},on:{click:t.linkGo}}),t._v(" "),i("div",{staticClass:"m_info_title"},[i("div",{staticClass:"m_info_name"},[i("span",[t._v(t._s(t.userInfo.nickname))])]),t._v(" "),i("div",{staticClass:"m_info_level"},[i("span",{staticClass:"m_info_Id"},[t._v(t._s(t.userInfo.level_name))])])]),t._v(" "),i("div",{staticClass:"m_score",on:{click:t.toQrcode}},[i("div",{staticClass:"m_score_l"},[i("img",{attrs:{src:t.imgPath+"shoper/qr.png"}}),t._v(" "),i("span",[t._v("二维码")])])]),t._v(" "),i("div",{staticClass:"m_score",on:{click:t.toPoster}},[i("div",{staticClass:"m_score_l"},[i("img",{attrs:{src:t.imgPath+"shoper/user.png"}}),t._v(" "),i("span",[t._v("邀请")])])])])]),t._v(" "),i("div",{staticClass:"wallet-info-block"},[i("div",{staticClass:"info-wallet"},[i("div",{on:{click:function(e){return t.goLink("/myIncome")}}},[i("p",{staticClass:"num"},[t._v(t._s(t.membeInfo.total_money))]),t._v(" "),i("p",[t._v("累计收益/元")])]),t._v(" "),i("div",{on:{click:function(e){return t.goLink("/saleOrder?type=")}}},[i("p",{staticClass:"num"},[t._v(t._s(t.todayOrders))]),t._v(" "),i("p",[t._v("今日订单/笔")])]),t._v(" "),i("div",{on:{click:function(e){return t.goLink("/myWallet")}}},[i("p",{staticClass:"num"},[t._v(t._s(t.membeInfo.money))]),t._v(" "),i("p",[t._v("钱包/元")])])])]),t._v(" "),i("div",{staticClass:"fans-wrap"},[t._m(0),t._v(" "),i("div",{staticClass:"fans-body"},[i("div",{staticClass:"fans-info"},[i("div",{staticClass:"fans-info-item",on:{click:function(e){return t.toNewFans("today","1")}}},[i("span",[t._v(t._s(t.today))]),t._v(" "),i("label",[t._v("今日新增/人")])]),t._v(" "),i("div",{staticClass:"fans-info-item",on:{click:function(e){return t.toNewFans("all","1")}}},[i("span",[t._v(t._s(t.fancNum))]),t._v(" "),i("label",[t._v("会员总数/人")])]),t._v(" "),i("div",{staticClass:"fans-info-item",on:{click:function(e){return t.toNewFans("all","0")}}},[i("span",[t._v(t._s(t.backday))]),t._v(" "),i("label",[t._v("粉丝总数/人")])])])])]),t._v(" "),t.noticeList.length>0?i("div",{staticClass:"notice-wrap"},[t._m(1),t._v(" "),i("div",{staticClass:"notice-body"},t._l(t.noticeList,function(e,s){return i("div",{key:s,staticClass:"notice-item",on:{click:function(i){return t.viewDetail(e.id,e.title)}}},[i("div",{staticClass:"notice-title"},[t._v(t._s(e.title))]),t._v(" "),i("div",{staticClass:"notice-desc"},[null!=e.summary||""!=e.summary?i("span",{staticClass:"notice-summary"},[t._v(t._s(e.summary))]):t._e(),t._v(" "),i("span",{staticClass:"notice-time"},[t._v(t._s(e.createtime))])])])}),0)]):t._e(),t._v(" "),""!=t.ad.img?i("div",{staticClass:"ad",on:{click:function(e){return t.goUrl(t.ad.href_id,t.ad.href,t.ad.href_type)}}},[i("img",{attrs:{src:t.ad.img}})]):t._e(),t._v(" "),t.giftList.length>0?i("div",{staticClass:"invite-gift"},[i("div",{staticClass:"invite-title"},[i("p",[i("img",{staticClass:"member-icon left",attrs:{src:t.imgPath+"asShoper/icon-left.png"}}),t._v(" "),i("span",[t._v("分享礼包给好友 下单即可升级会员")]),t._v(" "),i("img",{staticClass:"member-icon right",attrs:{src:t.imgPath+"asShoper/icon-right.png"}})])]),t._v(" "),i("div",{staticClass:"gift-wrap"},[i("div",{staticClass:"gift-list"},t._l(t.giftList,function(e,s){return i("div",{key:s,staticClass:"gift-item"},[i("div",{staticClass:"gift-box",on:{click:function(i){return t.goGiftDetail("normal",e.goods_id)}}},[""!=e.img?i("img",{attrs:{src:e.img}}):i("div",{staticStyle:{height:"3.3rem"}}),t._v(" "),i("div",{staticClass:"gift-name"},[t._v(t._s(e.name))]),t._v(" "),i("div",{staticClass:"gift-price"},[i("span",{staticClass:"price"},[t._v("￥"+t._s(e.price_sell))])])])])}),0),t._v(" "),t._m(2)])]):t._e()],1),t._v(" "),i("div",{staticClass:"asshoper"})]):t._e()],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"fans-header"},[e("div",{staticClass:"title"},[e("i",{staticClass:"icon icon-fans"}),this._v(" "),e("span",[this._v("我的会员/粉丝")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notice-header"},[e("div",{staticClass:"title"},[e("i",{staticClass:"icon icon-notice"}),this._v(" "),e("span",[this._v("用户公告")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"order-foot"},[e("span",[this._v("—————— 我是有底线的 ——————")])])}]};var g=i("VU/8")(_,f,!1,function(t){i("amQF")},"data-v-75c96e07",null);e.default=g.exports},uhDe:function(t,e,i){t.exports=i.p+"static/img/member.e1033c4.png"}});
//# sourceMappingURL=6.ff2aa87b9c6ce208f48a.js.map