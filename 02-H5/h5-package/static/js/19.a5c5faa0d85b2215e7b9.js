webpackJsonp([19],{Fy2x:function(t,a){},d98n:function(t,a,e){t.exports=e.p+"static/img/sale_order_null.9f6abc2.png"},o4PG:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=e("fqE/"),i=e("Jtwt"),n=e("d98n"),o=e.n(n),l=e("HUDw"),r=e("Au9i"),c=e("WVZN"),d={name:"ReturnsDetailed",components:{commonHeader:s.a,returnTop:i.a,InfiniteScroll:r.InfiniteScroll,Indicator:r.Indicator},data:function(){return{h_title:"收益明细",nullImg:o.a,head_color:{background:"#ffffff",color:"#000"},imgPath:"https://share.gongzhugou.com/static/image/xcx_img/",isShowContent:!1,total:0,loading:!0,hasData:!0,avatarUrl:"https://share.gongzhugou.com/static/image/xcx_img/member/avatar.png",returnsType:[],dateVale:Object(c.c)((new Date).getTime(),"{y}-{m}-{d}"),startDate:new Date("1971-01-01"),endDate:new Date("2019-01-22"),nowDate:"",birthday:null,cashMoney:{income:"0.00",stay_wind:"0.00"},page:1,limit:10}},mounted:function(){var t=Object(c.c)((new Date).getTime()).split(" ")[0],a=t.split("-")[0]+"年"+t.split("-")[1]+"月";this.endDate=new Date,this.nowDate=t.substring(0,t.length-3),this.birthday=a,this.getInconDetail()},methods:{goTop:function(){document.getElementById("return_bg").scrollIntoView({block:"start",behavior:"smooth"})},openInfo:function(t){console.log(t);for(var a=this,e=0;e<this.returnsType.length;e++)a.returnsType[e].id===t&&(a.returnsType[e].isopen=!a.returnsType[e].isopen);a.$forceUpdate(function(){a.returnsType=a.returnsType,console.log(a.returnsType)})},getInconDetail:function(){var t=this,a={page:t.page,limit:t.limit,date:t.nowDate};r.Indicator.open("加载中..."),Object(l.n)(a).then(function(a){if(a.isSuccess)if(t.hasData=!1,r.Indicator.close(),a.data.money.rows.length>0){t.hasData=!0,t.total=a.data.money.total,t.cashMoney=a.data.wind,t.loading=!1;for(var e=0;e<a.data.money.rows;e++)a.data.money.rows[e].isopen=!1;t.returnsType=a.data.money.rows,a.data.money.rows.length<t.limit&&(t.loading=!0)}else t.loading=!0,t.cashMoney=a.data.wind,t.hasData=!1,t.total=0})},loadMore:function(){this.loading=!0;var t=this,a={page:++t.page,limit:t.limit,date:t.nowDate};Object(l.n)(a).then(function(a){a.isSuccess?(r.Indicator.close(),t.total=a.data.money.total,a.data.money.rows.length>0&&(t.loading=!1,t.returnsType=t.returnsType.concat(a.data.money.rows),a.data.money.rows.length<t.limit&&(t.loading=!0))):(t.total=0,t.returnsType=[],t.loading=!0)})},openBirth:function(){this.$refs.dataPicker.open();for(var t=document.getElementsByClassName("picker-slot"),a=0;t&&a<t.length;a++)2===a&&(t[a].style.display="none")},bindDateChange:function(t){console.log(t.getTime(),"1111");var a=Object(c.c)(t.getTime(),"{y}-{m}-{d}"),e=a.split("-")[0]+"年"+a.split("-")[1]+"月";this.birthday=e,this.nowDate=a.substring(0,a.length-3),this.returnsType=[],this.page=1,this.loading=!0,this.hasData=!0,this.getInconDetail()}}},_={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("common-header",{attrs:{h_title:t.h_title,bgcolor:t.head_color}}),t._v(" "),e("div",{staticClass:"return_bg"},[e("return-top",{on:{returnTop:t.goTop}}),t._v(" "),e("div",{staticStyle:{height:"0.9rem"},attrs:{id:"return_bg"}}),t._v(" "),e("div",{staticClass:"detailed_choseDate"},[e("div",{staticClass:"detailed_choseDate_inner"},[e("div",{staticClass:"detailed_choseDate_show"},[e("div",{staticClass:"detailed_choseDate_show_l",on:{click:t.openBirth}},[e("div",{staticClass:"pickDate"},[null!=t.birthday?e("span",[t._v(t._s(t.birthday))]):t._e(),t._v(" "),e("i",{staticClass:"iconfont icon-desc"})])]),t._v(" "),e("div",{staticClass:"detailed_choseDate_show_r"},[e("div",{staticClass:"m_income"},[t._v("\n              收入"),e("span",{staticClass:"m_c"},[t._v("￥"+t._s(t.cashMoney.income))])]),t._v(" "),e("div",{staticClass:"m_waitCash"},[t._v("\n              待结算"),e("span",{staticClass:"m_c"},[t._v("￥"+t._s(t.cashMoney.stay_wind))])])])])])]),t._v(" "),e("div",{staticStyle:{height:"1.16rem"}}),t._v(" "),e("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMore,expression:"loadMore"}],staticClass:"return_list_wraper",attrs:{"infinite-scroll-disabled":"loading","infinite-scroll-distance":"30","infinite-scroll-immediate-check":"autoOpen"}},[t._l(t.returnsType,function(a,s){return e("div",{key:s,staticClass:"return_list"},[e("div",{staticClass:"list_header",on:{click:function(e){return t.openInfo(a.id)}}},[e("div",{staticClass:"list_left"},[e("p",{staticClass:"t_name"},[t._v(t._s(a.type_title)+" "),2==a.status||3==a.status?e("span",[t._v("退款")]):t._e()]),t._v(" "),e("p",{staticClass:"time"},[t._v(t._s(a.paytime))])]),t._v(" "),e("div",{staticClass:"list_right"},[2==a.status||3==a.status?e("p",[t._v("-"+t._s(a.money))]):e("p",[t._v("+￥"+t._s(a.money))]),t._v(" "),e("div",{staticClass:"list_right_icon"},[e("i",{class:a.isopen?"iconfont icon-xiala iconopen":"iconfont icon-xiala"})])])]),t._v(" "),a.isopen?e("div",{staticClass:"list_content"},[e("div",{staticClass:"content_title"},[e("div",{staticClass:"title_pic"},[null!=a.buyer&&null!=a.buyer.image&&""!=a.buyer.image?e("img",{attrs:{src:a.buyer.image,alt:""}}):e("img",{attrs:{src:t.avatarUrl,alt:""}})]),t._v(" "),e("p",{staticClass:"title_name"},[null!=a.remark&&""!=a.remark?e("span",[t._v(t._s(a.remark[0].remark))]):t._e(),t._v(" "),null==a.buyer||""==a.buyer.nickname||null==a.buyer.nickname||null!=a.remark&&""!=a.remark?t._e():e("span",[t._v(t._s(a.buyer.nickname))])])]),t._v(" "),t._l(a.order,function(s,i){return e("div",{key:i,staticClass:"content_goods"},[e("p",{staticClass:"order_code"},[t._v("订单编号："+t._s(a.order_id))]),t._v(" "),t._l(s.order_item,function(a,s){return e("div",{key:s,staticClass:"goods_list"},[e("div",{staticClass:"goods_list_l"},[null==a.pic||""==a.pic?e("img",{attrs:{src:t.imgPath+"pro/static.png",alt:""}}):e("img",{attrs:{src:a.pic,alt:""}})]),t._v(" "),e("div",{staticClass:"goods_list_r"},[e("div",{staticClass:"goods_list_r_info"},[e("p",{staticClass:"list_r_name"},[t._v(t._s(a.name))])]),t._v(" "),e("p",{staticClass:"goods_list_size"},[t._v("规格："+t._s(a.title))]),t._v(" "),e("div",{staticClass:"goods_list_num"},[e("p",{staticClass:"money"},[t._v("￥"+t._s(a.price))]),t._v(" "),e("p",{staticClass:"num"},[t._v("x "+t._s(a.nums))])])])])})],2)}),t._v(" "),e("div",{staticClass:"content_money"},[e("div",{staticClass:"goods_allCash"},[t._v("\n              你赚："),2==a.status||3==a.status?e("span",{staticClass:"back"},[t._v("￥"+t._s(a.money))]):e("span",{staticClass:"noback"},[t._v("￥"+t._s(a.money))])])])],2):t._e()])}),t._v(" "),e("div",{staticClass:"margin_bottom"},[t.loading?t._e():e("div",{staticClass:"more_load"},[e("mt-spinner",{attrs:{type:"fading-circle"}})],1),t._v(" "),t.total==t.returnsType.length&&t.total>0?e("div",{staticClass:"list_bottom"},[t._v("—————— 我是有底线的 ——————")]):t._e(),t._v(" "),0==t.hasData?e("div",{staticClass:"center"},[e("img",{attrs:{src:t.nullImg}}),t._v(" "),e("span",[t._v("没有发现任何数据哦~")])]):t._e()])],2),t._v(" "),e("mt-datetime-picker",{ref:"dataPicker",attrs:{type:"date","year-format":"{value} 年","month-format":"{value} 月","date-format":"{value} 日",startDate:t.startDate,endDate:t.endDate},on:{confirm:t.bindDateChange},model:{value:t.dateVale,callback:function(a){t.dateVale=a},expression:"dateVale"}})],1)],1)},staticRenderFns:[]};var m=e("VU/8")(d,_,!1,function(t){e("Fy2x")},"data-v-0136db88",null);a.default=m.exports}});
//# sourceMappingURL=19.a5c5faa0d85b2215e7b9.js.map