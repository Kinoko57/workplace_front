webpackJsonp([16],{aVHN:function(t,s){},d98n:function(t,s,e){t.exports=e.p+"static/img/sale_order_null.9f6abc2.png"},nSeK:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=e("fqE/"),i=e("d98n"),r=e.n(i),o=e("HUDw"),l=e("Au9i"),n={name:"SaleOrder",components:{commonHeader:a.a,InfiniteScroll:l.InfiniteScroll,Indicator:l.Indicator,Button:l.Button,Lazyload:l.Lazyload,Toast:l.Toast},data:function(){return{h_title:"销售订单",showSaleOrder:!1,options:{activeColor:"#E8C192",labelKey:"name"},head_color:{background:"#fff",color:"#000"},loading:!0,hasData:!0,imgUrl:r.a,orderType:[{id:0,tid:"",name:"全部"},{id:1,tid:0,name:"未结算"},{id:2,tid:2,name:"已退款"},{id:3,tid:1,name:"已结算"}],isShowType:"",isShowUid:!0,imgPath:"https://share.gongzhugou.com/static/image/xcx_img/",selectId:0,status:"",total:0,uid:"",page:1,limit:10,saleOrderList:[],avatarUrl:"https://share.gongzhugou.com/static/image/xcx_img/member/avatar.png"}},mounted:function(){var t=this.$route.query;this.isShowType=t.type,console.log(t.type,"哈哈哈哈"),"1"===t.type||1===t.type?this.h_title="商品佣金":"2"===t.type||2===t.type?this.h_title="礼包佣金":"3"===t.type||3===t.type?this.h_title="推广佣金":"4"===t.type||4===t.type?this.h_title="平台奖励":""!==t.type?(this.isShowUid=!1,this.uid=t.type,this.isShowType="",this.h_title="订单记录"):(this.isShowType="",this.h_title="销售订单"),this.getOrderInfo()},methods:{goTop:function(){console.log("回到顶部"),document.getElementById("sale_order_body").scrollIntoView({block:"start",behavior:"smooth"})},getOrderInfo:function(){var t=this;l.Indicator.open("加载中...");var s={type:t.isShowType,status:t.status,buy_uid:t.uid,page:t.page,limit:t.limit};Object(o.u)(s).then(function(s){s.isSuccess&&(l.Indicator.close(),t.showSaleOrder=!0,t.saleOrderList=s.data.rows,t.total=s.data.total,t.loading=!1,s.data.rows.length<t.limit&&(t.loading=!0),console.log(t.saleOrderList))})},loadMore:function(){this.loading=!0;var t=this,s={type:t.isShowType,status:t.status,buy_uid:t.uid,limit:t.limit,page:++t.page};console.log("kasjdlasfj"),Object(o.u)(s).then(function(s){s.isSuccess?(l.Indicator.close(),t.total=s.data.total,s.data.rows.length>0&&(t.loading=!1,t.saleOrderList=t.saleOrderList.concat(s.data.rows),s.data.rows.length<t.limit&&(t.loading=!0))):(t.total=0,t.saleOrderList=[],t.loading=!0)})},choseOrder:function(t){l.Indicator.open("加载中..."),this.total=0,this.saleOrderList=[],this.status=t.tid,this.page=1,this.loading=!0,this.hasData=!0,this.selectId=t.id,document.getElementById("sale_order_body").scrollIntoView(!1),this.getOrderInfo()}}},d={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("common-header",{attrs:{h_title:t.h_title,showback:!0,bgcolor:t.head_color}}),t._v(" "),t.showSaleOrder?e("div",{staticClass:"sales_order_bg"},[e("return-top",{on:{returnTop:t.goTop}}),t._v(" "),e("div",{staticStyle:{height:"0.9rem"},attrs:{id:"sale_order_body"}}),t._v(" "),e("div",{staticClass:"sale_order_body"},[e("ly-tab",{staticClass:"order_type",attrs:{items:t.orderType,options:t.options},on:{change:t.choseOrder},model:{value:t.selectId,callback:function(s){t.selectId=s},expression:"selectId"}}),t._v(" "),e("div",{staticStyle:{height:"0.9rem"}}),t._v(" "),0==t.saleOrderList.length?e("div",{staticClass:"order_null"},[e("img",{attrs:{src:t.imgUrl,alt:"",srcset:""}}),t._v(" "),"1"==t.isShowType?e("p",[t._v("暂无商品佣金哦~")]):"2"==t.isShowType?e("p",[t._v("暂无礼包佣金哦~")]):"3"==t.isShowType?e("p",[t._v("暂无推广佣金哦~")]):"4"==t.isShowType?e("p",[t._v("暂无平台奖励哦~")]):e("p",[t._v("还没发现你有订单哦～")])]):e("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMore,expression:"loadMore"}],staticClass:"order",attrs:{"infinite-scroll-disabled":"loading","infinite-scroll-distance":"30","infinite-scroll-immediate-check":"autoOpen"}},[e("div",{staticClass:"order_list"},t._l(t.saleOrderList,function(s,a){return e("div",{key:a,staticClass:"order_block"},[e("div",{staticClass:"order_head"},[t.isShowUid?e("p",{staticClass:"order_user"},[e("span",{staticClass:"user_img"},[null!=s.buyer&&""!=s.buyer.image&&null!=s.buyer.image?e("img",{attrs:{src:s.buyer.image,alt:""}}):e("img",{attrs:{src:t.avatarUrl,alt:""}}),t._v(" "),null!=s.remark&&""!=s.remark?e("span",{staticClass:"user_name"},[t._v(t._s(s.remark[0].remark))]):t._e(),t._v(" "),null==s.buyer||""==s.buyer.nickname||null==s.buyer.nickname||null!=s.remark&&""!=s.remark?t._e():e("span",{staticClass:"user_name"},[t._v(t._s(s.buyer.nickname))])]),t._v(" "),2==s.status?e("span",{staticClass:"user_tag"},[t._v("全额退款")]):t._e(),t._v(" "),3==s.status?e("span",{staticClass:"user_tag"},[t._v("降级返还")]):t._e(),t._v(" "),4==s.status?e("span",{staticClass:"user_tag"},[t._v("部分退款")]):t._e()]):t._e()]),t._v(" "),t._l(s.order,function(a,i){return e("div",{key:i,staticClass:"order_content"},[e("div",{staticClass:"order_content_title"},[e("span",{staticClass:"order_time"},[t._v(t._s(s.createtime))]),t._v(" "),e("span",{staticClass:"order_code"},[t._v(t._s(a.order_id)),4==a.pay_status?e("i",[t._v("退款")]):t._e()])]),t._v(" "),t._l(a.order_item,function(s,a){return e("div",{key:a,staticClass:"order_pro_block"},[e("div",{staticClass:"pro_img"},[""==s.pic||null==s.pic?e("img",{attrs:{src:t.imgPath+"pro/static.png",alt:"",srcset:""}}):e("img",{attrs:{src:s.pic,alt:"",srcset:""}})]),t._v(" "),e("div",{staticClass:"pro_info"},[e("p",[e("span",{staticClass:"pro_title"},[t._v(t._s(s.name))])]),t._v(" "),e("p",[e("span",{staticClass:"pro_spec"},[t._v("规格:"+t._s(s.title))]),t._v(" "),e("span",{staticClass:"pro_num"},[t._v("x"+t._s(s.nums))])]),t._v(" "),e("p",[e("span",{staticClass:"pro_price"},[t._v("￥"+t._s(s.price))])])])])})],2)}),t._v(" "),e("div",{staticClass:"order_amount"},["3"==t.isShowType||"4"==t.isShowType?e("span",[t._v("为你贡献:")]):e("span",[t._v("赚:")]),t._v(" "),e("span",{staticClass:"sales_money"},[t._v("¥"+t._s(s.money))])])],2)}),0),t._v(" "),e("div",{staticClass:"margin_bottom"},[t.loading?t._e():e("div",{staticClass:"more_load"},[e("mt-spinner",{attrs:{type:"fading-circle"}})],1),t._v(" "),t.total==t.saleOrderList.length&&t.total>0?e("div",{staticClass:"list_bottom"},[t._v("—————— 我是有底线的 ——————")]):t._e(),t._v(" "),0==t.hasData?e("div",{staticClass:"center"},[e("img",{attrs:{src:t.nullImg}}),t._v(" "),e("span",[t._v("没有发现任何数据哦~")])]):t._e()])])],1)],1):t._e()],1)},staticRenderFns:[]};var c=e("VU/8")(n,d,!1,function(t){e("aVHN")},"data-v-598bafc6",null);s.default=c.exports}});
//# sourceMappingURL=16.36ef0b7f2380b10d0b35.js.map