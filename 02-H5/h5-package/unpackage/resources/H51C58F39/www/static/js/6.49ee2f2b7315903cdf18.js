webpackJsonp([6],{"6a0z":function(e,t){},"Aic+":function(e,t,o){e.exports=o.p+"static/img/login-bg.638b3a0.png"},Quw4:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o("mvHQ"),n=o.n(i),s=o("Dd8w"),a=o.n(s),r=o("fqE/"),c=o("Aic+"),l=o.n(c),g=o("y6k9"),d=o.n(g),u=o("Z7+O"),b=o.n(u),A=o("Au9i"),v=o("gyMJ"),m=o("NYxO"),p=o("jwGj"),h={name:"Login",components:{commonHeader:r.a,InfiniteScroll:A.InfiniteScroll,Indicator:A.Indicator,Button:A.Button,Lazyload:A.Lazyload,Toast:A.Toast},data:function(){return{head_color:{background:"#f9f9f9",color:"#000"},h_title:"登录",version:"v1.0",loginImg:l.a,iconPhoneImg:d.a,iconWImg:b.a,aweixin:"",is_back:!0}},created:function(){console.log(this.$route.query.back),void 0!==this.$route.query.back&&1===this.$route.query.back&&(this.is_back=!0),console.log("is_back的值为",this.is_back)},mounted:function(){console.log("登录页");var e=window.localStorage;!0===e.getItem("isLogin")||"true"===e.getItem("isLogin")?this.getInfo():console.log("用户未登录");var t=window.plus;console.log(t.runtime.version),this.version=t.runtime.version;var o=this;t.oauth.getServices(function(e){var t=e;console.log(t),"weixin"===e[0].id&&(o.aweixin=e[0])},function(e){console.log("获取分享服务列表失败："+e.message+" - "+e.code)})},methods:a()({},Object(m.c)({setIsbind:"SET_ISBIND",setUserInfo:"SET_USERINFO",setInviter:"SET_INVITER",setMember:"SET_MEMBER",setShowShare:"SET_SHARE",setFirst:"SET_FIRST",setScore:"SET_SCORE"}),{getInfo:function(){var e=this;Object(v._6)().then(function(t){if(t.isSuccess){var o={};o.avatar=t.data.image,o.level=t.data.rankName,o.isShow=1,o.nickname=t.data.nickname,o.isbind=t.data.bindPhone,o.level_id=t.data.level_id,o.level_name=t.data.levelName,o.inviter=t.data.inviter,o.is_first=t.data.is_first,e.setUserInfo(o),e.setScore(t.data.point),e.setInviter(t.data.inviter),""!==t.data.mobile&&null!==t.data.mobile?e.setIsbind(!0):e.setIsbind(!1),0!==t.data.level_id&&"0"!==t.data.level_id?e.setMember(!0):e.setMember(!1),""!==t.data.mobile&&null!==t.data.mobile?e.is_back?e.$router.go(-1):e.$router.replace({path:"/index"}):e.$router.replace({path:"/bind?visit=0"})}})},phoneLogin:function(){this.$router.replace({path:"/phoneLogin"})},goTop:function(){console.log("回到顶部"),document.getElementById("coll").scrollIntoView({block:"start",behavior:"smooth"})},loginApp:function(){console.log(this.aweixin);var e=this,t=window.localStorage;window.plus?this.aweixin.login(function(o){console.log(o);var i={openid:o.target.userInfo.openid,uionId:o.target.userInfo.unionid,name:o.target.userInfo.nickname,iconurl:o.target.userInfo.headimgurl};Object(v.g)(i).then(function(o){if(console.log(o),o.isSuccess)if(o.is_register){var i="uid="+o.uid+";username="+o.username+";rank="+o.rank+";token="+o.token+";source="+o.source+";sessionid="+o.sessionid;console.log(i);var n={};n.avatar=o.image,n.level=o.rankName,n.isShow=1,n.nickname=o.nickname,n.isbind=o.bindPhone,n.level_id=o.level_id,n.level_name=o.levelName,n.inviter=o.inviter,n.is_first=o.is_first,e.setUserInfo(n),e.setInviter(o.inviter),t.setItem("token",i),t.setItem("isLogin",!0),e.setIsbind(o.bindPhone),e.userInfo=e.$store.state.home.userInfo,0!==o.level_id&&"0"!==o.level_id?e.setMember(!0):e.setMember(!1),console.log("返回上一页"),!0===o.bindPhone?e.is_back?e.$router.go(-1):e.$router.replace({path:"/index"}):e.$router.replace({path:"/bind?visit=-1"})}else e.$router.replace({path:"/bind?visit=-1"});else console.log("登录失败")})},function(e){console.log("授权失败："+n()(e))},{scope:"snsapi_userinfo",state:"authorize test",appid:"wxbc7c7b9255f2935b"}):(console.log("当前环境不支持微信登录"),t.setItem("token","uid=113;username=wx_ognZN5Q2TtAWkz6z-82dKh0zTwu4;rank=1;token=295ab6b5a66839d7450f519f501c4f11_1565139287;source=wxxcx;sessionid=85nag945vtahl3ee2hsj892226;"),t.setItem("isLogin",!0),Object(p.a)("member[uid]","113"),Object(p.a)("member[username]","wx_ognZN5Q2TtAWkz6z-82dKh0zTwu4"),Object(p.a)("member[rank]","1"),Object(p.a)("member[token]","295ab6b5a66839d7450f519f501c4f11_1565139287"),Object(p.a)("member[source]","wxxcx"),Object(p.a)("sessionid","85nag945vtahl3ee2hsj892226"),e.is_back?e.$router.go(-1):e.$router.replace({path:"/index"}))}}),computed:a()({},Object(m.b)(["number","carnum","isbind","score","news","newsnum","issign"]))},D={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("common-header",{attrs:{h_title:e.h_title,showback:!0,bgcolor:e.head_color}}),e._v(" "),o("return-top",{on:{returnTop:e.goTop}}),e._v(" "),o("div",{staticStyle:{height:"0.9rem"}}),e._v(" "),o("div",{staticClass:"login_bg"},[o("div",{staticClass:"login"},[o("div",{staticClass:"login-bg"},[o("img",{attrs:{src:e.loginImg,alt:"",srcset:""}})]),e._v(" "),o("div",{staticClass:"phone-btn",on:{click:e.phoneLogin}},[o("button",[o("img",{attrs:{src:e.iconPhoneImg,alt:""}}),e._v("\n          手机号快捷登录\n        ")])]),e._v(" "),o("div",{staticClass:"login_btn",on:{click:e.loginApp}},[o("button",[o("img",{attrs:{src:e.iconWImg,alt:""}}),e._v("\n          微信快速登录")])]),e._v(" "),o("div",{staticClass:"login_version"},[o("span",[e._v("账号登录")]),e._v(" "),o("span",[e._v(e._s(e.version))])])])])],1)},staticRenderFns:[]};var w=o("VU/8")(h,D,!1,function(e){o("6a0z")},"data-v-1475e43b",null);t.default=w.exports},"Z7+O":function(e,t){e.exports="data:image/png;base64,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"},y6k9:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAADL0lEQVRoQ+2ZTUgVURTHf6PWLoq0JDUiUBctatEHfUCELazEPqxNQS0iUiJtZUHRqmjRKqVHhbSoiKiIItOihVAgSEnQKvqAFpVgiBQmVqgv5r25vnnz3szce+dWFvNW85h779z/Pf9z/ueeYyVrTybR+dmzLCs9M5n6Yz84K4ln533Y+t7pYeOn3ltY2gBSG/d+SXHj7unKINLfMgzA3pEiCD/j+VrBbWkiAMj5sOWxiBggwQf3UCVCR6VQDo0UT99LIQms2UN0AARy1Q1A0QJe9gVaIkMjPR9YuwR2r4fFpVBUqHxuWRPGJ+DDENzrg0cv8gSGoOV1LFC/Cg7VwWQSPg7Bz/FoAGYWQUUJFBbA3T648FByPZ0oNG82XD4CwyNw/CoMDJvRgfJiOLMXSudASwe8/iQNQo1Cu9bBgVo4ewd6XprVgZqlcGwnXH8CV3okAOhYoLke6lZC80V4O+DDV8VIJHy9qgzON0JXP7R1BgCIogMtW2HLCjjsAMjKHiLqQLUDoLsfzgUBcGNTdWI3gHcDDv+zF0ybRTIHck+tLINEI/wxADaFcn4RdKBqASSa0hRq7wwJp7o64GcBOytNZaRCjSR8UAwRBqt0AQj0AZMUylJlzdMX6YjtxEoU0olCOU5s8D7wV5zY5H1AOHFoGBUUimoBOwrlTbg0dUD4QGgUinXAEbJYB1zh0KZirAMy2uMVslgHnFOzDyLWAV0KBSZ0Eot6c6FYB4IOLb4P+JxOrAMSvpYaEutAAIWmjQ607oBF8/Pv9NsYnLoJoz9y30+b+0Brgz+AkTE4fQtGv2cAxDqg0iP753VgqrR4Cd7kK8BqVibcyVzXc2h/8JvqQvtqYM+GTHFXlERM1IU2LoOjDdDxGG73SgZ21dJidTm0HYTBL3DiWro/MHXH1jx9e6uivD53Fuxvh89fJQDoVCXsZZs2w/Y1MDFpqMExAyqKocCCRDfcfyax+UxpRa0/IOZtWg7bVsPCEjMtpveDcOMp9L5SaDHpWsB9PibrQt4mv68dotSFvJs32R8QFfm4TxzmQv9FnziHSgb6A0rUiRqFxHyTdaEwy/sUD34Boz+Alx4qPc4AAAAASUVORK5CYII="}});
//# sourceMappingURL=6.49ee2f2b7315903cdf18.js.map