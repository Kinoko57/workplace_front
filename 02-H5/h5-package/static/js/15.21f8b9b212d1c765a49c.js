webpackJsonp([15],{"63l/":function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=e("fqE/"),l=e("Jtwt"),s=e("H9nE"),n=e.n(s),o=e("Au9i"),d=e("HUDw"),c={name:"WalletDetail",components:{commonHeader:i.a,InfiniteScroll:o.InfiniteScroll,Indicator:o.Indicator,Spinner:o.Spinner,returnTop:l.a,Button:o.Button},data:function(){return{h_title:"钱包明细",head_color:{background:"#fff",color:"#000"},nullImg:n.a,imgPath:"https://share.gongzhugou.com/static/image/xcx_img/",page:1,limit:10,total:0,proType:"scan",loading:!0,hasData:!0,detail_list:[],detailType:"2",showWalDetail:!1}},mounted:function(){this.getWalInfo()},methods:{getWalInfo:function(){o.Indicator.open("加载中...");var t=this,a={type:t.detailType,page:t.page,limit:t.limit};Object(d.F)(a).then(function(a){a.isSuccess&&(o.Indicator.close(),t.showWalDetail=!0,t.total=a.data.total,a.data.rows.length>0?(t.hasData=!0,t.loading=!1,a.data.rows.length<t.limit&&(t.loading=!0),t.detail_list=a.data.rows):t.hasData=!1)})},etailedType:function(t){this.detailType=t,this.total=0,this.loading=!0,this.page=1,document.getElementById("wallet_detail").scrollIntoView(!1),this.hasData=!0,this.detail_list=[],this.hasData=!0,this.getWalInfo()},loadMore:function(){this.loading=!0;var t=this,a={type:t.detailType,limit:t.limit,page:++t.page};console.log(a),console.log("zslfjsdlkfjsdl;kf"),Object(d.F)(a).then(function(a){a.isSuccess?(o.Indicator.close(),t.total=a.data.total,a.data.rows.length>0&&(t.loading=!1,t.detail_list=t.detail_list.concat(a.data.rows),a.data.rows.length<t.limit&&(t.loading=!0))):(t.total=0,t.detail_list=[],t.loading=!0)})},goTop:function(){console.log("回到顶部"),document.getElementById("wallet_detail").scrollIntoView({block:"start",behavior:"smooth"})}}},r={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("common-header",{attrs:{h_title:t.h_title,showback:!0,bgcolor:t.head_color}}),t._v(" "),t.showWalDetail?e("div",{staticClass:"wallet_detail"},[e("return-top",{on:{returnTop:t.goTop}}),t._v(" "),e("div",{staticStyle:{height:"0.9rem"},attrs:{id:"wallet_detail"}}),t._v(" "),e("div",{staticClass:"wallet_detail_nav"},[e("div",{class:"2"==t.detailType?"text_active":"text1",attrs:{id:"2"},on:{click:function(a){return t.etailedType("2")}}},[t._v("支出")]),t._v(" "),e("div",{class:"1"==t.detailType?"text_active":"text1",attrs:{id:"1"},on:{click:function(a){return t.etailedType("1")}}},[t._v("收入")])]),t._v(" "),e("div",{staticStyle:{height:"0.97rem"}}),t._v(" "),e("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMore,expression:"loadMore"}],staticClass:"wallet_detail_wraper",attrs:{"infinite-scroll-disabled":"loading","infinite-scroll-distance":"30","infinite-scroll-immediate-check":"autoOpen"}},[e("div",{staticClass:"wallet_detail_listwraper"},t._l(t.detail_list,function(a,i){return e("div",{key:i,staticClass:"wallet_detail_list"},[e("div",{staticClass:"wallet_detail_list_l"},[e("span",{staticClass:"text_tit"},[t._v(t._s(a.type_title))]),t._v(" "),e("span",{staticClass:"text_time"},[t._v(t._s(a.createtime))])]),t._v(" "),e("div",{staticClass:"wallet_detail_list_r"},["2"===t.detailType?e("span",{staticClass:"rede_money"},[t._v("-￥"+t._s(a.money))]):t._e(),t._v(" "),"1"===t.detailType?e("span",{staticClass:"add_money"},[t._v("+￥"+t._s(a.money))]):t._e()])])}),0),t._v(" "),t.loading?t._e():e("div",{staticClass:"more_load"},[e("mt-spinner",{attrs:{type:"fading-circle"}})],1),t._v(" "),t.total>0&&t.detail_list.length==t.total?e("div",{staticClass:"list_bottom"},[t._v("—————— 我是有底线的 ——————")]):t._e(),t._v(" "),0==t.hasData?e("div",{staticClass:"center"},[e("img",{attrs:{src:t.nullImg}}),t._v(" "),e("span",[t._v("没有发现任何数据哦~")])]):t._e()])],1):t._e()],1)},staticRenderFns:[]};var _=e("VU/8")(c,r,!1,function(t){e("K9JY")},"data-v-620a56e1",null);a.default=_.exports},H9nE:function(t,a,e){t.exports=e.p+"static/img/fans_null.a1ff98a.png"},K9JY:function(t,a){}});
//# sourceMappingURL=15.21f8b9b212d1c765a49c.js.map