{"version":3,"sources":["webpack:///src/views/index/activityList.vue","webpack:///./src/views/index/activityList.vue?fc68","webpack:///./src/views/index/activityList.vue"],"names":["activityList","name","components","commonHeader","common_header","Swipe","mint_ui_common","SwipeItem","returnTop","return_top","Lazyload","Toast","InfiniteScroll","Indicator","data","head_color","background","color","h_title","imgPath","isMember","this","$store","state","home","is_member","isShare","is_share","content_height","show_icon","isopen","isShow","headbg","content","bgColor","title","activity_id","newNews","total_amout","topNum","redShowList","redList","height","allowScorll","isSign","total","page","limit","is_end","top","hasData","is_load","mounted","console","log","$route","query","id","open","getList","methods","extends_default","Object","vuex_esm","setUserInfo","setInviter","setMember","setShare","goPro","type","$router","togo","path","goTop","document","getElementById","scrollIntoView","block","behavior","openText","e","that","setTimeout","api","then","res","close","isSuccess","moudule","list_img","undefined","list","rows","length","activated","window","localStorage","getItem","setItem","computed","index_activityList","render","_vm","_h","$createElement","_c","_self","attrs","bgcolor","_v","staticClass","on","src","class","_s","click","_e","style","_l","listblock","blockindex","key","item","index","$event","goods_id","gimg","promotion","mode","staticStyle","display","align-items","line-height","deal_type","price_sell","font-size","back_rebate","point","_m","justify-content","price_market_from","price_market","buy_count","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/57.d2b66b9611849a4389df.js","sourcesContent":["<template>\r\n  <div>\r\n    <common-header :h_title=\"h_title\" :bgcolor='head_color'></common-header>\r\n    <div class='activity' v-if=\"isShow\">\r\n      <div class='red_body' >\r\n        <!-- 返回顶部按钮 -->\r\n        <return-top @returnTop='goTop'></return-top>\r\n        <div class='sale_height' id='activity'></div>\r\n        <div class='activity_banner'>\r\n          <img :src=\"headbg\" />\r\n          <div :class=\"show_icon?'activity_content overflow_text':'activity_content'\" v-if=\"content!=''\">\r\n            <!--animation=\"animation\" -->\r\n            <div :class=\" isopen?'content_info show_content':'content_info hidden_content'\">{{content}}</div>\r\n            <div class=\"open_icon\" @click='openText' v-if=\"show_icon\">\r\n              <span v-if=\"isopen\">收起</span>\r\n              <span v-else>展开</span>\r\n              <i :class=\"isopen==false?'iconfont icon-jiantou-copy-copy':'iconfont icon-jiantou-copy-copy-copy'\">\r\n              </i>\r\n            </div>\r\n          </div>\r\n        </div>\r\n         <!-- v-infinite-scroll=\"loadMore\" infinite-scroll-disabled=\"is_load\" infinite-scroll-distance=\"30\" -->\r\n        <div class='red_list' v-if=\"hasData\" :style=\"{background:bgColor}\">\r\n          <div class=\"res_list_block\" v-for=\"(listblock,blockindex) in redShowList\" :key=\"blockindex\">\r\n            <div class='red_pro' v-for=\"(item,index) in listblock\" :key=\"index\" @click=\"goPro('normal',item.goods_id)\">\r\n              <div class='pro_img'>\r\n                <img :src=\"item.gimg\" />\r\n              </div>\r\n              <div class='pro_info'>\r\n                <div class='pro_title'>\r\n                  <div class='pro_level' v-if=\"item.promotion==1\">\r\n                    <img :src=\"imgPath+'member/cu.png'\" mode='aspectFit' />\r\n                    <span>限时购</span>\r\n                  </div>\r\n                  {{item.name}}\r\n                </div>\r\n                <div class='pro_spec'>\r\n                  <div class='pro_price'>\r\n                    <div style='display:flex;align-items:center;line-height:0.48rem;' v-if=\"activity_id!=2\">\r\n                      <span class='peo_nowprice' v-if=\"item.deal_type==1||item.deal_type==3\">￥{{item.price_sell}}<span\r\n                          style=\"color:#ff4e79;font-size:0.23rem\" v-if=\"isMember\"> / 赚{{item.back_rebate}}</span></span>\r\n                      <span class='peo_nowprice' v-if=\"item.deal_type>=4\">￥{{item.price_sell}}<span\r\n                          style=\"color:#ff4e79;font-size:0.23rem\" v-if=\"isMember\"> / 赚{{item.back_rebate}}</span></span>\r\n                      <span class='pro_integral' v-if=\"item.deal_type!=1&&item.deal_type!=2&&item.deal_type!=3\">+</span>\r\n                      <div class='pro_inter_img' v-if=\"item.deal_type!=1&&item.deal_type!=3\">\r\n                        <i class='iconfont icon-jifen1'></i>\r\n                      </div>\r\n                      <span class='pro_integral' v-if=\"item.deal_type==2\">{{item.point}}</span>\r\n                      <span class='pro_integral'\r\n                        v-if=\"item.deal_type!=1&&item.deal_type!=2&&item.deal_type!=3\">{{item.point}}</span>\r\n                    </div>\r\n                    <div style='display:flex;align-items:center;line-height:0.48rem;' v-if=\"activity_id==2\">\r\n                      <div class='pro_inter_img'>\r\n                        <i class='iconfont icon-jifen1'></i>\r\n                      </div>\r\n                      <span class='pro_integral'>{{item.point}}</span>\r\n                    </div>\r\n                    <div style='display:flex;align-items:center;justify-content:space-between;'>\r\n                      <div style='display:inline-flex;align-items:center;'>\r\n                        <span class='pro_orig pro_bg'>{{item.price_market_from}}</span>\r\n                        <span class='pro_orig line'>￥{{item.price_market}}</span>\r\n                      </div>\r\n                      <div class='pro_count'>销量:{{item.buy_count}}</div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class='more_load' v-if='!is_load'>\r\n          <mt-spinner type=\"fading-circle\"></mt-spinner>\r\n        </div>\r\n        <div class='red_list_null' v-if=\"!hasData\">\r\n          <img :src=\"imgPath+'pro/null_1.png'\" />\r\n          <!-- <span>暂无数据</span> -->\r\n        </div>\r\n        <div class='list_bottom' v-if='hasData&&is_end'>—————— 我是有底线的 ——————</div>\r\n        <!-- <div :class=\"is_iphonex?'null_height null_height_iphonex':'null_height'\"></div> -->\r\n        <div class='null_height'></div>\r\n      </div>\r\n      <!-- <include src=\"../footerTab/footerTab.wxml\" /> -->\r\n      <!-- <div class='goTop' hidden=\"isSign\" @click='returnTop'>\r\n        <i class='iconfont icon-huidaodingbu'></i>\r\n      </div> -->\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport commonHeader from 'common/common-header'\r\nimport {\r\n  mapMutations,\r\n  mapGetters\r\n} from 'vuex'\r\nimport {\r\n  InfiniteScroll,\r\n  Indicator,\r\n  Swipe,\r\n  SwipeItem,\r\n  Lazyload,\r\n  Toast\r\n} from 'mint-ui'\r\nimport returnTop from '@/components/return-top'\r\nimport {\r\n  getActivityListInfo\r\n} from '@/api/index'\r\nexport default {\r\n  name: 'ActivityList',\r\n  components: {\r\n    commonHeader,\r\n    Swipe,\r\n    SwipeItem,\r\n    returnTop,\r\n    Lazyload,\r\n    Toast,\r\n    InfiniteScroll,\r\n    Indicator\r\n  },\r\n  data() {\r\n    return {\r\n      head_color: {\r\n        background: '#f9f9f9',\r\n        color: '#000'\r\n      },\r\n      h_title: '活动列表',\r\n      imgPath: process.env.FilE_URL,\r\n      isMember: this.$store.state.home.is_member,\r\n      isShare: this.$store.state.home.is_share,\r\n      content_height: 0,\r\n      show_icon: true,\r\n      isopen: true,\r\n      isShow: false,\r\n      headbg: '',\r\n      content: '',\r\n      bgColor: '#fff',\r\n      title: '',\r\n      activity_id: '',\r\n      newNews: false,\r\n      total_amout: 0,\r\n      topNum: 0,\r\n      redShowList: [],\r\n      redList: [],\r\n      height: '',\r\n      allowScorll: true,\r\n      isSign: true,\r\n      total: 0,\r\n      page: 0,\r\n      limit: 6,\r\n      is_end: false,\r\n      top: 0,\r\n      hasData: true,\r\n      is_load: false\r\n    //   is_iphonex: app.globalData.phoneType\r\n    }\r\n  },\r\n  mounted() {\r\n    console.log(this.$route.query)\r\n    this.activity_id = this.$route.query.id\r\n    this.redShowList = []\r\n    this.isMember = this.$store.state.home.is_member\r\n    this.isShare = this.$store.state.home.is_share\r\n    Indicator.open('加载中...')\r\n    this.redShowList = []\r\n    this.redList = []\r\n    this.page = 0\r\n    this.is_load = true\r\n    this.getList()\r\n  },\r\n  methods: {\r\n    ...mapMutations({\r\n      setUserInfo: 'SET_USERINFO',\r\n      setInviter: 'SET_INVITER',\r\n      setMember: 'SET_MEMBER',\r\n      setShare: 'SET_SHARE'\r\n    }),\r\n    goPro(type, id) {\r\n    //   wx.navigateTo({\r\n    //     url: e.currentTarget.dataset.link\r\n    //   })\r\n      this.$router.togo({\r\n        path: '/proDetail?type=' + type + '&id=' + id\r\n      })\r\n    },\r\n    goTop() {\r\n      console.log('回到顶部')\r\n      document.getElementById('activity').scrollIntoView({\r\n        block: 'start',\r\n        behavior: 'smooth'\r\n      })\r\n    },\r\n    openText: function(e) {\r\n      console.log(e)\r\n      const that = this\r\n      if (this.isopen) {\r\n      // that.animation.height(70).step()\r\n        that.isopen = false\r\n      } else {\r\n        console.log(that.content_height)\r\n        // that.animation.height(that.content_height).step()\r\n        // that.setData({\r\n        //   animation: that.animation.export()\r\n        // })\r\n        setTimeout(function() {\r\n          that.isopen = true\r\n        }, 400)\r\n      }\r\n    },\r\n    getList: function() {\r\n      var that = this\r\n      getActivityListInfo(that.activity_id).then(res => {\r\n        Indicator.close()\r\n        if (res.isSuccess) {\r\n          that.h_title = res.data.moudule.title\r\n          //   wx.setNavigationBarTitle({\r\n          //     title: res.data.moudule.title\r\n          //   })\r\n          that.headbg = res.data.moudule.list_img\r\n          that.content = res.data.moudule.content\r\n          that.title = res.data.moudule.title\r\n          that.bgColor = res.data.moudule.color\r\n          that.isShow = true\r\n          //   if (res.data.moudule.content != '') {\r\n          //     if (that.content_height > 70) {\r\n          //       that.show_icon = true\r\n          //       that.isopen = false\r\n          //     } else {\r\n          //       var query = wx.createSelectorQuery()\r\n          //       query.select('.content_info').boundingClientRect()\r\n          //       query.exec(function (res) {\r\n          //         that.setData({\r\n          //           content_height: res[0].height\r\n          //         })\r\n          //         console.log(res[0].height)\r\n          //         if (res[0].height <= 80) {\r\n          //           that.setData({\r\n          //             show_icon: false,\r\n          //             isopen: false\r\n          //           })\r\n          //         } else {\r\n          //           that.setData({\r\n          //             show_icon: true,\r\n          //             isopen: false\r\n          //           })\r\n          //         }\r\n          //       })\r\n          //     }\r\n          //   }\r\n          if (res.data.list.rows !== undefined && res.data.list.rows.length > 0) {\r\n            // let currentpage = that.page\r\n            that.redList = res.data.list.rows\r\n            that.redShowList = res.data.list.rows\r\n            // if (currentpage === 0) {\r\n            //   that.redShowList = []\r\n            // }\r\n            // that.redShowList[currentpage] = res.data.list.rows[currentpage]\r\n            // that.total = res.data.list.total\r\n            // that.limit = res.data.list.limit\r\n            // that.hasData = true\r\n            // that.is_end = false\r\n\r\n            // that.setData({\r\n            //   ['redShowList[' + currentpage + ']']: res.data.list.rows[currentpage],\r\n            //   total: res.data.list.total,\r\n            //   limit: res.data.list.limit,\r\n            //   hasData: true,\r\n            //   is_end: false,\r\n            //   isShow: true\r\n            // })\r\n            // 如果一页加载数据等于总条数\r\n            // if (res.data.list.rows[currentpage].length < res.data.list.limit || res.data.list.rows.length === 1) {\r\n            that.is_load = true\r\n            that.hasData = true\r\n            that.is_end = true\r\n            that.isShow = true\r\n            // }\r\n          } else {\r\n            that.is_load = true\r\n            that.hasData = false\r\n            that.is_end = true\r\n          }\r\n        }\r\n      })\r\n    }\r\n    // loadMore: function() {\r\n    //   var that = this\r\n    //   console.log('加载下一页')\r\n    //   this.is_load = true\r\n    //   console.log(that.redList)\r\n    //   console.log(that.page)\r\n    //   console.log(that.redList.length)\r\n    //   if (that.page < that.redList.length - 1) {\r\n    //     ++that.page\r\n    //     let currentpage = that.page\r\n    //     that.redShowList[currentpage] = that.redList[currentpage]\r\n    //     that.is_end = false\r\n    //     that.is_load = false\r\n    //     //   that.setData({\r\n    //     //     ['redShowList[' + currentpage + ']']: that.redList[currentpage],\r\n    //     //     is_end: false,\r\n    //     //     is_load: true\r\n    //     //   })\r\n    //     console.log(that.redList[currentpage].length)\r\n    //     console.log(that.limit)\r\n    //     if (that.redList[currentpage].length < that.limit || currentpage == that.redList.length) {\r\n    //       that.is_end = true\r\n    //       that.is_load = true\r\n    //       that.hasData = true\r\n    //       // that.setData({\r\n    //       //   is_load: false,\r\n    //       //   hasData: true,\r\n    //       //   is_end: true\r\n    //       // })\r\n    //     }\r\n    //   } else {\r\n    //     that.is_end = true\r\n    //     that.is_load = true\r\n    //     that.hasData = true\r\n    //     //   that.setData({\r\n    //     //     is_load: false,\r\n    //     //     hasData: true,\r\n    //     //     is_end: true\r\n    //     //   })\r\n    //   }\r\n    //   console.log(this.redShowList)\r\n    // }\r\n  },\r\n  activated() {\r\n    console.log(window.localStorage.getItem('backDetail'))\r\n    if (window.localStorage.getItem('backDetail') == 'false' || window.localStorage.getItem('backDetail') == false) {\r\n      console.log(this.$route.query)\r\n      this.activity_id = this.$route.query.id\r\n      this.redShowList = []\r\n      this.isMember = this.$store.state.home.is_member\r\n      this.isShare = this.$store.state.home.is_share\r\n      Indicator.open('加载中...')\r\n      this.redShowList = []\r\n      this.redList = []\r\n      this.page = 0\r\n      this.is_load = true\r\n      this.getList()\r\n    } else {\r\n      window.localStorage.setItem('backDetail', false)\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters([\r\n      'number',\r\n      'carnum',\r\n      'isbind',\r\n      'score',\r\n      'news',\r\n      'newsnum',\r\n      'issign'\r\n    ])\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n.sale_height {\r\n    height: 0.9rem;\r\n}\r\n.activity .activity_banner{\r\n  width: 750/100rem;\r\n}\r\n.activity .activity_banner img {\r\n  width: 7.5rem;\r\n  min-height:500/100rem;\r\n  display: block;\r\n}\r\n\r\n.activity .activity_content {\r\n  font-size: 24/100rem;\r\n  color: #888;\r\n  padding: 20/100rem;\r\n  background: #fff;\r\n  margin-bottom: 10/100rem;\r\n  line-height: 2;\r\n  text-indent: 43/100rem;\r\n  position: relative;\r\n}\r\n.activity .overflow_text{\r\n  /* padding-bottom: 46/100rem; */\r\n  min-height: 160/100rem;\r\n}\r\n.activity .activity_content .open_icon{\r\n  position: absolute;\r\n  left: 49%;\r\n  transform: translateX(-50%);\r\n  bottom: 0;\r\n  color: #333;\r\n}\r\n.activity .show_content{\r\n  margin-bottom: 30/100rem;\r\n}\r\n.activity .hidden_content{\r\n  display: -webkit-box;\r\n  -webkit-box-orient: vertical;\r\n  -webkit-line-clamp: 3;\r\n  overflow: hidden;\r\n  /* height: 140/100rem; */\r\n  /* transition: all 5s; */\r\n}\r\n.open_icon icon{\r\n  font-size:24/100rem;\r\n  margin-left:-35/100rem;\r\n}\r\n.red_body {\r\n  height: 100%;\r\n}\r\n\r\n.red_list {\r\n  overflow: hidden;\r\n  padding: 0 20/100rem;\r\n  background: #fff;\r\n  padding-bottom: 24/100rem;\r\n}\r\n\r\n.red_list_null {\r\n  text-align: center;\r\n  font-size: 30/100rem;\r\n  /* font-weight: bold; */\r\n  padding: 70/100rem 0;\r\n}\r\n.red_list_null img{\r\n  display: inline-block;\r\n  width: 750/100rem;\r\n  height: 357/100rem;\r\n}\r\n\r\n.red_list .chose_date {\r\n  color: #686868;\r\n  font-size: 28/100rem;\r\n  margin-left: 26/100rem;\r\n  font-family: 'DIN';\r\n}\r\n\r\n/* 订单商品信息 */\r\n.res_list_block{\r\n  width: 100%;\r\n  overflow: hidden;\r\n}\r\n.red_list .red_pro {\r\n  /* width: 346/100rem;\r\n  background: #fff;\r\n  text-align: center;\r\n  float: left;\r\n  margin-bottom: 24/100rem; */\r\n  width: 346/100rem;\r\n  float: left;\r\n  background: #fff;\r\n  /* margin-bottom: 24/100rem; */\r\n  margin-top: 24/100rem;\r\n  position: relative;\r\n  min-height: 506/100rem;\r\n}\r\n\r\n.red_list .red_pro:nth-child(odd) {\r\n  float: left;\r\n}\r\n\r\n.red_list .red_pro:nth-child(even) {\r\n  float: right;\r\n}\r\n\r\n/* .red_pro .pro_img {\r\n  float: left;\r\n  margin-left: 18/100rem;\r\n  margin-right: 30/100rem;\r\n  position: relative;\r\n} */\r\n.pro_img{\r\n  width: 3.46rem;\r\n  height: 3.46rem;\r\n}\r\n.pro_img img {\r\n  width: 3.46rem;\r\n  height: 3.46rem;\r\n}\r\n\r\n.red_pro .pro_info {\r\n  width: 100%;\r\n}\r\n\r\n.pro_info .pro_title {\r\n  font-size: 26/100rem;\r\n  color: #333;\r\n  margin-top: 10/100rem;\r\n  display: -webkit-box;\r\n  -webkit-box-orient: vertical;\r\n  -webkit-line-clamp: 2;\r\n  overflow: hidden;\r\n  height: 70/100rem;\r\n  padding: 0 10/100rem;\r\n}\r\n\r\n.pro_info .pro_title  img {\r\n  width: 0.68rem;\r\n  height: 0.24rem;\r\n}\r\n\r\n.pro_title  .pro_level {\r\n  width: 68/100rem;\r\n  display: inline-flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  position: relative;\r\n  height: 24/100rem;\r\n}\r\n\r\n.pro_title  .pro_level span {\r\n  font-size: 16/100rem;\r\n  color: #fefefe;\r\n  position: absolute;\r\n  left: 46%;\r\n  top: 50%;\r\n  transform: translate(-50%, -50%);\r\n  white-space: nowrap;\r\n}\r\n\r\n.pro_level .iconfont {\r\n  color: #ff4e79;\r\n  display: inline-flex;\r\n}\r\n\r\n.pro_level span {\r\n  color: #fff;\r\n  font-size: 22/100rem;\r\n}\r\n\r\n.pro_info .pro_spec {\r\n  /* padding: 0 26/100rem; */\r\n  text-align: left;\r\n  /* padding-bottom: 10/100rem; */\r\n  margin-top: 10/100rem;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.pro_spec .pro_price {\r\n  font-family: 'DIN';\r\n  width: 100%;\r\n  padding: 10/100rem;\r\n  /* display: flex;\r\n  align-items: center; */\r\n}\r\n\r\n.pro_price .peo_nowprice {\r\n  color: #ff4e79;\r\n  font-size: 32/100rem;\r\n  font-weight: bold;\r\n}\r\n\r\n.pro_price .pro_integral {\r\n  font-size: 32/100rem;\r\n  font-weight: bold;\r\n  color: #ff4e79;\r\n  /* font-weight: bold; *//* margin-left: 8/100rem; */\r\n}\r\n\r\n.pro_price .pro_inter_img {\r\n  display: inline-flex;\r\n  align-items: flex-end;\r\n  /* margin-left: 9/100rem; *//* margin-right: 30/100rem; */\r\n}\r\n\r\n.pro_price .pro_inter_img .iconfont {\r\n  font-size: 32/100rem;\r\n  font-weight: bold;\r\n  color: #ff4e79;\r\n  display: inline-flex;\r\n}\r\n\r\n.pro_price .pro_orig {\r\n  font-size: 24/100rem;\r\n  color: #888;\r\n}\r\n\r\n.pro_price .pro_bg {\r\n  background: #ff4e79;\r\n  color: #fff;\r\n  border-radius: 8/100rem;\r\n  text-align: center;\r\n  font-size: 20/100rem;\r\n  margin-right: 10/100rem;\r\n  /* width: 100/100rem; */\r\n  padding: 0 8/100rem;\r\n}\r\n\r\n.pro_price .line {\r\n  text-decoration: line-through;\r\n  /* margin-left: 14/100rem; */\r\n}\r\n\r\n.pro_price .pro_count {\r\n  font-size: 23/100rem;\r\n  color: #888;\r\n}\r\n\r\n.pro_spec .pro_btn {\r\n  margin-right: 4/100rem;\r\n  display: flex;\r\n  border-radius: 6/100rem;\r\n}\r\n\r\n.pro_other {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  font-size: 23/100rem;\r\n  color: #999;\r\n  padding: 0 26/100rem;\r\n  padding-bottom: 10/100rem;\r\n}\r\n\r\n.pro_btn button {\r\n  width: 170/100rem;\r\n  height: 52/100rem;\r\n  background: #ff4e79;\r\n  color: #fff;\r\n  font-size: 26/100rem;\r\n  padding: 0/100rem 20/100rem;\r\n  line-height: 52/100rem;\r\n  border-radius: 50/100rem;\r\n}\r\n\r\n.pro_btn button::after {\r\n  border: none;\r\n}\r\n\r\n.order-red {\r\n  height: 84/100rem;\r\n  line-height: 84/100rem;\r\n  /* background: #fff; */\r\n  text-align: center;\r\n  background: #f2f2f2;\r\n}\r\n\r\n.order-red span {\r\n  font-size: 23.97/100rem;\r\n  color: #bebebe;\r\n}\r\n  .more_load {\r\n    display: flex;\r\n    justify-content: center;\r\n  }\r\n\r\n  .list_bottom {\r\n    height: 84/100rem;\r\n    line-height: 84/100rem;\r\n    text-align: center;\r\n    background: #f2f2f2;\r\n    font-size: 23.97/100rem;\r\n    color: #bebebe;\r\n  }\r\n\r\n  /* 空白的块，解决底部导航占领高度 */\r\n\r\n  .null_height {\r\n    height: 100/100rem;\r\n    background: #f2f2f2;\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/index/activityList.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('common-header',{attrs:{\"h_title\":_vm.h_title,\"bgcolor\":_vm.head_color}}),_vm._v(\" \"),(_vm.isShow)?_c('div',{staticClass:\"activity\"},[_c('div',{staticClass:\"red_body\"},[_c('return-top',{on:{\"returnTop\":_vm.goTop}}),_vm._v(\" \"),_c('div',{staticClass:\"sale_height\",attrs:{\"id\":\"activity\"}}),_vm._v(\" \"),_c('div',{staticClass:\"activity_banner\"},[_c('img',{attrs:{\"src\":_vm.headbg}}),_vm._v(\" \"),(_vm.content!='')?_c('div',{class:_vm.show_icon?'activity_content overflow_text':'activity_content'},[_c('div',{class:_vm.isopen?'content_info show_content':'content_info hidden_content'},[_vm._v(_vm._s(_vm.content))]),_vm._v(\" \"),(_vm.show_icon)?_c('div',{staticClass:\"open_icon\",on:{\"click\":_vm.openText}},[(_vm.isopen)?_c('span',[_vm._v(\"收起\")]):_c('span',[_vm._v(\"展开\")]),_vm._v(\" \"),_c('i',{class:_vm.isopen==false?'iconfont icon-jiantou-copy-copy':'iconfont icon-jiantou-copy-copy-copy'})]):_vm._e()]):_vm._e()]),_vm._v(\" \"),(_vm.hasData)?_c('div',{staticClass:\"red_list\",style:({background:_vm.bgColor})},_vm._l((_vm.redShowList),function(listblock,blockindex){return _c('div',{key:blockindex,staticClass:\"res_list_block\"},_vm._l((listblock),function(item,index){return _c('div',{key:index,staticClass:\"red_pro\",on:{\"click\":function($event){return _vm.goPro('normal',item.goods_id)}}},[_c('div',{staticClass:\"pro_img\"},[_c('img',{attrs:{\"src\":item.gimg}})]),_vm._v(\" \"),_c('div',{staticClass:\"pro_info\"},[_c('div',{staticClass:\"pro_title\"},[(item.promotion==1)?_c('div',{staticClass:\"pro_level\"},[_c('img',{attrs:{\"src\":_vm.imgPath+'member/cu.png',\"mode\":\"aspectFit\"}}),_vm._v(\" \"),_c('span',[_vm._v(\"限时购\")])]):_vm._e(),_vm._v(\"\\n                \"+_vm._s(item.name)+\"\\n              \")]),_vm._v(\" \"),_c('div',{staticClass:\"pro_spec\"},[_c('div',{staticClass:\"pro_price\"},[(_vm.activity_id!=2)?_c('div',{staticStyle:{\"display\":\"flex\",\"align-items\":\"center\",\"line-height\":\"0.48rem\"}},[(item.deal_type==1||item.deal_type==3)?_c('span',{staticClass:\"peo_nowprice\"},[_vm._v(\"￥\"+_vm._s(item.price_sell)),(_vm.isMember)?_c('span',{staticStyle:{\"color\":\"#ff4e79\",\"font-size\":\"0.23rem\"}},[_vm._v(\" / 赚\"+_vm._s(item.back_rebate))]):_vm._e()]):_vm._e(),_vm._v(\" \"),(item.deal_type>=4)?_c('span',{staticClass:\"peo_nowprice\"},[_vm._v(\"￥\"+_vm._s(item.price_sell)),(_vm.isMember)?_c('span',{staticStyle:{\"color\":\"#ff4e79\",\"font-size\":\"0.23rem\"}},[_vm._v(\" / 赚\"+_vm._s(item.back_rebate))]):_vm._e()]):_vm._e(),_vm._v(\" \"),(item.deal_type!=1&&item.deal_type!=2&&item.deal_type!=3)?_c('span',{staticClass:\"pro_integral\"},[_vm._v(\"+\")]):_vm._e(),_vm._v(\" \"),(item.deal_type!=1&&item.deal_type!=3)?_c('div',{staticClass:\"pro_inter_img\"},[_c('i',{staticClass:\"iconfont icon-jifen1\"})]):_vm._e(),_vm._v(\" \"),(item.deal_type==2)?_c('span',{staticClass:\"pro_integral\"},[_vm._v(_vm._s(item.point))]):_vm._e(),_vm._v(\" \"),(item.deal_type!=1&&item.deal_type!=2&&item.deal_type!=3)?_c('span',{staticClass:\"pro_integral\"},[_vm._v(_vm._s(item.point))]):_vm._e()]):_vm._e(),_vm._v(\" \"),(_vm.activity_id==2)?_c('div',{staticStyle:{\"display\":\"flex\",\"align-items\":\"center\",\"line-height\":\"0.48rem\"}},[_vm._m(0,true),_vm._v(\" \"),_c('span',{staticClass:\"pro_integral\"},[_vm._v(_vm._s(item.point))])]):_vm._e(),_vm._v(\" \"),_c('div',{staticStyle:{\"display\":\"flex\",\"align-items\":\"center\",\"justify-content\":\"space-between\"}},[_c('div',{staticStyle:{\"display\":\"inline-flex\",\"align-items\":\"center\"}},[_c('span',{staticClass:\"pro_orig pro_bg\"},[_vm._v(_vm._s(item.price_market_from))]),_vm._v(\" \"),_c('span',{staticClass:\"pro_orig line\"},[_vm._v(\"￥\"+_vm._s(item.price_market))])]),_vm._v(\" \"),_c('div',{staticClass:\"pro_count\"},[_vm._v(\"销量:\"+_vm._s(item.buy_count))])])])])])])}),0)}),0):_vm._e(),_vm._v(\" \"),(!_vm.is_load)?_c('div',{staticClass:\"more_load\"},[_c('mt-spinner',{attrs:{\"type\":\"fading-circle\"}})],1):_vm._e(),_vm._v(\" \"),(!_vm.hasData)?_c('div',{staticClass:\"red_list_null\"},[_c('img',{attrs:{\"src\":_vm.imgPath+'pro/null_1.png'}})]):_vm._e(),_vm._v(\" \"),(_vm.hasData&&_vm.is_end)?_c('div',{staticClass:\"list_bottom\"},[_vm._v(\"—————— 我是有底线的 ——————\")]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"null_height\"})],1)]):_vm._e()],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"pro_inter_img\"},[_c('i',{staticClass:\"iconfont icon-jifen1\"})])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-47dbf9c4\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/index/activityList.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-47dbf9c4\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./activityList.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./activityList.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./activityList.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-47dbf9c4\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./activityList.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-47dbf9c4\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/index/activityList.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}