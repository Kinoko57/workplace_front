webpackJsonp([44],{Fa8K:function(t,i){},KyDH:function(t,i,o){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var s=o("fqE/"),n=o("Au9i"),e=o("gyMJ"),a={name:"GroupBy",components:{commonHeader:s.a,InfiniteScroll:n.InfiniteScroll,Indicator:n.Indicator,Button:n.Button,Lazyload:n.Lazyload,Spinner:n.Spinner,Toast:n.Toast,Loadmore:n.Loadmore},data:function(){return{h_title:"我的团购",groupType:0,p:1,limit:4,orderList:[],tips:"您暂时没有团购商品，赶快去开团或拼团吧",total:0,isShow:!1,loading:!0}},mounted:function(){n.Indicator.open("加载中..."),this.getList()},methods:{goTop:function(){console.log("回到顶部"),document.getElementById("group").scrollIntoView({block:"start",behavior:"smooth"})},goIndex:function(){this.$router.replace({path:"/index"})},viewGroupType:function(t){n.Indicator.open("加载中..."),this.groupType=t,this.p=1,this.getList()},goLink:function(){this.$router.togo({path:"/myGroupBy"})},goPro:function(t,i){this.$router.togo({path:t+i})},getList:function(){var t=this,i={status:t.groupType,p:t.p,limit:t.limit};Object(e.U)(i).then(function(i){t.isShow=!0,n.Indicator.close(),i.isSuccess?(null===i.data?(i.data=[],t.loading=!0):t.loading=!1,t.orderList=i.data,t.total=i.total):(0===t.groupType?t.tips="您暂时没有团购商品，赶快去开团或拼团吧！":2===t.groupType?t.tips="您暂时没有拼团成功的商品，赶快去开团或拼团吧！":-1===t.groupType?t.tips="您暂时没有拼团失败的商品，赶快去开团或拼团吧！":t.tips="您暂时没有拼团中的商品，赶快去开团或拼团吧！",t.loading=!0,t.orderList=[],t.total=0)})},loadMore:function(){console.log(1);var t=this;t.loading=!0;var i={status:t.groupType,p:++t.p,limit:t.limit};Object(e.U)(i).then(function(i){n.Indicator.close(),i.isSuccess&&(null===i.data&&(i.data=[],t.loading=!0),t.orderList=t.orderList.concat(i.data),t.total=i.total,t.loading=!1)})}}},r={render:function(){var t=this,i=t.$createElement,o=t._self._c||i;return o("div",[o("common-header",{attrs:{h_title:t.h_title,showback:!0}}),t._v(" "),o("return-top",{on:{returnTop:t.goTop}}),t._v(" "),o("div",{staticStyle:{height:"1.8rem"},attrs:{id:"group"}}),t._v(" "),t.isShow?o("div",{staticClass:"mytryOut"},[o("div",{staticClass:"tryOut_body"},[o("div",{staticClass:"try_nav"},[o("span",{class:"0"==t.groupType?"text_active":"",on:{click:function(i){return t.viewGroupType(0)}}},[t._v("全部")]),t._v(" "),o("span",{class:"1"==t.groupType?"text_active":"",on:{click:function(i){return t.viewGroupType(1)}}},[t._v("进行中")]),t._v(" "),o("span",{class:"2"==t.groupType?"text_active":"",on:{click:function(i){return t.viewGroupType(2)}}},[t._v("成功")]),t._v(" "),o("span",{class:"-1"==t.groupType?"text_active":"",on:{click:function(i){return t.viewGroupType(-1)}}},[t._v("失败")])]),t._v(" "),o("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMore,expression:"loadMore"}],staticClass:"order_list",attrs:{"infinite-scroll-disabled":"loading","infinite-scroll-distance":"30"}},[t._l(t.orderList,function(i,s){return o("div",{key:s,staticClass:"sale_pro"},[o("div",{staticClass:"proInfo"},[o("div",{staticClass:"order_status"},["2"==i.status?o("i",{staticClass:"iconfont icon-pintuanchenggong iconred"}):t._e(),t._v(" "),"-1"==i.status?o("i",{staticClass:"iconfont icon-pintuanshibai"}):t._e(),t._v(" "),"1"==i.status?o("i",{staticClass:"iconfont icon-jinhangzhong icongreen"}):t._e()]),t._v(" "),o("div",{staticClass:"pro_img",on:{click:function(o){return t.goPro("/orderDetail?id=",i.order_id)}}},[o("img",{attrs:{src:i.img}})]),t._v(" "),o("div",{staticClass:"pro_info"},[o("div",{staticClass:"pro_title",on:{click:function(o){return t.goPro("/orderDetail?id=",i.order_id)}}},[t._v(t._s(i.name))]),t._v(" "),o("div",{staticClass:"pro_spec"},[o("div",{staticClass:"pro_price"},[o("i",{staticClass:"iconfont icon-tuangou3"}),t._v(" "),o("span",{staticClass:"pro_integral"},[t._v(t._s(i.startnum)+"人拼")]),t._v(" "),o("span",{staticClass:"peo_nowprice"},[t._v("¥"+t._s(i.price))])])]),t._v(" "),o("div",{staticClass:"pro_orig"},[t._v("\n                市场价\n                "),o("span",[t._v("¥"+t._s(i.price_market))])])])]),t._v(" "),o("div",{staticClass:"pro_btn"},[o("mt-button",{staticClass:"btn_red",attrs:{size:"small"},on:{click:function(o){return t.goPro("/orderDetail?id=",i.order_id)}}},[t._v("订单详情")]),t._v(" "),o("mt-button",{staticClass:"btn_red",attrs:{size:"small",id:"item.id"},on:{click:function(o){return t.goPro("/groupResult?type=view&orderId=",i.id)}}},[t._v("拼购详情")])],1)])}),t._v(" "),t.orderList.length<=0?o("div",{staticClass:"cou_tips"},[o("span",[t._v(t._s(t.tips))]),t._v(" "),o("mt-button",{staticClass:"btn_red",on:{click:t.goLink}},[t._v("去团购专场看看")])],1):t._e(),t._v(" "),t.loading?t._e():o("div",{staticClass:"more_load"},[o("mt-spinner",{attrs:{type:"fading-circle"}})],1),t._v(" "),t.orderList.length==t.total&&t.orderList.length>0?o("div",{staticClass:"order-foot"},[o("span",[t._v("—————— 我是有底线的 ——————")])]):t._e()],2)])]):t._e(),t._v(" "),o("div",{staticClass:"goIndex",attrs:{"data-link":"../index/index"},on:{click:t.goIndex}},[o("i",{staticClass:"iconfont icon-home"})])],1)},staticRenderFns:[]};var c=o("VU/8")(a,r,!1,function(t){o("Fa8K")},"data-v-5baa5641",null);i.default=c.exports}});
//# sourceMappingURL=44.f64b9fcb979b19a9daa8.js.map