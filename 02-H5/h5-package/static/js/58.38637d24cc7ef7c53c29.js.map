{"version":3,"sources":["webpack:///src/views/other/addComment.vue","webpack:///./src/views/other/addComment.vue?464e","webpack:///./src/views/other/addComment.vue"],"names":["addComment","name","components","commonHeader","common_header","InfiniteScroll","mint_ui_common","Indicator","Button","Lazyload","Toast","data","h_title","morePro","proNum","wNum","pNum","fNum","orderInfo","orderId","proInfo","procomm","tempFilePaths","imgs","allComm","uploadimgList","uploadOk","imgShow","img_show_big","hiddenUploadImg","showToast","imgPath","mounted","console","log","this","$route","query","options","num","getOrder","methods","showUpload","hiddenModel","goTop","document","getElementById","scrollIntoView","block","behavior","choseStar","type","id","parseInt","bindTextAreaBlur","value","that","info","order_id","Object","api","then","res","isSuccess","rows","iscomment","order_items","addComm","i","len","length","product_id","addImg","onchange","e","file","target","files","size","message","duration","push","URL","createObjectURL","choseCra","System","window","plus","cmr","camera","getCamera","supportedImageResolutions","fmt","supportedImageFormats","captureImage","path","io","resolveLocalFileSystemURL","entry","zip","compressImage","src","toLocalURL","dst","quality","overwrite","url","fileReader","FileReader","readAsDataURL","onloadend","dataURLtoBlob","result","toString","error","resolution","format","dataurl","arr","split","mime","match","bstr","atob","replace","n","u8arr","Uint8Array","charCodeAt","Blob","uploadImg","_this","success","fail","param","FormData","append","axios_default","a","post","headers","Content-Type","withCredentials","response","goods_id","pid","score","server_score","express_score","goods_comment","file_path","join","close","iconClass","setTimeout","$router","back","msg","catch","delImg","index","splice","previewImg","hiddenImg","saveCom","open","slice","other_addComment","render","_vm","_h","$createElement","_c","_self","attrs","showback","_v","on","returnTop","staticStyle","height","_e","staticClass","product_img_src","_s","display","align-items","point","price","title","nums","directives","rawName","expression","auto-height","placeholder","placeholder-class","domProps","blur","$event","input","composing","_l","item","key","click","hidden","_m","class","data-pid","is_up","catchtouchmove","alt","accept","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/58.38637d24cc7ef7c53c29.js","sourcesContent":["<template>\r\n  <div>\r\n    <common-header :h_title=\"h_title\" :showback=\"true\"></common-header>\r\n    <return-top @returnTop='goTop'></return-top>\r\n    <div style='height:0.9rem' id='AddComment'></div>\r\n    <div class='add_com' v-if='!morePro'>\r\n      <div class='addComlist'>\r\n        <div class='comInfo'>\r\n          <div class='comPro'>\r\n            <div class='pro_img'>\r\n              <img :src='proInfo.product_img_src' />\r\n            </div>\r\n            <div class='pro_info'>\r\n              <div class='pro_title'>{{proInfo.name}}</div>\r\n              <div class='pro_spec'>\r\n                <div class='pro_price'>\r\n                  <div style='display:flex;align-items:center;'>\r\n                    <div class='pro_inter_img' v-if='proInfo.point>0'>\r\n                      <i class='iconfont icon-jifen1'></i>\r\n                    </div>\r\n                    <span class='pro_integral' v-if='proInfo.point>0'>{{proInfo.point}}</span>\r\n                    <span class='pro_integral' v-if='proInfo.point>0&&proInfo.price>0'>+</span>\r\n                    <span class='peo_nowprice' v-if='proInfo.price>0'>¥{{proInfo.price}}</span>\r\n                  </div>\r\n                </div>\r\n                <div class='pro_weight'>\r\n                  <span>{{proInfo.title}}*{{proInfo.nums}}</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class='comText'>\r\n            <textarea @blur=\"bindTextAreaBlur(procomm)\" v-model='procomm' auto-height\r\n              placeholder=\"商品是否满足您的期待？说说它的优点或美中不足吧\" placeholder-class=\"phcolor\" />\r\n            <div class='com_imgList'>\r\n                <div class='imgBlock' v-for=\"(item,index) in imgs\" :key=\"index\">\r\n                    <i class='iconfont icon-to-remove' @click='delImg(index)'></i>\r\n                    <span></span>\r\n                    <img :src='item' @click=\"previewImg(item)\"/>\r\n                </div>\r\n            <div @click='showUpload' class='hidden_input'>\r\n                <!-- <input type=\"file\" accept=\"image/*\" id='album' name=\"pic\"> -->\r\n                <i class='iconfont icon-addpictures addicon' :hidden='imgs.length==9'></i>\r\n            </div>\r\n            </div>\r\n        </div>\r\n        <div class='comStar'>\r\n            <div class='title'>\r\n                <i class='iconfont icon-shop'></i>\r\n                <span>商品评分：</span>\r\n            </div>\r\n            <div class='starInfo'>\r\n                <div class='starTitle'>\r\n                <span>商品描述：</span>\r\n                </div>\r\n                <div class='star'>\r\n                    <i :class=\"index<pNum?'iconfont icon-xingping light':'iconfont icon-star'\" v-for='(item,index) in 5' :key='index' @click=\"choseStar('p',index)\"></i>\r\n                </div>\r\n            </div>\r\n            <div class='starInfo'>\r\n                <div class='starTitle'>\r\n                    <span>物流服务：</span>\r\n                </div>\r\n                <div class='star'>\r\n                    <i :class=\" index<wNum?'iconfont icon-xingping light':'iconfont icon-star'\" v-for='(item,index) in 5' :key='index' @click=\"choseStar('w',index)\"></i>\r\n                </div>\r\n            </div>\r\n            <div class='starInfo'>\r\n                <div class='starTitle'>\r\n                    <span>服务评价：</span>\r\n                </div>\r\n                <div class='star'>\r\n                    <i :class=\"index<fNum?'iconfont icon-xingping light':'iconfont icon-star'\" v-for='(item,index) in 5' :key='index' @click=\"choseStar('f',index)\"></i>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        </div>\r\n        <div class='comBtn'>\r\n        <mt-button size='normal' @click='saveCom(proInfo.goods_id,proInfo.product_id)' id='proInfo.goods_id' data-pid='proInfo.product_id'>完成</mt-button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class='comlist' v-if='morePro'>\r\n        <div class='addComlist'>\r\n            <div class='comInfo'>\r\n                <div class='comPro' v-for='(item,index) in orderInfo' :key='index'>\r\n                    <div class='pro_img'>\r\n                        <img :src='item.product_img_src'/>\r\n                    </div>\r\n                    <div class='pro_info'>\r\n                        <div class='pro_title'>{{item.name}}</div>\r\n                        <div class='pro_spec'>\r\n                            <div class='pro_weight'>\r\n                                <span>规格：{{item.title}}</span>\r\n                                <span>数量：{{item.nums}}</span>\r\n                            </div>\r\n                            <div class='pro_btn'>\r\n                                <mt-button size='small' class='btn_red' @click='addComm(item.product_id)' v-if='item.iscomment==0&&item.is_up!=null'>评价晒单</mt-button>\r\n                                <mt-button size='small' class='btn_default' v-if='item.iscomment==1&&item.is_up!=null'>已评价</mt-button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class='pro_com_img_bg' v-if='imgShow' catchtouchmove=\"ture\" @click=\"hiddenImg\"></div>\r\n    <div class='pro_com_img' v-if='imgShow' catchtouchmove=\"ture\" @click=\"hiddenImg\">\r\n      <img :src=\"img_show_big\" alt=\"\" @click=\"hiddenImg\">\r\n    </div>\r\n    <!-- 弹出框 -->\r\n    <div class='avatar_model_bg' :hidden='hiddenUploadImg' @click='hiddenModel'>\r\n    </div>\r\n    <div class='avatar_model' :hidden='hiddenUploadImg'>\r\n      <div class='avatar_title'>\r\n        <span>上传图片</span>\r\n      </div>\r\n      <div class='avatar_info' @click='addImg'>\r\n        <input type=\"file\" accept=\"image/*\" id='album' name=\"pic\">\r\n        <img :src=\"imgPath+'com/cra.png'\" />\r\n        <span>相册</span>\r\n      </div>\r\n      <div class='avatar_info' @click='choseCra'>\r\n        <!-- <input type=\"file\" accept=\"image/*\" capture=\"camera\" id='camera'> -->\r\n        <img :src=\"imgPath+'com/cra1.png'\"/>\r\n        <span>拍照</span>\r\n      </div>\r\n    </div>\r\n    <div class='toast_model' v-if='showToast'></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport commonHeader from 'common/common-header'\r\nimport {\r\n  InfiniteScroll,\r\n  Indicator,\r\n  Button,\r\n  Lazyload,\r\n  Toast\r\n} from 'mint-ui'\r\nimport {\r\n  getOrder, saveMyComm\r\n} from '@/api/index'\r\nimport axios from 'axios'\r\n// import {\r\n//   countDown\r\n// } from '@/store/pubilc.js'\r\n// import {\r\n//   parseTime\r\n// } from '@/store/pubilc.js'\r\n// import {\r\n//   setToken,\r\n//   getToken\r\n// } from '@/store/auth'\r\nexport default {\r\n  name: 'AddComment',\r\n  components: {\r\n    commonHeader,\r\n    InfiniteScroll,\r\n    Indicator,\r\n    Button,\r\n    Lazyload,\r\n    Toast\r\n  },\r\n  data() {\r\n    return {\r\n      h_title: '提交评价',\r\n      morePro: false,\r\n      proNum: 1,\r\n      wNum: 0,\r\n      pNum: 5,\r\n      fNum: 0,\r\n      orderInfo: [],\r\n      orderId: '',\r\n      proInfo: {},\r\n      procomm: '',\r\n      tempFilePaths: [],\r\n      imgs: [],\r\n      allComm: 0,\r\n      uploadimgList: [],\r\n      uploadOk: false,\r\n      imgShow: false,\r\n      img_show_big: '',\r\n      hiddenUploadImg: true,\r\n      showToast: false,\r\n      imgPath: process.env.FilE_URL\r\n    }\r\n  },\r\n  mounted() {\r\n    // Indicator.open('加载中...')\r\n    console.log(this.$route.query)\r\n    var options = this.$route.query\r\n    this.proNum = options.num\r\n    this.orderId = options.orderId\r\n    if (options.num > 1) {\r\n      this.h_title = '评价晒单'\r\n      this.morePro = true\r\n    } else {\r\n      this.h_title = '提交评价'\r\n      this.morePro = false\r\n    }\r\n    console.log(this.orderId)\r\n    this.getOrder()\r\n  },\r\n  methods: {\r\n    showUpload() {\r\n      this.hiddenUploadImg = false\r\n    },\r\n    hiddenModel() {\r\n      this.hiddenUploadImg = true\r\n    },\r\n    goTop() {\r\n      console.log('回到顶部')\r\n      document.getElementById('AddComment').scrollIntoView({\r\n        block: 'start',\r\n        behavior: 'smooth'\r\n      })\r\n    },\r\n    choseStar(type, id) {\r\n      if (type === 'w') {\r\n        this.wNum = parseInt(id) + 1\r\n      }\r\n      if (type === 'p') {\r\n        this.pNum = parseInt(id) + 1\r\n      }\r\n      if (type === 'f') {\r\n        this.fNum = parseInt(id) + 1\r\n      }\r\n    },\r\n    bindTextAreaBlur(value) {\r\n      this.procomm = value\r\n    },\r\n    getOrder: function() {\r\n      var that = this\r\n      let info = {\r\n        id: 0,\r\n        order_id: that.orderId\r\n      }\r\n      getOrder(info).then(res => {\r\n        if (res.isSuccess) {\r\n          if (res.rows != null) {\r\n            if (that.proNum > 1) {\r\n              that.allComm = res.rows[0].iscomment\r\n              that.orderInfo = res.rows[0].order_items\r\n            } else {\r\n              that.allComm = res.rows[0].iscomment\r\n              that.proInfo = res.rows[0].order_items[0]\r\n            }\r\n          }\r\n        }\r\n      })\r\n    },\r\n    addComm(id) {\r\n      for (var i = 0, len = this.orderInfo.length; i < len; i++) {\r\n        if (id === this.orderInfo[i].product_id) {\r\n          this.proInfo = this.orderInfo[i]\r\n        }\r\n      }\r\n      this.morePro = false\r\n    },\r\n    addImg() {\r\n      console.log('选择相册')\r\n      var that = this\r\n      var imginput = document.getElementById('album')\r\n      imginput.onchange = function (e) {\r\n        console.log(e)\r\n        let file = e.target.files[0]\r\n        console.log(file)\r\n        if (file.size > 5242880) {\r\n          Toast({\r\n            message: '图片必须小于5MB！',\r\n            duration: 1000\r\n          })\r\n        } else {\r\n          that.imgs.push(URL.createObjectURL(file))\r\n          that.tempFilePaths.push(file)\r\n          that.hiddenUploadImg = true\r\n        //   that.uploadImg(file) 上传图片\r\n        }\r\n      }\r\n    },\r\n    choseCra() {\r\n      var that = this\r\n      console.log('选择拍照')\r\n      let System = window.plus\r\n      var cmr = System.camera.getCamera()\r\n      var res = cmr.supportedImageResolutions[0]\r\n      var fmt = cmr.supportedImageFormats[0]\r\n      console.log('Resolution: ' + res + ', Format: ' + fmt)\r\n      console.log(cmr)\r\n      cmr.captureImage(function(path) {\r\n        console.log(path)\r\n        System.io.resolveLocalFileSystemURL(path, function (entry) {\r\n          // 压缩图片\r\n          let name = '_doc/upload/' + entry.name\r\n          System.zip.compressImage({\r\n            src: entry.toLocalURL(), // src: (String 类型 )压缩转换原始图片的路径\r\n            dst: name, // 压缩转换目标图片的路径\r\n            quality: 40, // quality: (Number 类型 )压缩图片的质量.取值范围为1-100\r\n            overwrite: true// overwrite: (Boolean 类型 )覆盖生成新文件\r\n          },\r\n          function(zip) {\r\n            console.log(zip)\r\n            // 页面显示图片\r\n            System.io.resolveLocalFileSystemURL(zip.target, function(url) {\r\n              console.log(url)\r\n              url.file(function(file) {\r\n                console.log(file)\r\n                if (file.size > 5242880) {\r\n                  Toast({\r\n                    message: '图片必须小于5MB！',\r\n                    duration: 1000\r\n                  })\r\n                } else {\r\n                  let fileReader = new System.io.FileReader()\r\n                  fileReader.readAsDataURL(file)\r\n                  fileReader.onloadend = function(e) {\r\n                    let files = that.dataURLtoBlob(e.target.result.toString())\r\n                    files.name = file.name\r\n                    console.log(files)\r\n                    that.imgs.push(e.target.result.toString())\r\n                    that.tempFilePaths.push(files)\r\n                    that.hiddenUploadImg = true\r\n                    // that.uploadImg(files)\r\n                  }\r\n                }\r\n              })\r\n            })\r\n          // eslint-disable-next-line handle-callback-err\r\n          }, function(error) {\r\n            console.log('压缩图片失败，请稍候再试')\r\n          })\r\n        }, function (e) {\r\n          console.log('读取拍照文件错误：' + e.message)\r\n        })\r\n      },\r\n      function(error) {\r\n        console.log('Capture image failed: ' + error.message)\r\n      },\r\n      {resolution: res, format: fmt}\r\n      )\r\n    },\r\n    dataURLtoBlob (dataurl) {\r\n      let arr = dataurl.split(',')\r\n      let mime = arr[0].match(/:(.*?);/)[1]\r\n      let bstr = atob(arr[1].replace(/\\s/g, ''))\r\n      let n = bstr.length\r\n      let u8arr = new Uint8Array(n)\r\n      while (n--) {\r\n        u8arr[n] = bstr.charCodeAt(n)\r\n      }\r\n      return new Blob([u8arr], { type: mime })\r\n    },\r\n    uploadImg(data) {\r\n      let that = this\r\n      let i = data.i ? data.i : 0\r\n      let success = data.success ? data.success : 0\r\n      let fail = data.fail ? data.fail : 0\r\n      // Indicator.open('上传中...')\r\n      let param = new FormData() // 创建form对象\r\n      param.append('file', data.path[i], data.path[i].name) // 通过append向form对象添加数据\r\n      let config = {\r\n        headers: {'Content-Type': 'multipart/form-data'},\r\n        withCredentials: true\r\n      }\r\n      let url = '?m=order&a=imgsave'\r\n      if (process.env.NODE_ENV === 'development') {\r\n        url = '/api' + url\r\n      } else {\r\n        url = process.env.BASE_URL + url\r\n      }\r\n      console.log('请求上传接口啦')\r\n      axios.post(url, param, config)\r\n        .then(response => {\r\n          console.log(response)\r\n          if (response.data.isSuccess) {\r\n            // that.getInfo()\r\n            success++\r\n            that.uploadimgList.push(response.data.data[0])\r\n          } else {\r\n            fail++\r\n            console.log('fail:' + i + 'fail:' + fail)\r\n          }\r\n          i++\r\n          if (i === data.path.length) { // 当图片传完时，停止调用\r\n            console.log('成功：' + success + ' 失败：' + fail)\r\n            that.uploadOk = true\r\n            if (that.uploadOk) {\r\n              let info = {\r\n                order_id: this.orderId,\r\n                goods_id: data.id,\r\n                product_id: data.pid,\r\n                score: this.pNum,\r\n                server_score: this.wNum,\r\n                express_score: this.fNum,\r\n                goods_comment: this.procomm,\r\n                file_path: that.uploadimgList.join(',')\r\n              }\r\n              saveMyComm(info).then(res => {\r\n                if (res.isSuccess) {\r\n                  Indicator.close()\r\n                  that.showToast = false\r\n                  Toast({\r\n                    message: '评价成功',\r\n                    iconClass: 'iconfont icon-dui1',\r\n                    duration: 1000\r\n                  })\r\n                  setTimeout(function() {\r\n                    if (that.allComm === '0') {\r\n                      if (that.proNum > 1) {\r\n                        that.morePro = !that.morePro\r\n                        that.tempFilePaths = []\r\n                        that.imgs = []\r\n                        that.pNum = 5\r\n                        that.wNum = 0\r\n                        that.fNum = 0\r\n                        that.getOrder()\r\n                      } else {\r\n                        that.$router.back()\r\n                      }\r\n                    } else {\r\n                      that.$router.back()\r\n                    }\r\n                  }, 1000)\r\n                } else {\r\n                  Toast({\r\n                    message: res.msg,\r\n                    duration: 1000\r\n                  })\r\n                }\r\n              })\r\n            }\r\n          } else { // 若图片还没有传完，则继续调用函数\r\n            data.i = i\r\n            data.success = success\r\n            data.fail = fail\r\n            that.uploadImg(data)\r\n          }\r\n        }).catch(res => {\r\n          console.log(res)\r\n          console.log('请求出错')\r\n        })\r\n    },\r\n    delImg(index) {\r\n      this.imgs.splice(index, 1)\r\n      this.tempFilePaths.splice(index, 1)\r\n    },\r\n    previewImg(url) {\r\n      if (this.showToast === false) {\r\n        this.imgShow = true\r\n        this.img_show_big = url\r\n      }\r\n    },\r\n    hiddenImg() {\r\n      this.imgShow = false\r\n    },\r\n    saveCom(id, pid) {\r\n      console.log(this.orderId) // 订单id\r\n      console.log(id) // goods-id\r\n      console.log(pid) // pid\r\n      console.log(this.procomm) // 评价\r\n      console.log(this.pNum) // 商品\r\n      console.log(this.wNum) // 物流\r\n      console.log(this.fNum) // 服务\r\n      if (this.pNum === 0 || this.wNum === 0 || this.fNum === 0) {\r\n        Toast({\r\n          message: '请对商品进行评分',\r\n          duration: 1000\r\n        })\r\n      } else {\r\n        Indicator.open('提交中...')\r\n        this.showToast = true\r\n        var that = this\r\n        if (that.tempFilePaths.length <= 0) {\r\n          let info = {\r\n            order_id: that.orderId,\r\n            goods_id: id,\r\n            product_id: pid,\r\n            score: that.pNum,\r\n            server_score: that.wNum,\r\n            express_score: that.fNum,\r\n            goods_comment: that.procomm\r\n          }\r\n          saveMyComm(info).then(res => {\r\n            if (res.isSuccess) {\r\n              Indicator.close()\r\n              that.showToast = false\r\n              // 提交成功的提示\r\n              Toast({\r\n                message: '感谢您的评价，评价已提交',\r\n                iconClass: 'iconfont icon-dui1',\r\n                duration: 1000\r\n              })\r\n              //   wx.showToast({\r\n              //     title: '感谢您的评价，评价已提交',\r\n              //     icon: 'none',\r\n              //     duration: 1000,\r\n              //     mask: true\r\n              //   })\r\n              setTimeout(function() {\r\n                if (that.allComm === '0') {\r\n                  if (that.proNum > 1) {\r\n                    that.morePro = !that.morePro\r\n                    that.tempFilePaths = []\r\n                    that.imgs = []\r\n                    that.wNum = 0\r\n                    that.pNum = 5\r\n                    that.fNum = 0\r\n                    that.getOrder()\r\n                  } else {\r\n                    that.$router.back()\r\n                  }\r\n                } else {\r\n                  that.$router.back()\r\n                }\r\n              }, 1000)\r\n            } else {\r\n              Toast({\r\n                message: res.msg,\r\n                duration: 1000\r\n              })\r\n            }\r\n          })\r\n        } else {\r\n          that.uploadImg({\r\n            path: that.tempFilePaths.slice(0, 9), // 这里是选取的图片的地址数组，只选取前九张\r\n            id: id,\r\n            pid: pid\r\n          })\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n@import '~styles/index.less';\r\n@import '~styles/variable.less';\r\n.add_com {\r\n  height: 100%;\r\n  background: #f2f2f2;\r\n}\r\n\r\n.comInfo {\r\n  background: #fff;\r\n}\r\n\r\n.comInfo .comPro {\r\n  padding: 0 26/100rem;\r\n  height: 230/100rem;\r\n  border-bottom: 1px solid #ebebeb;\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.comPro .pro_img {\r\n  float: left;\r\n  margin-left: 18/100rem;\r\n  margin-right: 30/100rem;\r\n  position: relative;\r\n}\r\n\r\n.pro_img img {\r\n  width: 190/100rem;\r\n  height: 186/100rem;\r\n}\r\n\r\n.pro_img .pro_tips {\r\n  width: 190/100rem;\r\n  height: 52/100rem;\r\n  background: rgba(0, 0, 0, 0.6);\r\n  line-height: 52/100rem;\r\n  text-align: center;\r\n  position: absolute;\r\n  bottom: 0;\r\n}\r\n\r\n.pro_tips span {\r\n  color: #fff;\r\n  font-size: 24/100rem;\r\n}\r\n\r\n.comPro .pro_info {\r\n  width: 100%;\r\n}\r\n\r\n.pro_info .pro_title {\r\n  font-size: 30/100rem;\r\n  /* font-weight: bold; */\r\n  color: #444;\r\n  margin-top: 30/100rem;\r\n  height: 80/100rem;\r\n  display: -webkit-box;\r\n  -webkit-box-orient: vertical;\r\n  -webkit-line-clamp: 3;\r\n  overflow: hidden;\r\n}\r\n\r\n.pro_info .pro_spec {\r\n  overflow: hidden;\r\n  height: 82/100rem;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n}\r\n\r\n.pro_spec .pro_price {\r\n  font-family: 'DIN';\r\n  width: 240/100rem;\r\n}\r\n\r\n.pro_price .peo_nowprice {\r\n  color: #ff4e79;\r\n  font-size: 30/100rem;font-weight: bold;\r\n}\r\n\r\n.pro_price .pro_integral {\r\n  font-size: 30/100rem;font-weight: bold;\r\n  color: #ff4e79;\r\n}\r\n\r\n.pro_price .pro_inter_img {\r\n  display: inline-flex;\r\n  align-items: flex-end;\r\n  /* margin-right: 30/100rem; */\r\n}\r\n\r\n.pro_price .pro_inter_img .iconfont {\r\n  font-size: 30/100rem;font-weight: bold;\r\n  color: #ff4e79;\r\n  display: inline-flex;\r\n}\r\n\r\n/* .pro_price .pro_inter_img img {\r\n  width: 24/100rem;\r\n  height: 20/100rem;\r\n} */\r\n\r\n.pro_price .pro_orig {\r\n  font-size: 24/100rem;\r\n  color: #b8b8b8;\r\n  text-decoration: line-through;\r\n}\r\n\r\n.pro_weight span {\r\n  font-size: 20/100rem;\r\n  color: #888;\r\n  font-weight: 'DIN';\r\n  margin-right: 10/100rem;\r\n}\r\n\r\n.pro_btn {\r\n  display: inline-flex;\r\n}\r\n\r\n.pro_btn button {\r\n  margin-right: 16/100rem;\r\n  border: 1px solid #808080;\r\n  color: #808080;\r\n  background: transparent;\r\n  border-radius: 50/100rem;\r\n  font-size: 26/100rem;\r\n  width: 160/100rem;\r\n  padding: 0 26/100rem;\r\n}\r\n\r\n.pro_btn .btn_red {\r\n  border-color: #f06b90;\r\n  color: #f06b90;\r\n  font-size: 24/100rem;\r\n}\r\n\r\n.pro_btn .btn_default {\r\n  font-size: 24/100rem;\r\n}\r\n\r\n.comText {\r\n  padding: 26/100rem;\r\n  border-bottom: 1px solid #ebebeb;\r\n}\r\n\r\n.comText .phcolor {\r\n  font-size: 30/100rem;\r\n  /* font-weight: bold; */\r\n}\r\n\r\n.comText textarea {\r\n  min-height: 180/100rem;\r\n  width: 100%;\r\n  outline: none;\r\n  border: none;\r\n}\r\n\r\n.com_imgList {\r\n  /* display: flex;\r\n  justify-content: flex-start;\r\n  align-items: center; */\r\n  overflow: hidden;\r\n  padding: 10/100rem 0;\r\n}\r\n.com_imgList .hidden_input{\r\n  float: left;\r\n  position: relative;\r\n  width: 1.3rem;\r\n  height: 1.3rem;\r\n}\r\n.hidden_input input{\r\n    width: 1.23rem;\r\n    height: 1.23rem;\r\n    opacity: 0;\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    z-index: 10;\r\n}\r\n.com_imgList .imgBlock {\r\n  position: relative;\r\n  margin: 10/100rem;\r\n  /* display: inline-flex; */\r\n  float: left;\r\n}\r\n\r\n.imgBlock .iconfont {\r\n  position: absolute;\r\n  top: -28/100rem;\r\n  right: 0;\r\n  color: #ff4e79;\r\n  z-index: 20;\r\n}\r\n\r\n.imgBlock span {\r\n  display: blcok;\r\n  position: absolute;\r\n  top: -3/100rem;\r\n  right: 6/100rem;\r\n  background: #fff;\r\n  width: 20/100rem;\r\n  height: 20/100rem;\r\n  border-radius: 50%;\r\n  z-index: 10;\r\n}\r\n\r\n.imgBlock img {\r\n  width: 130/100rem;\r\n  height: 130/100rem;\r\n}\r\n\r\n.com_imgList .addicon {\r\n  font-size: 125/100rem;\r\n  color: #a4a4a4;\r\n  position: absolute;\r\n  top: -0.1rem;\r\n}\r\n\r\n/* 评价星星 */\r\n\r\n.comStar {\r\n  padding: 26/100rem;\r\n  border-bottom: 1px solid #ebebeb;\r\n}\r\n\r\n.comStar .title {\r\n  display: flex;\r\n  justify-content: flex-start;\r\n  align-items: center;\r\n  font-size: 30/100rem;\r\n  /* font-weight: bold; */\r\n  margin-bottom: 20/100rem;\r\n}\r\n\r\n.title .iconfont {\r\n  display: inline-flex;\r\n  color: #a4a4a4;\r\n  margin-right: 10/100rem;\r\n  font-size: 30/100rem;\r\n  /* font-weight: bold; */\r\n}\r\n\r\n.comStar .starInfo {\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 14/100rem 0;\r\n}\r\n\r\n.starInfo .starTitle {\r\n  font-size: 30/100rem;\r\n  /* font-weight: bold; */\r\n  color: #444;\r\n}\r\n\r\n.starInfo .star {\r\n  display: inline-flex;\r\n}\r\n\r\n.starInfo .star .iconfont {\r\n  display: inline-flex;\r\n  margin: 0 4/100rem;\r\n}\r\n\r\n.starInfo .star .light {\r\n  color: #ff4e79;\r\n}\r\n\r\n.comBtn {\r\n  margin-top: 40/100rem;\r\n  text-align: center;\r\n}\r\n\r\n.comBtn button {\r\n  width: 460/100rem;\r\n  height: 86/100rem;\r\n  line-height: 86/100rem;\r\n  border: none;\r\n  background: #ff4e79;\r\n  color: #fff;\r\n  outline: none;\r\n  font-size: 40/100rem;\r\n  border-radius: 20/100rem;\r\n}\r\n.pro_com_img_bg {\r\n    position: fixed;\r\n    background: rgba(0, 0, 0, 0.6);\r\n    width: 100%;\r\n    height: 100%;\r\n    top: 0;\r\n    z-index: 202;\r\n  }\r\n\r\n  .pro_com_img {\r\n    width: 100%;\r\n    height: 100%;\r\n    position: fixed;\r\n    bottom: 0;\r\n    z-index: 203;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n\r\n    img {\r\n      width: 80%;\r\n      vertical-align: middle;\r\n    }\r\n  }\r\n  /* 弹出层 */\r\n\r\n  .avatar_model_bg {\r\n    position: fixed;\r\n    background: rgba(0, 0, 0, 0.4);\r\n    width: 100%;\r\n    height: 100%;\r\n    top: 0;\r\n    z-index: 150;\r\n  }\r\n\r\n  .avatar_model {\r\n    width: 548/100rem;\r\n    height: 328/100rem;\r\n    border-radius: 10/100rem;\r\n    position: fixed;\r\n    margin: auto;\r\n    top: 0;\r\n    right: 0;\r\n    left: 0;\r\n    bottom: 0;\r\n    z-index: 160;\r\n    background: #fff;\r\n    /* text-align: center; */\r\n  }\r\n\r\n  .avatar_title {\r\n    height: 82/100rem;\r\n    margin-top: 20/100rem;\r\n    padding-left: 30/100rem;\r\n    border-bottom: 3/100rem solid #e2e2e2;\r\n    display: flex;\r\n    align-items: center;\r\n  }\r\n\r\n  .avatar_title span {\r\n    font-size: 32/100rem;\r\n    color: #333;\r\n  }\r\n\r\n  .avatar_info {\r\n    height: 112/100rem;\r\n    display: flex;\r\n    align-items: center;\r\n    padding-left: 30/100rem;\r\n    border-bottom: 1px solid #e2e2e2 !important;\r\n    position: relative;\r\n  }\r\n  .avatar_info input{\r\n      position: absolute;\r\n    z-index: 10;\r\n    opacity: 0;\r\n  }\r\n\r\n  .avatar_info:last-child {\r\n    border: none !important;\r\n  }\r\n\r\n  .avatar_info img {\r\n    width: 34/100rem;\r\n    height: 30/100rem;\r\n  }\r\n\r\n  .avatar_info span {\r\n    font-size: 28/100rem;\r\n    color: #555;\r\n    margin-left: 20/100rem;\r\n  }\r\n  .toast_model{\r\n    position: fixed;\r\n    background: rgba(0, 0, 0, 0);\r\n    width: 100%;\r\n    height: 100%;\r\n    top: 0;\r\n    z-index: 500;\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/other/addComment.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('common-header',{attrs:{\"h_title\":_vm.h_title,\"showback\":true}}),_vm._v(\" \"),_c('return-top',{on:{\"returnTop\":_vm.goTop}}),_vm._v(\" \"),_c('div',{staticStyle:{\"height\":\"0.9rem\"},attrs:{\"id\":\"AddComment\"}}),_vm._v(\" \"),(!_vm.morePro)?_c('div',{staticClass:\"add_com\"},[_c('div',{staticClass:\"addComlist\"},[_c('div',{staticClass:\"comInfo\"},[_c('div',{staticClass:\"comPro\"},[_c('div',{staticClass:\"pro_img\"},[_c('img',{attrs:{\"src\":_vm.proInfo.product_img_src}})]),_vm._v(\" \"),_c('div',{staticClass:\"pro_info\"},[_c('div',{staticClass:\"pro_title\"},[_vm._v(_vm._s(_vm.proInfo.name))]),_vm._v(\" \"),_c('div',{staticClass:\"pro_spec\"},[_c('div',{staticClass:\"pro_price\"},[_c('div',{staticStyle:{\"display\":\"flex\",\"align-items\":\"center\"}},[(_vm.proInfo.point>0)?_c('div',{staticClass:\"pro_inter_img\"},[_c('i',{staticClass:\"iconfont icon-jifen1\"})]):_vm._e(),_vm._v(\" \"),(_vm.proInfo.point>0)?_c('span',{staticClass:\"pro_integral\"},[_vm._v(_vm._s(_vm.proInfo.point))]):_vm._e(),_vm._v(\" \"),(_vm.proInfo.point>0&&_vm.proInfo.price>0)?_c('span',{staticClass:\"pro_integral\"},[_vm._v(\"+\")]):_vm._e(),_vm._v(\" \"),(_vm.proInfo.price>0)?_c('span',{staticClass:\"peo_nowprice\"},[_vm._v(\"¥\"+_vm._s(_vm.proInfo.price))]):_vm._e()])]),_vm._v(\" \"),_c('div',{staticClass:\"pro_weight\"},[_c('span',[_vm._v(_vm._s(_vm.proInfo.title)+\"*\"+_vm._s(_vm.proInfo.nums))])])])])]),_vm._v(\" \"),_c('div',{staticClass:\"comText\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.procomm),expression:\"procomm\"}],attrs:{\"auto-height\":\"\",\"placeholder\":\"商品是否满足您的期待？说说它的优点或美中不足吧\",\"placeholder-class\":\"phcolor\"},domProps:{\"value\":(_vm.procomm)},on:{\"blur\":function($event){return _vm.bindTextAreaBlur(_vm.procomm)},\"input\":function($event){if($event.target.composing){ return; }_vm.procomm=$event.target.value}}}),_vm._v(\" \"),_c('div',{staticClass:\"com_imgList\"},[_vm._l((_vm.imgs),function(item,index){return _c('div',{key:index,staticClass:\"imgBlock\"},[_c('i',{staticClass:\"iconfont icon-to-remove\",on:{\"click\":function($event){return _vm.delImg(index)}}}),_vm._v(\" \"),_c('span'),_vm._v(\" \"),_c('img',{attrs:{\"src\":item},on:{\"click\":function($event){return _vm.previewImg(item)}}})])}),_vm._v(\" \"),_c('div',{staticClass:\"hidden_input\",on:{\"click\":_vm.showUpload}},[_c('i',{staticClass:\"iconfont icon-addpictures addicon\",attrs:{\"hidden\":_vm.imgs.length==9}})])],2)]),_vm._v(\" \"),_c('div',{staticClass:\"comStar\"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"starInfo\"},[_vm._m(1),_vm._v(\" \"),_c('div',{staticClass:\"star\"},_vm._l((5),function(item,index){return _c('i',{key:index,class:index<_vm.pNum?'iconfont icon-xingping light':'iconfont icon-star',on:{\"click\":function($event){return _vm.choseStar('p',index)}}})}),0)]),_vm._v(\" \"),_c('div',{staticClass:\"starInfo\"},[_vm._m(2),_vm._v(\" \"),_c('div',{staticClass:\"star\"},_vm._l((5),function(item,index){return _c('i',{key:index,class:index<_vm.wNum?'iconfont icon-xingping light':'iconfont icon-star',on:{\"click\":function($event){return _vm.choseStar('w',index)}}})}),0)]),_vm._v(\" \"),_c('div',{staticClass:\"starInfo\"},[_vm._m(3),_vm._v(\" \"),_c('div',{staticClass:\"star\"},_vm._l((5),function(item,index){return _c('i',{key:index,class:index<_vm.fNum?'iconfont icon-xingping light':'iconfont icon-star',on:{\"click\":function($event){return _vm.choseStar('f',index)}}})}),0)])])]),_vm._v(\" \"),_c('div',{staticClass:\"comBtn\"},[_c('mt-button',{attrs:{\"size\":\"normal\",\"id\":\"proInfo.goods_id\",\"data-pid\":\"proInfo.product_id\"},on:{\"click\":function($event){return _vm.saveCom(_vm.proInfo.goods_id,_vm.proInfo.product_id)}}},[_vm._v(\"完成\")])],1)])]):_vm._e(),_vm._v(\" \"),(_vm.morePro)?_c('div',{staticClass:\"comlist\"},[_c('div',{staticClass:\"addComlist\"},[_c('div',{staticClass:\"comInfo\"},_vm._l((_vm.orderInfo),function(item,index){return _c('div',{key:index,staticClass:\"comPro\"},[_c('div',{staticClass:\"pro_img\"},[_c('img',{attrs:{\"src\":item.product_img_src}})]),_vm._v(\" \"),_c('div',{staticClass:\"pro_info\"},[_c('div',{staticClass:\"pro_title\"},[_vm._v(_vm._s(item.name))]),_vm._v(\" \"),_c('div',{staticClass:\"pro_spec\"},[_c('div',{staticClass:\"pro_weight\"},[_c('span',[_vm._v(\"规格：\"+_vm._s(item.title))]),_vm._v(\" \"),_c('span',[_vm._v(\"数量：\"+_vm._s(item.nums))])]),_vm._v(\" \"),_c('div',{staticClass:\"pro_btn\"},[(item.iscomment==0&&item.is_up!=null)?_c('mt-button',{staticClass:\"btn_red\",attrs:{\"size\":\"small\"},on:{\"click\":function($event){return _vm.addComm(item.product_id)}}},[_vm._v(\"评价晒单\")]):_vm._e(),_vm._v(\" \"),(item.iscomment==1&&item.is_up!=null)?_c('mt-button',{staticClass:\"btn_default\",attrs:{\"size\":\"small\"}},[_vm._v(\"已评价\")]):_vm._e()],1)])])])}),0)])]):_vm._e(),_vm._v(\" \"),(_vm.imgShow)?_c('div',{staticClass:\"pro_com_img_bg\",attrs:{\"catchtouchmove\":\"ture\"},on:{\"click\":_vm.hiddenImg}}):_vm._e(),_vm._v(\" \"),(_vm.imgShow)?_c('div',{staticClass:\"pro_com_img\",attrs:{\"catchtouchmove\":\"ture\"},on:{\"click\":_vm.hiddenImg}},[_c('img',{attrs:{\"src\":_vm.img_show_big,\"alt\":\"\"},on:{\"click\":_vm.hiddenImg}})]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"avatar_model_bg\",attrs:{\"hidden\":_vm.hiddenUploadImg},on:{\"click\":_vm.hiddenModel}}),_vm._v(\" \"),_c('div',{staticClass:\"avatar_model\",attrs:{\"hidden\":_vm.hiddenUploadImg}},[_vm._m(4),_vm._v(\" \"),_c('div',{staticClass:\"avatar_info\",on:{\"click\":_vm.addImg}},[_c('input',{attrs:{\"type\":\"file\",\"accept\":\"image/*\",\"id\":\"album\",\"name\":\"pic\"}}),_vm._v(\" \"),_c('img',{attrs:{\"src\":_vm.imgPath+'com/cra.png'}}),_vm._v(\" \"),_c('span',[_vm._v(\"相册\")])]),_vm._v(\" \"),_c('div',{staticClass:\"avatar_info\",on:{\"click\":_vm.choseCra}},[_c('img',{attrs:{\"src\":_vm.imgPath+'com/cra1.png'}}),_vm._v(\" \"),_c('span',[_vm._v(\"拍照\")])])]),_vm._v(\" \"),(_vm.showToast)?_c('div',{staticClass:\"toast_model\"}):_vm._e()],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"title\"},[_c('i',{staticClass:\"iconfont icon-shop\"}),_vm._v(\" \"),_c('span',[_vm._v(\"商品评分：\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"starTitle\"},[_c('span',[_vm._v(\"商品描述：\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"starTitle\"},[_c('span',[_vm._v(\"物流服务：\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"starTitle\"},[_c('span',[_vm._v(\"服务评价：\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"avatar_title\"},[_c('span',[_vm._v(\"上传图片\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-44794307\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/other/addComment.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-44794307\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./addComment.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./addComment.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./addComment.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-44794307\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./addComment.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-44794307\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/other/addComment.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}