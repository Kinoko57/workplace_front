webpackJsonp([31],{Vtbn:function(t,e){},i8Ps:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("mvHQ"),a=i.n(n),o=i("fqE/"),s=i("Au9i"),c=i("gyMJ"),r=i("WVZN"),l={name:"ImproveInfo",components:{commonHeader:o.a,InfiniteScroll:s.InfiniteScroll,Indicator:s.Indicator,Button:s.Button,Lazyload:s.Lazyload,Toast:s.Toast,Picker:s.Picker,MessageBox:s.MessageBox},data:function(){return{h_title:"完善信息",visited:0,sex:"male",birthday:null,nowDate:Object(r.c)((new Date).getTime(),"{y}-{m}-{d}"),startDate:new Date("1971-01-01"),endDate:new Date}},mounted:function(){},methods:{goTop:function(){console.log("回到顶部"),document.getElementById("coll").scrollIntoView({block:"start",behavior:"smooth"})},openBirth:function(){this.$refs.dataPicker.open()},handleConfirm:function(t){this.birthday=Object(r.c)(t.getTime(),"{y}-{m}-{d}")},radioChange:function(t){this.sex=t},formSubmit:function(){var t=this,e=[];if(null!=this.birthday){var i=window.plus;window.plus?i.nativeUI.confirm("生日，性别一旦保存不能修改",function(i){console.log("Close confirm: "+i.index),0===i.index||"0"===i.index?(e=[{sex:t.sex,birthday:new Date(t.birthday).getTime()/1e3}],Object(c._40)(a()(e)).then(function(e){e.isSuccess&&(Object(s.Toast)({message:"保存成功",iconClass:"iconfont icon-dui1",duration:1e3}),setTimeout(function(){t.$router.back()},1e3))})):console.log("用户点击取消")},{title:"提示",buttons:["确定","取消"],verticalAlign:"center"}):Object(s.MessageBox)({title:"提示",message:"生日，性别一旦保存不能修改",showCancelButton:!0,closeOnClickModal:!1}).then(function(i){"confirm"===i?(e=[{sex:t.sex,birthday:new Date(t.birthday).getTime()/1e3}],Object(c._40)(a()(e)).then(function(e){e.isSuccess&&(Object(s.Toast)({message:"保存成功",iconClass:"iconfont icon-dui1",duration:1e3}),setTimeout(function(){t.$router.back()},1e3))})):console.log("用户点击取消")})}else Object(s.Toast)({message:"请选择生日",duration:1e3})}}},d={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{background:"#fff"}},[i("common-header",{attrs:{h_title:t.h_title,showback:!0}}),t._v(" "),i("return-top",{on:{returnTop:t.goTop}}),t._v(" "),i("div",{staticStyle:{height:"0.9rem"}}),t._v(" "),i("div",{staticClass:"improveInfo"},[t._m(0),t._v(" "),t._m(1),t._v(" "),i("div",{staticClass:"improve_body"},[i("div",{staticClass:"section"},[i("span",{staticClass:"info_title"},[t._v("选择您的生日")]),t._v(" "),i("div",{staticClass:"pickers",on:{click:t.openBirth}},[null!=t.birthday?i("span",[t._v(t._s(t.birthday))]):t._e(),t._v(" "),null==t.birthday?i("span",[t._v("仅自己可见")]):t._e(),t._v(" "),i("i",{staticClass:"iconfont icon-youjiantou1"})])]),t._v(" "),i("div",{staticClass:"section"},[i("span",{staticClass:"info_title"},[t._v("选择您的性别")]),t._v(" "),i("div",{staticClass:"info_radiolist"},[i("div",{staticClass:"info_radio"},[i("input",{attrs:{id:"m",type:"radio"},domProps:{checked:"male"==t.sex,value:t.sex},on:{click:function(e){return t.radioChange("male")}}}),t._v(" "),i("label",{attrs:{for:"m"},on:{click:function(e){return t.radioChange("male")}}}),t._v(" "),i("span",[t._v("男")])]),t._v(" "),i("div",{staticClass:"info_radio"},[i("input",{attrs:{id:"w",type:"radio"},domProps:{checked:"female"==t.sex,value:t.sex},on:{click:function(e){return t.radioChange("female")}}}),t._v(" "),i("label",{attrs:{for:"w"},on:{click:function(e){return t.radioChange("female")}}}),t._v(" "),i("span",[t._v("女")])])])]),t._v(" "),i("div",{staticClass:"next"},[(t.visited,i("mt-button",{attrs:{"form-type":"submit",size:"normal"},on:{click:t.formSubmit}},[t._v("完成")]))],1)]),t._v(" "),i("mt-datetime-picker",{ref:"dataPicker",attrs:{type:"date","year-format":"{value} 年","month-format":"{value} 月","date-format":"{value} 日",startDate:t.startDate,endDate:t.endDate},on:{confirm:t.handleConfirm},model:{value:t.nowDate,callback:function(e){t.nowDate=e},expression:"nowDate"}})],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"improve_title"},[e("span",[this._v("完善个人信息")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"improve_tips"},[e("span",[this._v("生日，性别保存后不可修改")])])}]};var u=i("VU/8")(l,d,!1,function(t){i("Vtbn")},"data-v-ab04d0d6",null);e.default=u.exports}});
//# sourceMappingURL=31.c9df24e5e3ec22a39a64.js.map