webpackJsonp([62],{tUwn:function(s,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("mvHQ"),n=a.n(i),e=a("fqE/"),o=a("Jtwt"),l=a("Au9i"),d=a("HUDw"),_={name:"FansList",components:{commonHeader:e.a,InfiniteScroll:l.InfiniteScroll,Indicator:l.Indicator,Button:l.Button,returnTop:o.a},data:function(){return{imgPath:"https://share.gongzhugou.com/static/image/xcx_img/",h_title:"粉丝列表",head_color:{background:"#f3c0a2",color:"#000"},showFansList:!1,fansType:1,is_active:0,days:"all",isfouvip:0,fansNum:0,todayOrders:0,newFans:0,fansList:[],height:"",topHeight:"",allowScorll:!0,is_load:!1,hasData:!0,is_end:!1,total:0,topNum:0,dateList:[{id:"all",name:"全部"},{id:"today",name:"今日"},{id:"seven",name:"近7天"},{id:"thirty",name:"近30天"}],dowmListinfo:!1,dowmdate:1,detailType:"1",page:1}},mounted:function(){l.Indicator.open("加载中..."),this.getList()},methods:{goTop:function(){console.log("回到顶部"),document.getElementById("f_fans").scrollIntoView({block:"start",behavior:"smooth"})},fanType:function(s){this.detailType=s,this.page=1,this.days="all",this.dateType="1",this.fansList=[],this.is_active=0,this.hasData=!0,this.is_end=!1,this.is_load=!1,this.getList()},getList:function(){var s=this;l.Indicator.open("加载中...");var t={type:s.detailType,page:s.page,days:s.days,is_active:s.is_active};Object(d.b)(t).then(function(t){if(!0===t.isSuccess||"true"===t.isSuccess)if(l.Indicator.close(),t.data.fans_list.rows.length>0){var a=s.page-1;0===a&&(s.fansList=[]),s.showFansList=!0,s.fansList[a]=t.data.fans_list.rows,s.newFans=t.data.today_fans,s.fansNum=t.data.total_fans,s.total=t.data.fans_list.total,s.todayOrders=t.data.today_orders,s.isfouvip=s.$store.state.home.userInfo.level_id,s.hasData=!0,s.is_end=!1,s.is_load=!1,t.data.fans_list.rows.length===Number(t.data.fans_list.total)&&(s.is_load=!0,s.hasData=!0,s.is_end=!0)}else s.showFansList=!0,s.newFans=t.data.today_fans,s.todayOrders=t.data.today_orders,s.fansNum=t.data.total_fans,s.total=t.data.fans_list.total,s.isfouvip=s.$store.state.home.userInfo.level_id,s.hasData=!1,s.is_load=!0,s.is_end=!0,console.log(!s.hasData,"111");else l.Indicator.close(),console.log("数据请求失败")})},loadMore:function(){var s=this;this.is_load=!0,console.log(this.is_load);var t={type:s.detailType,page:++s.page,days:s.days,is_active:s.is_active};l.Indicator.open("加载中..."),Object(d.b)(t).then(function(t){if(!0===t.isSuccess)if(l.Indicator.close(),t.data.fans_list.rows.length>0){var a=s.page-1;s.fansList[a]=t.data.fans_list.rows,console.log(s.fansList,"loadMore"),s.is_end=!1,s.is_load=!1,("[]"===n()(t.data.fans_list.rows)||s.fansList[a].length<10)&&(s.cashMoney=t.data.wind,s.is_load=!0,s.is_end=!0),console.log(s.redList)}else s.cashMoney=t.data.wind,s.is_end=!0,s.is_load=!0})},goInvitation:function(){this.$router.togo({path:"/poster"})},fansAll:function(s){this.dowmListinfo=!this.dowmListinfo,this.fansType=1,this.is_active=0},activeAll:function(){0===this.is_active||"0"===this.is_active?(this.dowmListinfo=!1,this.is_active=1,this.fansType=2,this.days="all",this.hasData=!1,this.is_end=!0,this.is_load=!1,this.fansList=[]):(this.dowmListinfo=!1,this.is_active=0,this.fansType=2,this.days="all",this.hasData=!1,this.is_end=!0,this.is_load=!1,this.fansList=[]),this.getList()},choseList:function(s){this.days=s,this.dowmListinfo=!1,this.fansList=[],this.page=1,this.hasData=!1,this.is_end=!0,this.is_load=!1,this.getList()}}},c={render:function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",[a("common-header",{attrs:{h_title:s.h_title,showback:!0,bgcolor:s.head_color}}),s._v(" "),s.showFansList?a("div",[a("div",{staticClass:"f_fans"},[a("return-top",{on:{returnTop:s.goTop}}),s._v(" "),a("div",{staticStyle:{height:"0.9rem"},attrs:{id:"f_fans"}}),s._v(" "),a("div",{staticClass:"f_fans_fixed"},[a("div",{staticClass:"f_fansNum"},[a("span",[s._v(s._s(s.fansNum))]),s._v(" "),a("span",[s._v("总粉丝数")])]),s._v(" "),a("div",{staticClass:"f_new_fansNum"},[a("span",[s._v("今日新增粉丝： "+s._s(s.newFans)+"人")]),s._v(" "),0!=s.isfouvip?a("span",[s._v("今日下单数： "+s._s(s.todayOrders)+"单")]):s._e()]),s._v(" "),a("div",{staticClass:"detailed_nav"},[a("div",{class:"1"==s.detailType?"span_active":"span1",attrs:{id:"1"},on:{click:function(t){return s.fanType("1")}}},[s._v("普通用户")]),s._v(" "),a("div",{class:"2"==s.detailType?"span_active":"span1",attrs:{id:"2"},on:{click:function(t){return s.fanType("2")}}},[s._v("会员")])]),s._v(" "),a("div",{staticClass:"f_fans_nav"},[a("div",{class:"1"==s.fansType?"span_active":"span",attrs:{id:"1"}},[a("div",{on:{click:s.fansAll}},["all"==s.days?a("span",{attrs:{id:"all"}},[s._v("全部")]):s._e(),s._v(" "),"today"==s.days?a("span",{attrs:{id:"today"}},[s._v("今日")]):s._e(),s._v(" "),"seven"==s.days?a("span",{attrs:{id:"seven"}},[s._v("近7天")]):s._e(),s._v(" "),"thirty"==s.days?a("span",{attrs:{id:"thirty"}},[s._v("近30天")]):s._e(),s._v(" "),a("i",{class:s.dowmListinfo?"iconfont icon-asc":"iconfont icon-desc"})]),s._v(" "),s.dowmListinfo?a("div",{staticClass:"dowmList"},s._l(s.dateList,function(t,i){return a("div",{key:i,class:s.days==t.id?"active":"",attrs:{id:"item.id"},on:{click:function(a){return s.choseList(t.id)}}},[s._v("\n                                    "+s._s(t.name)+"\n                                ")])}),0):s._e()]),s._v(" "),0!=s.isfouvip?a("div",{class:"1"==s.is_active?"span_active":"span",attrs:{id:"2"},on:{click:s.activeAll}},[a("span",[s._v("活跃")]),s._v(" "),a("i",{staticClass:"iconfont icon-shaixuan1"})]):s._e()])]),s._v(" "),a("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:s.loadMore,expression:"loadMore"}],staticClass:"scroll",attrs:{"infinite-scroll-disabled":"is_load","infinite-scroll-distance":"30"}},[a("div",{staticClass:"head_top"}),s._v(" "),a("div",{staticClass:"f_fans_List"},s._l(s.fansList,function(t,i){return a("div",{key:i,staticClass:"list_info"},s._l(t,function(t,i){return a("div",{key:i,staticClass:"list_info_wraper"},[a("div",{staticClass:"list_info_timg"},[a("img",{staticClass:"list_info_timg_ava",attrs:{src:t.image}}),s._v(" "),"2"==s.detailType?a("img",{staticClass:"list_info_timg_vip",attrs:{src:s.imgPath+"shop/vip1.png"}}):s._e()]),s._v(" "),a("div",{staticClass:"list_info_right"},[a("div",{staticClass:"list_info_right_l"},[a("div",{staticStyle:{display:"flex"}},[a("span",{staticClass:"span_overflow"},[s._v(s._s(t.nickname))]),s._v(" "),0!=s.isfouvip?a("span",[s._v("贡献佣金"+s._s(t.commission)+"元")]):s._e()]),s._v(" "),1==s.fansType?a("span",{staticClass:"text"},[s._v("注册时间："+s._s(t.createtime))]):s._e(),s._v(" "),2==s.fansType&&0!=s.isfouvip?a("span",{staticClass:"text"},[s._v("活跃时间："+s._s(t.last_active_time))]):s._e()]),s._v(" "),0!=s.isfouvip?a("div",{staticClass:"list_info_right_r"},[a("span",[s._v(s._s(t.last_active_time))]),s._v(" "),a("span",[s._v("累计下单"+s._s(t.total_order)+"单")])]):s._e()])])}),0)}),0),s._v(" "),a("div",{staticClass:"mar_bottom"},[s.is_load?s._e():a("div",{staticClass:"more_load"},[a("mt-spinner",{attrs:{type:"fading-circle"}})],1),s._v(" "),s.hasData?s._e():a("div",{staticClass:"s_fans_bottom"},[a("img",{attrs:{src:s.imgPath+"pro/null.png",mode:"widthFix"}})]),s._v(" "),s.hasData&&s.is_end?a("div",{staticClass:"order-foot"},[a("span",[s._v("—————— 我是有底线的 ——————")])]):s._e()])])],1),s._v(" "),a("div",{staticClass:"invitation",on:{click:s.goInvitation}},[a("mt-button",{attrs:{"hover-class":"other-button-hover"}},[s._v("继续邀请")])],1)]):s._e()],1)},staticRenderFns:[]};var r=a("VU/8")(_,c,!1,function(s){a("xDVC")},"data-v-1739aeac",null);t.default=r.exports},xDVC:function(s,t){}});
//# sourceMappingURL=62.290efa36b5bbcf352623.js.map