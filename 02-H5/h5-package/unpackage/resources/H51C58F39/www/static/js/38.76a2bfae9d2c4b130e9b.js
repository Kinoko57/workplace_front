webpackJsonp([38],{"/o0E":function(t,i){},v9qd:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var s=e("Dd8w"),o=e.n(s),a=e("fqE/"),n=e("NYxO"),l=e("Au9i"),r=e("Jtwt"),c=e("gyMJ"),_={name:"ActivityList",components:{commonHeader:a.a,Swipe:l.Swipe,SwipeItem:l.SwipeItem,returnTop:r.a,Lazyload:l.Lazyload,Toast:l.Toast,InfiniteScroll:l.InfiniteScroll,Indicator:l.Indicator},data:function(){return{head_color:{background:"#f9f9f9",color:"#000"},h_title:"活动列表",imgPath:"https://share.gongzhugou.com/static/image/xcx_img/",isMember:this.$store.state.home.is_member,isShare:this.$store.state.home.is_share,content_height:0,show_icon:!0,isopen:!0,isShow:!1,headbg:"",content:"",bgColor:"#fff",title:"",activity_id:"",newNews:!1,total_amout:0,topNum:0,redShowList:[],redList:[],height:"",allowScorll:!0,isSign:!0,total:0,page:0,limit:6,is_end:!1,top:0,hasData:!0,is_load:!1}},mounted:function(){console.log(this.$route.query),this.activity_id=this.$route.query.id,this.redShowList=[],this.isMember=this.$store.state.home.is_member,this.isShare=this.$store.state.home.is_share,l.Indicator.open("加载中..."),this.getList()},methods:o()({},Object(n.c)({setUserInfo:"SET_USERINFO",setInviter:"SET_INVITER",setMember:"SET_MEMBER",setShare:"SET_SHARE"}),{goPro:function(t,i){this.$router.togo({path:"/proDetail?type="+t+"&id="+i})},goTop:function(){console.log("回到顶部"),document.getElementById("activity").scrollIntoView({block:"start",behavior:"smooth"})},openText:function(t){console.log(t);var i=this;this.isopen?i.isopen=!1:(console.log(i.content_height),setTimeout(function(){i.isopen=!0},400))},getList:function(){var t=this;Object(c.v)(t.activity_id).then(function(i){if(l.Indicator.close(),i.isSuccess)if(t.h_title=i.data.moudule.title,t.headbg=i.data.moudule.list_img,t.content=i.data.moudule.content,t.title=i.data.moudule.title,t.bgColor=i.data.moudule.color,void 0!==i.data.list.rows&&i.data.list.rows.length>0){var e=t.page;t.redList=i.data.list.rows,0===e&&(t.redShowList=[]),t.redShowList[e]=i.data.list.rows[e],t.total=i.data.list.total,t.limit=i.data.list.limit,t.hasData=!0,t.is_end=!1,t.isShow=!0,(i.data.list.rows[e].length<i.data.list.limit||1===i.data.list.rows.length)&&(t.is_load=!0,t.hasData=!0,t.is_end=!0,t.isShow=!0)}else t.is_load=!0,t.hasData=!1,t.is_end=!0})},loadMore:function(){if(console.log("加载下一页"),this.is_load=!0,console.log(this.page),console.log(this.redList.length),this.page<this.redList.length-1){++this.page;var t=this.page;this.redShowList[t]=this.redList[t],this.is_end=!1,this.is_load=!1,console.log(this.redList[t].length),console.log(this.limit),(this.redList[t].length<this.limit||t==this.redList.length)&&(this.is_end=!0,this.is_load=!0,this.hasData=!0)}else this.is_end=!0,this.is_load=!0,this.hasData=!0;console.log(this.redShowList)}}),computed:o()({},Object(n.b)(["number","carnum","isbind","score","news","newsnum","issign"]))},d={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[e("common-header",{attrs:{h_title:t.h_title,bgcolor:t.head_color}}),t._v(" "),t.isShow?e("div",{staticClass:"activity"},[e("div",{staticClass:"red_body"},[e("return-top",{on:{returnTop:t.goTop}}),t._v(" "),e("div",{staticClass:"sale_height",attrs:{id:"activity"}}),t._v(" "),e("div",{staticClass:"activity_banner"},[e("img",{attrs:{src:t.headbg}}),t._v(" "),""!=t.content?e("div",{class:t.show_icon?"activity_content overflow_text":"activity_content"},[e("div",{class:t.isopen?"content_info show_content":"content_info hidden_content"},[t._v(t._s(t.content))]),t._v(" "),t.show_icon?e("div",{staticClass:"open_icon",on:{click:t.openText}},[t.isopen?e("span",[t._v("收起")]):e("span",[t._v("展开")]),t._v(" "),e("i",{class:0==t.isopen?"iconfont icon-jiantou-copy-copy":"iconfont icon-jiantou-copy-copy-copy"})]):t._e()]):t._e()]),t._v(" "),t.hasData?e("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMore,expression:"loadMore"}],staticClass:"red_list",style:{background:t.bgColor},attrs:{"infinite-scroll-disabled":"is_load","infinite-scroll-distance":"30"}},t._l(t.redShowList,function(i,s){return e("div",{key:s,staticClass:"res_list_block"},t._l(i,function(i,s){return e("div",{key:s,staticClass:"red_pro",on:{click:function(e){return t.goPro("normal",i.goods_id)}}},[e("div",{staticClass:"pro_img"},[e("img",{attrs:{src:i.gimg}})]),t._v(" "),e("div",{staticClass:"pro_info"},[e("div",{staticClass:"pro_title"},[1==i.promotion?e("div",{staticClass:"pro_level"},[e("img",{attrs:{src:t.imgPath+"member/cu.png",mode:"aspectFit"}}),t._v(" "),e("span",[t._v("限时购")])]):t._e(),t._v("\n                "+t._s(i.name)+"\n              ")]),t._v(" "),e("div",{staticClass:"pro_spec"},[e("div",{staticClass:"pro_price"},[2!=t.activity_id?e("div",{staticStyle:{display:"flex","align-items":"center","line-height":"0.48rem"}},[1==i.deal_type||3==i.deal_type?e("span",{staticClass:"peo_nowprice"},[t._v("￥"+t._s(i.price_sell)),t.isMember?e("span",{staticStyle:{color:"#ff8d97","font-size":"0.23rem"}},[t._v(" / 赚"+t._s(i.back_rebate))]):t._e()]):t._e(),t._v(" "),i.deal_type>=4?e("span",{staticClass:"peo_nowprice"},[t._v("￥"+t._s(i.price_sell)),t.isMember?e("span",{staticStyle:{color:"#ff8d97","font-size":"0.23rem"}},[t._v(" / 赚"+t._s(i.back_rebate))]):t._e()]):t._e(),t._v(" "),1!=i.deal_type&&2!=i.deal_type&&3!=i.deal_type?e("span",{staticClass:"pro_integral"},[t._v("+")]):t._e(),t._v(" "),1!=i.deal_type&&3!=i.deal_type?e("div",{staticClass:"pro_inter_img"},[e("i",{staticClass:"iconfont icon-jifen1"})]):t._e(),t._v(" "),2==i.deal_type?e("span",{staticClass:"pro_integral"},[t._v(t._s(i.point))]):t._e(),t._v(" "),1!=i.deal_type&&2!=i.deal_type&&3!=i.deal_type?e("span",{staticClass:"pro_integral"},[t._v(t._s(i.point))]):t._e()]):t._e(),t._v(" "),2==t.activity_id?e("div",{staticStyle:{display:"flex","align-items":"center","line-height":"0.48rem"}},[t._m(0,!0),t._v(" "),e("span",{staticClass:"pro_integral"},[t._v(t._s(i.point))])]):t._e(),t._v(" "),e("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"space-between"}},[e("div",{staticStyle:{display:"inline-flex","align-items":"center"}},[e("span",{staticClass:"pro_orig pro_bg"},[t._v(t._s(i.price_market_from))]),t._v(" "),e("span",{staticClass:"pro_orig line"},[t._v("￥"+t._s(i.price_market))])]),t._v(" "),e("div",{staticClass:"pro_count"},[t._v("销量:"+t._s(i.buy_count))])])])])])])}),0)}),0):t._e(),t._v(" "),t.is_load?t._e():e("div",{staticClass:"more_load"},[e("mt-spinner",{attrs:{type:"fading-circle"}})],1),t._v(" "),t.hasData?t._e():e("div",{staticClass:"red_list_null"},[e("img",{attrs:{src:t.imgPath+"pro/null_1.png"}})]),t._v(" "),t.hasData&&t.is_end?e("div",{staticClass:"list_bottom"},[t._v("—————— 我是有底线的 ——————")]):t._e(),t._v(" "),e("div",{staticClass:"null_height"})],1)]):t._e()],1)},staticRenderFns:[function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"pro_inter_img"},[i("i",{staticClass:"iconfont icon-jifen1"})])}]};var h=e("VU/8")(_,d,!1,function(t){e("/o0E")},"data-v-72fce36a",null);i.default=h.exports}});
//# sourceMappingURL=38.76a2bfae9d2c4b130e9b.js.map