{"version":3,"sources":["webpack:///./src/assets/img/poster_logo.png","webpack:///src/views/other/poster.vue","webpack:///./src/views/other/poster.vue?bfa0","webpack:///./src/views/other/poster.vue"],"names":["module","exports","poster","name","components","swiper","vue_awesome_swiper","swiperSlide","Indicator","mint_ui_common","commonHeader","common_header","QRCode","qrcode_default","a","html2canvas","html2canvas_default","transformArrayBufferToBase64","pubilc","Toast","data","h_title","save_code_img","head_color","color","background","avatar","userInfo","erweima","htmlUrl","fileUrl","posterList","princess","height","page","sharewx","showImg","imgPath","swiperCurrent","swiperOption","loop","initialSlide","autoplay","slidesPerView","centeredSlides","observer","observerParents","speed","on","slideChangeTransitionEnd","this","realIndex","mounted","that","$store","state","home","Object","share","url","then","res","isSuccess","getShareCode","getPostList","System","window","plus","undefined","getServices","s","shares","i","t","id","console","log","e","message","methods","saveImg","_this","$nextTick","open","document","getElementsByClassName","children","context","backingStore","_canvas","createElement","ctx","getContext","ratio","backingStorePixelRatio","webkitBackingStorePixelRatio","mozBackingStorePixelRatio","msBackingStorePixelRatio","oBackingStorePixelRatio","devicePixelRatio","scale","width","style","bgImg","$refs","active_bg_img","mySwiper","headImg","active_head_img","codeImg","active_code","princessImg","active_princess","drawImage","circle","save","beginPath","arc","Math","PI","clip","restore","fillStyle","lineWidth","font","arr","nickname","split","nameArr","length","len","measureText","fillText","fillRect","toDataURL","toSave","imgData","bitmap","nativeObj","Bitmap","filename","Date","getTime","loadBase64Data","overwrite","gallery","target","d","close","stringify_default","clear","iconClass","duration","localStorage","getItem","obj","storage","msg","type","title","thumbs","content","href","extra","scene","isAuth","nativeUI","alert","authenticated","shareAction","authorize","code","send","linkGo","$router","togo","path","other_poster","render","_vm","_h","$createElement","_c","_self","attrs","showback","bgcolor","_v","staticClass","staticStyle","ref","options","_l","item","index","key","refInFor","src","img","mode","click","_s","_e","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/10.d70d10f274246ce83963.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAATwAAABHCAYAAACal/uwAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpGNTdFMzEyNzVCOUFFOTExOEFCN0VCMDNEMDVFRkMwQiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpGRDJERUNCMkIxQUYxMUU5QTNFREM0ODRDNzREN0U2NiIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpGRDJERUNCMUIxQUYxMUU5QTNFREM0ODRDNzREN0U2NiIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M2IChXaW5kb3dzKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkI3QkRDQUUzQUVCMUU5MTFCRTAyRUFFODRERjFGREVDIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkY1N0UzMTI3NUI5QUU5MTE4QUI3RUIwM0QwNUVGQzBCIi8+IDwvcmRmOkRlc2NyaXB0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\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/img/poster_logo.png\n// module id = WT1n\n// module chunks = 10","<template>\r\n  <div>\r\n    <common-header :h_title=\"h_title\" :showback=\"true\" :bgcolor='head_color'></common-header>\r\n    <!-- <div id=\"qrcode\" ref=\"qrcode\" style=\"position:fixed;left:0;top:0;z-index:999;border:4px solid #f20;width:1.2rem;height:1.2rem\"></div> -->\r\n    <div class='poster'>\r\n      <div class='poster_bg'></div>\r\n      <div class=\"poster_swiper\" id=\"poster_swiper\" style='height:100%'>\r\n        <swiper :options=\"swiperOption\" class=\"swiper_wraper\" v-if=\"posterList.length > 0\" ref=\"mySwiper\">\r\n          <swiper-slide class='wiper_item' v-for=\"(item,index) in posterList\" :key=\"index\">\r\n            <div class=\"slide-image\" ref=\"imageTofile\">\r\n                <div class='slide-content'>\r\n                  <img :src=\"item.img\" class='image' ref=\"active_bg_img\"/>\r\n                  <div class=\"m_info_login\">\r\n                    <img :src=\"avatar\" class='m_avatar' mode='scaleToFill' @click='linkGo' ref=\"active_head_img\"/>\r\n                    <div class='m_info_title'>\r\n                      <div class='m_info_name'>\r\n                        <span>{{userInfo.nickname}}</span>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div class='erweima'>\r\n                    <!-- <div class='erweima_l'>\r\n                      </div> -->\r\n                    <img :src='erweima' class='erweima_l'  ref=\"active_code\"/>\r\n                    <div class='erweima_r'>\r\n                      <img :src=\"princess\"  ref=\"active_princess\"/>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n            </div>\r\n          </swiper-slide>\r\n        </swiper>\r\n      </div>\r\n      <!-- <div style=\"    width: 100%;\r\n    height: 100%;\r\n    z-index: 999;\r\n    position: fixed;\r\n    top: 10%;background:#fff\">\r\n      <img :src=\"htmlUrl\" alt=\"\" srcset=\"\">\r\n      </div> -->\r\n      <!-- <canvas id=\"canvas\" style=\"position: fixed;top:10%;z-index:100;background:red;\"></canvas> -->\r\n      <div class=\"poster_b\">\r\n        <button class='poster_b_wx' @click='share'>\r\n          <img :src=\"imgPath+'com/icon_wx.png'\" />\r\n          <span>分享好友</span>\r\n        </button>\r\n        <button class='poster_b_save' @click='saveImg'>\r\n          <img :src=\"imgPath+'com/icon-save.png'\" />\r\n          <span>保存图片</span>\r\n        </button>\r\n        <!-- <button class='poster_b_save' open-type=\"openSetting\" bindopensetting='handleSetting' v-if='!openSettingBtnHidden'>\r\n            <img :src=\"imgPath+'com/icon-save.png'\"/>\r\n            <span>去授权</span>\r\n          </button> -->\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport commonHeader from 'common/common-header'\r\nimport {\r\n  getPostImg,\r\n  getPosterQR,\r\n  getImageBase64\r\n} from '@/api/share'\r\nimport {\r\n  Toast,\r\n  Indicator\r\n} from 'mint-ui'\r\nimport {\r\n  transformArrayBufferToBase64\r\n} from '@/store/pubilc.js'\r\nimport 'swiper/dist/css/swiper.css'\r\nimport html2canvas from 'html2canvas'\r\nimport QRCode from 'qrcodejs2'\r\nimport img from '@/assets/img/poster_logo.png'\r\nimport {\r\n  swiper,\r\n  swiperSlide\r\n} from 'vue-awesome-swiper'\r\nexport default {\r\n  name: 'Poster',\r\n  components: {\r\n    swiper,\r\n    swiperSlide,\r\n    Indicator,\r\n    commonHeader,\r\n    QRCode,\r\n    html2canvas,\r\n    transformArrayBufferToBase64,\r\n    Toast\r\n  },\r\n  data() {\r\n    return {\r\n      h_title: '公主购',\r\n      save_code_img: true,\r\n      head_color: {\r\n        color: '#000',\r\n        background: '#f3c0a2'\r\n      },\r\n      avatar: '',\r\n      userInfo: {},\r\n      erweima: '',\r\n      htmlUrl: '',\r\n      fileUrl: '',\r\n      posterList: [],\r\n      princess: '',\r\n      height: '',\r\n      page: 1,\r\n      sharewx: '',\r\n      showImg: true,\r\n      imgPath: process.env.FilE_URL,\r\n      swiperCurrent: 0,\r\n      swiperOption: {\r\n        loop: true,\r\n        initialSlide: 0,\r\n        // loopAdditionalSlides: 3,\r\n        autoplay: false,\r\n        slidesPerView: 'auto',\r\n        centeredSlides: true,\r\n        observer: true,\r\n        observerParents: true,\r\n        // spaceBetween: 20,\r\n        speed: 2000,\r\n        on: {\r\n          slideChangeTransitionEnd: function () {\r\n            this.swiperCurrent = this.realIndex\r\n          }\r\n        }\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    let that = this\r\n    this.userInfo = this.$store.state.home.userInfo\r\n    getImageBase64({\r\n      url: this.userInfo.avatar\r\n    }).then(res => {\r\n      if (res.isSuccess) {\r\n        that.avatar = res.data\r\n      }\r\n    })\r\n    let baseUrl = process.env.FilE_URL + 'com/logo.png'\r\n    getImageBase64({\r\n      url: baseUrl\r\n    }).then(res => {\r\n      if (res.isSuccess) {\r\n        that.princess = res.data\r\n      }\r\n    })\r\n    that.getShareCode()\r\n    that.getPostList()\r\n    // 获取用户信息\r\n    let System = window.plus\r\n    if (System !== undefined || System !== 'undefined') {\r\n      System.share.getServices(function (s) {\r\n        let shares = {}\r\n        for (var i in s) {\r\n          var t = s[i]\r\n          shares[t.id] = t\r\n        }\r\n        that.sharewx = shares['weixin']\r\n        console.log(that.sharewx)\r\n      }, function (e) {\r\n        console.log('获取分享服务列表失败：' + e.message)\r\n      })\r\n    }\r\n  },\r\n  methods: {\r\n    saveImg() {\r\n      this.$nextTick(() => {\r\n        const that = this\r\n        Indicator.open('图片保存中...')\r\n        console.log(document.getElementsByClassName('swiper-slide-active')[0].children[0].children[0])\r\n        var _canvas = document.createElement('canvas')\r\n        // var _canvas = document.getElementById('canvas')\r\n        var ctx = _canvas.getContext('2d')\r\n        var getPixelRatio = function (context) { // 获取设备的PixelRatio\r\n          var backingStore = context.backingStorePixelRatio ||\r\n            context.webkitBackingStorePixelRatio ||\r\n            context.mozBackingStorePixelRatio ||\r\n            context.msBackingStorePixelRatio ||\r\n            context.oBackingStorePixelRatio ||\r\n            context.backingStorePixelRatio || 1\r\n          return (window.devicePixelRatio || 1) / backingStore\r\n        }\r\n        var ratio = getPixelRatio(ctx)\r\n        ctx.scale(ratio, ratio)\r\n        // var w = dom.offsetWidth\r\n        // var h = dom.offsetHeight\r\n        _canvas.width = 307 * ratio\r\n        _canvas.height = 475 * ratio\r\n        _canvas.style.width = 307 * ratio + 'px'\r\n        _canvas.style.height = 475 * ratio + 'px'\r\n        let bgImg = that.$refs.active_bg_img[that.$refs.mySwiper.swiper.realIndex]\r\n        let headImg = that.$refs.active_head_img[that.$refs.mySwiper.swiper.realIndex]\r\n        let codeImg = that.$refs.active_code[that.$refs.mySwiper.swiper.realIndex]\r\n        let princessImg = that.$refs.active_princess[that.$refs.mySwiper.swiper.realIndex]\r\n        // 绘制海报底部背景图\r\n        ctx.drawImage(bgImg, 0, 0, 307 * ratio, 380 * ratio)\r\n        // 绘制头像\r\n        var width = 40\r\n        var height = 40\r\n        var circle = {\r\n          x: 307 / 2 - width / 2,\r\n          y: height / 2,\r\n          r: width / 2\r\n        }\r\n        // ctx.clearRect(circle.x * ratio, 4 * ratio, width * ratio, height * ratio)\r\n        // 开始路径画圆,剪切处理\r\n        ctx.save()\r\n        ctx.beginPath()\r\n        ctx.arc(circle.x * ratio + 20 * ratio, 24 * ratio, circle.r * ratio, 0, Math.PI * 2, false)\r\n        // 剪切路径\r\n        ctx.clip()\r\n        ctx.drawImage(headImg, circle.x * ratio, 4 * ratio, width * ratio, height * ratio)\r\n        // 恢复状态\r\n        ctx.restore()\r\n\r\n        // 绘制昵称\r\n        // 文字填充颜色\r\n        ctx.fillStyle = '#fff'\r\n        ctx.lineWidth = 1 * ratio\r\n        ctx.font = 12 * ratio + 'px Adobe Ming Std'\r\n        var arr = that.userInfo.nickname.split('')\r\n        let nameArr = ''\r\n        if (arr.length > 11) {\r\n          for (let i = 0; i < arr.length; i++) {\r\n            if (i < 11) {\r\n              nameArr += arr[i]\r\n            }\r\n          }\r\n          nameArr += '...'\r\n        } else {\r\n          nameArr = that.userInfo.nickname\r\n        }\r\n        var len = ctx.measureText(nameArr).width\r\n        console.log(307 * ratio / 2)\r\n        ctx.fillText(nameArr, 307 * ratio / 2 - len / 2, (height * 1.5) * ratio)\r\n\r\n        // 绘制空白区域的底部\r\n        ctx.fillStyle = '#fff'\r\n        ctx.fillRect(0, 380 * ratio, 307 * ratio, 95 * ratio)\r\n\r\n        // 绘制二维码\r\n        ctx.drawImage(codeImg, 45 * ratio, (380 + 15) * ratio, 65 * ratio, 65 * ratio)\r\n\r\n        // 绘制标语图片\r\n        ctx.drawImage(princessImg, 130 * ratio, (380 + 65 / 2) * ratio, 158 * ratio, 35 * ratio)\r\n        let url = _canvas.toDataURL('image/png')\r\n        that.htmlUrl = url\r\n        that.toSave(that.htmlUrl)\r\n      })\r\n    },\r\n    toSave(url) {\r\n      let type = 'png'\r\n      let that = this\r\n      let imgData = url\r\n      var bitmap = new plus.nativeObj.Bitmap()\r\n      let filename = 'news_picture_' + (new Date()).getTime() + '.' + type\r\n      bitmap.loadBase64Data(imgData)\r\n      // 保存Bitmap图片\r\n      bitmap.save(\r\n        '_doc/' + filename, {\r\n          overwrite: true\r\n        },\r\n        function (i) {\r\n          // 保存到系统相册\r\n          plus.gallery.save(\r\n            i.target,\r\n            function (d) {\r\n              Indicator.close()\r\n              console.log('保存图片成功：' + JSON.stringify(d))\r\n              // 销毁Bitmap图片\r\n              that.fileUrl = '_doc/' + filename\r\n              bitmap.clear()\r\n              Toast({\r\n                message: '图片已保存到相册',\r\n                iconClass: 'iconfont icon-dui1',\r\n                duration: 2000\r\n              })\r\n            },\r\n            function (e) {\r\n              Indicator.close()\r\n              // 销毁Bitmap图片\r\n              console.log('加载Base64图片数据失败：' + JSON.stringify(e))\r\n              bitmap.clear()\r\n              console.log('保存失败', i)\r\n            }\r\n          )\r\n        },\r\n        function () {\r\n          bitmap.clear()\r\n        }\r\n      )\r\n    },\r\n    getShareCode() {\r\n      const that = this\r\n      // let baseURL = ''\r\n      let storage = window.localStorage\r\n      let url = process.env.BASE_URL + '/share/index.html?uid=' + storage.getItem('token').split(';')[0].split('=')[1] + '&time=' + new Date().getTime()\r\n      var obj = {\r\n        url: url\r\n      }\r\n      console.log(url)\r\n      getPosterQR(obj).then(res => {\r\n        that.erweima = 'data:image/png;base64,' + transformArrayBufferToBase64(res)\r\n      })\r\n    },\r\n    share() {\r\n      let System = window.plus\r\n      // 正式 gh_a0cfbcaf8fa2 测试 gh_05718de312bd\r\n      // if (img === false) {\r\n      let img = '_www/img/mp.png'\r\n      // }\r\n      let storage = window.localStorage\r\n      // eslint-disable-next-line camelcase\r\n      let baseURL = ''\r\n      if (process.env.NODE_ENV === 'development') {\r\n        baseURL = '/api'\r\n      } else {\r\n        baseURL = process.env.BASE_URL\r\n      }\r\n      let url = baseURL + 'share/index.html?uid='\r\n      let shareId = storage.getItem('token').split(';')[0].split('=')[1]\r\n      // eslint-disable-next-line camelcase\r\n      let shareUrl = url + shareId + '&time=' + new Date().getTime()\r\n      let msg = {\r\n        type: 'web',\r\n        title: '您的好友诚邀你成为公主购VIP会员，开通会员可享更多优惠权益。',\r\n        thumbs: [img],\r\n        content: '公主购：一个专注省钱的会员制电商平台~',\r\n        href: shareUrl,\r\n        // miniProgram: {\r\n        //   id: 'gh_a0cfbcaf8fa2',\r\n        //   path: shareUrl,\r\n        //   webUrl: 'http://uniapp.dcloud.io',\r\n        //   type: 0\r\n        // },\r\n        extra: {\r\n          scene: 'WXSceneSession'\r\n        }\r\n      }\r\n      this.sharewx ? this.isAuth(msg) : System.nativeUI.alert('当前环境不支持微信分享操作!')\r\n    },\r\n    isAuth(msg) {\r\n      console.log('判断是否授权')\r\n      console.log(msg)\r\n      if (this.sharewx.authenticated) {\r\n        this.shareAction(msg)\r\n      } else {\r\n        this.sharewx.authorize(function () {\r\n          this.shareAction(msg)\r\n        }, function (e) {\r\n          console.log(e)\r\n          if (e.code == -8) {\r\n            Toast({\r\n              message: '检测到您未安装微信，请通过应用商店下载',\r\n              duration: 1000\r\n            })\r\n          }\r\n          console.log('认证授权失败')\r\n        })\r\n      }\r\n    },\r\n    shareAction(msg) {\r\n      console.log('开始分享')\r\n      console.log(msg)\r\n      this.sharewx.send(msg, function () {\r\n        console.log('分享成功！')\r\n        // Toast({\r\n        //   message: '分享成功',\r\n        //   iconClass: 'iconfont icon-dui1',\r\n        //   duration: 1000\r\n        // })\r\n      }, function (e) {\r\n        console.log('失败失败啊' + e.message)\r\n      })\r\n    },\r\n    linkGo() {\r\n      let storage = window.localStorage\r\n      if (storage.getItem('isLogin') === true || storage.getItem('isLogin') === 'true') {\r\n        this.$router.togo({\r\n          path: '/personCenter'\r\n        })\r\n      }\r\n    },\r\n    getPostList() {\r\n      const that = this\r\n      Indicator.open('加载中...')\r\n      // 请求海报列表\r\n      getPostImg().then(res => {\r\n        if (res.isSuccess) {\r\n          Indicator.close()\r\n          if (res.data.length > 0) {\r\n            that.posterList = res.data\r\n          }\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n\r\n</script>\r\n<style lang=\"less\">\r\n  .cansImg {\r\n    position: absolute;\r\n    opacity: 0;\r\n  }\r\n\r\n  #poster_swiper {\r\n    position: fixed;\r\n    width: 100%;\r\n    z-index: 4;\r\n    overflow: hidden;\r\n  }\r\n\r\n  #poster_swiper .swiper_wraper {\r\n    height: 950/100rem;\r\n    position: relative;\r\n    top: 50%;\r\n    transform: translateY(-58%);\r\n    -webket-transform: translateY(-58%);\r\n  }\r\n\r\n  #poster_swiper .wiper_item {\r\n    position: relative;\r\n    z-index: 3;\r\n    width: 82%;\r\n    transform: scale(0.9);\r\n    background: #fff;\r\n    position: relative;\r\n    border-radius: 20/100rem;\r\n    transition: all 0.2s linear 0s;\r\n  }\r\n\r\n  #poster_swiper .wiper_item .slide-image {\r\n    width: 100%;\r\n    display: block;\r\n    height: 100%;\r\n    position: relative;\r\n    border-radius: 20/100rem;\r\n    overflow: hidden;\r\n    background: #fff;\r\n  }\r\n  #poster_swiper .wiper_item .slide-image .share_content{\r\n    width: 100%;\r\n    display: block;\r\n    height: 100%;\r\n  }\r\n  #poster_swiper .wiper_item .slide-image .image {\r\n    position: relative;\r\n    width: 100%;\r\n    display: block;\r\n    margin: 0 auto;\r\n    height: 760/100rem;\r\n  }\r\n\r\n  #poster_swiper /deep/.swiper-slide-active {\r\n    transform: none !important;\r\n    transition: all 0.2s linear 0s !important;\r\n    background: #fff !important;\r\n    border-radius: 20/100rem !important;\r\n  }\r\n\r\n  .poster {\r\n    position: fixed;\r\n    width: 100%;\r\n    height: 100%;\r\n  }\r\n\r\n  .poster_b {\r\n    /* padding: 32/100rem 0; */\r\n    padding: 24/100rem 0;\r\n    position: fixed;\r\n    bottom: 0;\r\n    background: #fff;\r\n    z-index: 1120;\r\n    width: 100%;\r\n    text-align: center;\r\n  }\r\n\r\n  .poster_b button {\r\n    background: none;\r\n    display: inline-block;\r\n    line-height: normal;\r\n  }\r\n\r\n  .poster_b_wx {\r\n    text-align: center;\r\n    width: 3.5rem;\r\n    padding: 0;\r\n    margin: 0;\r\n  }\r\n\r\n  .poster_b_wx img {\r\n    width: 122/100rem;\r\n    height: 122/100rem;\r\n    margin-bottom: 15/100rem;\r\n  }\r\n\r\n  .poster_b_wx span {\r\n    display: block;\r\n    text-align: center;\r\n    width: 100%;\r\n    font-size: 24/100rem;\r\n    color: #5d5d5d;\r\n  }\r\n\r\n  .poster_b_save {\r\n    text-align: center;\r\n    width: 3.5rem;\r\n    padding: 0;\r\n    margin: 0;\r\n  }\r\n\r\n  .poster_b_save img {\r\n    width: 122/100rem;\r\n    height: 122/100rem;\r\n    margin-bottom: 15/100rem;\r\n  }\r\n\r\n  .poster_b_save span {\r\n    display: block;\r\n    font-size: 24/100rem;\r\n    color: #5d5d5d;\r\n    text-align: center;\r\n    width: 100%;\r\n  }\r\n\r\n  #poster_swiper .m_info_login {\r\n    /* background: #FFF; */\r\n    display: block;\r\n    /* width: 100%; */\r\n    width: 200/100rem;\r\n    top: 10/100rem;\r\n    position: absolute;\r\n    left: 50%;\r\n    transform: translateX(-50%);\r\n    text-align: center;\r\n    /* padding: 25/100rem 0 0 20/100rem; */\r\n  }\r\n\r\n  #poster_swiper .m_avatar {\r\n    display: inline-block;\r\n    border-radius: 50%;\r\n    width: 80/100rem;\r\n    height: 80/100rem;\r\n    background: #fff;\r\n    vertical-align: middle;\r\n\r\n  }\r\n\r\n  #poster_swiper .m_info_title {\r\n    font-size: 24/100rem;\r\n    color: #fff;\r\n  }\r\n\r\n  #poster_swiper .m_info_title .m_info_name {\r\n    overflow: hidden;\r\n    text-align: center;\r\n    text-overflow: ellipsis;\r\n    white-space: nowrap;\r\n    padding-top: 0.05rem\r\n  }\r\n\r\n  #poster_swiper .erweima {\r\n    display: block;\r\n    // position: absolute;\r\n    // bottom: 0;\r\n    overflow: hidden;\r\n    background: #fff;\r\n    width: 100%;\r\n    height: 190/100rem;\r\n    /* padding: 40/100rem 0; */\r\n  }\r\n\r\n  #poster_swiper .erweima .erweima_l {\r\n    float: left;\r\n    width: 130/100rem;\r\n    height: 130/100rem;\r\n    margin-left: 60/100rem;\r\n    margin-top: 30/100rem;\r\n  }\r\n\r\n  #poster_swiper .erweima .erweima_r {\r\n    float: left;\r\n    margin-left: 45/100rem;\r\n    margin-top: 59/100rem;\r\n  }\r\n\r\n  #poster_swiper .erweima .erweima_r img {\r\n    width: 316/100rem;\r\n    height: 70/100rem;\r\n  }\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/other/poster.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('common-header',{attrs:{\"h_title\":_vm.h_title,\"showback\":true,\"bgcolor\":_vm.head_color}}),_vm._v(\" \"),_c('div',{staticClass:\"poster\"},[_c('div',{staticClass:\"poster_bg\"}),_vm._v(\" \"),_c('div',{staticClass:\"poster_swiper\",staticStyle:{\"height\":\"100%\"},attrs:{\"id\":\"poster_swiper\"}},[(_vm.posterList.length > 0)?_c('swiper',{ref:\"mySwiper\",staticClass:\"swiper_wraper\",attrs:{\"options\":_vm.swiperOption}},_vm._l((_vm.posterList),function(item,index){return _c('swiper-slide',{key:index,staticClass:\"wiper_item\"},[_c('div',{ref:\"imageTofile\",refInFor:true,staticClass:\"slide-image\"},[_c('div',{staticClass:\"slide-content\"},[_c('img',{ref:\"active_bg_img\",refInFor:true,staticClass:\"image\",attrs:{\"src\":item.img}}),_vm._v(\" \"),_c('div',{staticClass:\"m_info_login\"},[_c('img',{ref:\"active_head_img\",refInFor:true,staticClass:\"m_avatar\",attrs:{\"src\":_vm.avatar,\"mode\":\"scaleToFill\"},on:{\"click\":_vm.linkGo}}),_vm._v(\" \"),_c('div',{staticClass:\"m_info_title\"},[_c('div',{staticClass:\"m_info_name\"},[_c('span',[_vm._v(_vm._s(_vm.userInfo.nickname))])])])]),_vm._v(\" \"),_c('div',{staticClass:\"erweima\"},[_c('img',{ref:\"active_code\",refInFor:true,staticClass:\"erweima_l\",attrs:{\"src\":_vm.erweima}}),_vm._v(\" \"),_c('div',{staticClass:\"erweima_r\"},[_c('img',{ref:\"active_princess\",refInFor:true,attrs:{\"src\":_vm.princess}})])])])])])}),1):_vm._e()],1),_vm._v(\" \"),_c('div',{staticClass:\"poster_b\"},[_c('button',{staticClass:\"poster_b_wx\",on:{\"click\":_vm.share}},[_c('img',{attrs:{\"src\":_vm.imgPath+'com/icon_wx.png'}}),_vm._v(\" \"),_c('span',[_vm._v(\"分享好友\")])]),_vm._v(\" \"),_c('button',{staticClass:\"poster_b_save\",on:{\"click\":_vm.saveImg}},[_c('img',{attrs:{\"src\":_vm.imgPath+'com/icon-save.png'}}),_vm._v(\" \"),_c('span',[_vm._v(\"保存图片\")])])])])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-8e22ca8a\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/other/poster.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-8e22ca8a\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./poster.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./poster.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./poster.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-8e22ca8a\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./poster.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/other/poster.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}