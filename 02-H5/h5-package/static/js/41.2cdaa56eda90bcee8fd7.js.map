{"version":3,"sources":["webpack:///src/views/member/myComment.vue","webpack:///./src/views/member/myComment.vue?2571","webpack:///./src/views/member/myComment.vue"],"names":["myComment","name","components","commonHeader","common_header","InfiniteScroll","mint_ui_common","Indicator","Button","Lazyload","Toast","data","h_title","showImg","comList","commOrder","userInfo","avatar","nickname","username","isShow","page","limit","total","order_total","imgShow","loading","imgPath","mounted","open","this","$store","state","home","getList","methods","goTop","console","log","document","getElementById","scrollIntoView","block","behavior","goIndex","$router","replace","path","goLink","link","value","url","togo","goOrder","id","tid","params","goComm","num","that","info","Object","api","then","res","close","isSuccess","i","rows","length","createtime","pubilc","row","loadMore","concat","previewImg","img_show_big","hiddenImg","member_myComment","render","_vm","_h","$createElement","_c","_self","attrs","showback","_v","on","returnTop","staticStyle","height","staticClass","width","border-radius","src","_s","click","$event","_l","item","index","key","first_img","order_items","order_id","_e","directives","rawName","expression","infinite-scroll-disabled","infinite-scroll-distance","score","title","comment","com","goods_id","goods_image","proPrice_n","proScore","proPrice_o","border","background","type","size","plain","hidden","data-link","catchtouchmove","alt","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/41.2cdaa56eda90bcee8fd7.js","sourcesContent":["<template>\r\n  <div>\r\n    <common-header :h_title=\"h_title\" :showback=\"true\"></common-header>\r\n    <return-top @returnTop='goTop'></return-top>\r\n    <div style='height:0.9rem' id='com'></div>\r\n    <div class='my_comment'>\r\n      <div class='com_body'>\r\n        <div class='com_user'>\r\n          <div class='user_info'>\r\n            <img :src='userInfo.avatar' style='width:0.64rem;height:0.61rem;border-radius:50%;' />\r\n            <span>{{userInfo.nickname}}</span>\r\n            <!-- <i class='iconfont icon-userInfo.level'></i> -->\r\n          </div>\r\n          <div class='con_btn' @click=\"goOrder('/order',5,6)\">写评论</div>\r\n        </div>\r\n        <div class='com_write' v-if='commOrder.length>0'>\r\n          <div class='write_title'>\r\n            没有来得及评价的宝贝，还有机会去评论！\r\n          </div>\r\n          <div class='write_imglist'>\r\n            <img :src='item.rows[0].first_img' v-for='(item,index) in commOrder' :key='index'\r\n              @click=\"goComm('/addComment',item.rows[0].order_items.length,item.rows[0].order_id)\" />\r\n            <div class='null_img' @click=\"goOrder('/order',5,6)\" v-if='order_total>4'>\r\n              <span>查看更多</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class='com_list' v-if='comList.length>0' v-infinite-scroll=\"loadMore\" infinite-scroll-disabled=\"loading\"\r\n          infinite-scroll-distance=\"30\">\r\n          <div class='com_head'>全部评论</div>\r\n          <div class='com_info' v-for='(item,index) in comList' :key='index'>\r\n            <div class='com_info_head'>\r\n              <div class='com_users'>\r\n                <img :src='userInfo.avatar' style='width:0.64rem;height:0.61rem;border-radius:50%;' />\r\n                <span>{{userInfo.nickname}}</span>\r\n              </div>\r\n              <div class='star_level'>\r\n                <i class='iconfont icon-star' v-if=\"item.score<1\"></i>\r\n                <i class='iconfont icon-xingping light' v-if=\"item.score>=1\"></i>\r\n                <i class='iconfont icon-star' v-if=\"item.score<2\"></i>\r\n                <i class='iconfont icon-xingping light' v-if=\"item.score>=2\"></i>\r\n                <i class='iconfont icon-star' v-if=\"item.score<3\"></i>\r\n                <i class='iconfont icon-xingping light' v-if=\"item.score>=3\"></i>\r\n                <i class='iconfont icon-star' v-if=\"item.score<4\"></i>\r\n                <i class='iconfont icon-xingping light' v-if=\"item.score>=4\"></i>\r\n                <i class='iconfont icon-star' v-if=\"item.score<5\"></i>\r\n                <i class='iconfont icon-xingping light' v-if=\"item.score>=5\"></i>\r\n              </div>\r\n            </div>\r\n            <div class='com_pro_info'>\r\n              <span>{{item.createtime}}</span>规格:\r\n              <!-- 数量:<span>{{item.proNum}}</span> -->\r\n              <span>{{item.title}}</span>\r\n            </div>\r\n            <div class='com_text'>\r\n              {{item.comment}}\r\n            </div>\r\n            <div class='com_img'>\r\n              <img :src='com' v-for='(com,index) in item.pic' :key='index' @click='previewImg(com)' />\r\n            </div>\r\n            <div class='com_pro_more' @click=\"goLink('/proDetail?type=normal&id=',item.goods_id)\">\r\n              <div class='pro_img'>\r\n                <img :src='item.goods_image' />\r\n              </div>\r\n              <div class='pro_more_info'>\r\n                <div class='pro_name'>{{item.name}}</div>\r\n                <div class='pro_spec'>\r\n                  规格:\r\n                  <span>{{item.title}}</span>\r\n                </div>\r\n                <div class='pro_price'>\r\n                  <span class='price'>{{item.proPrice_n}}</span>\r\n                  <i class='iconfont icon-jifen1' v-if='item.proScore>0'></i>\r\n                  <span class='score' v-if='item.proScore>0'>{{item.proScore}}</span>\r\n                </div>\r\n                <div class='pro_oldprice'>{{item.proPrice_o}}</div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <button type=\"default\" size=\"default\" loading plain hidden='comList.length==total'\r\n            style=\"border:none;background:#f2f2f2\">加载中...</button>\r\n        </div>\r\n        <div class='order-foot' v-if='comList.length==total&&total>0'>\r\n          <span>—————— 我是有底线的 ——————</span>\r\n        </div>\r\n        <div class='com_list_null' v-if='comList.length<=0'>\r\n          <img :src='imgPath+\"pro/null_1.png\"' />\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class='goIndex' @click='goIndex' data-link='../index/index'>\r\n      <i class='iconfont icon-home'></i>\r\n    </div>\r\n    <div class='pro_com_img_bg' v-if='imgShow' catchtouchmove=\"ture\" @click=\"hiddenImg\"></div>\r\n    <div class='pro_com_img' v-if='imgShow' catchtouchmove=\"ture\" @click=\"hiddenImg\">\r\n      <img :src=\"img_show_big\" alt=\"\" @click=\"hiddenImg\">\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport commonHeader from 'common/common-header'\r\nimport {\r\n  InfiniteScroll,\r\n  Indicator,\r\n  Button,\r\n  Lazyload,\r\n  Toast\r\n} from 'mint-ui'\r\n  // import {\r\n  //   mapMutations,\r\n  //   mapGetters\r\n  // } from 'vuex'\r\nimport {\r\n  parseTime\r\n} from '@/store/pubilc.js'\r\nimport {\r\n  getMyCommList,\r\n  getnoCommList\r\n} from '@/api/index'\r\nexport default {\r\n  name: 'MyComment',\r\n  components: {\r\n    commonHeader,\r\n    InfiniteScroll,\r\n    Indicator,\r\n    Button,\r\n    Lazyload,\r\n    Toast\r\n  },\r\n  data() {\r\n    return {\r\n      h_title: '我的评价',\r\n      showImg: false,\r\n      comList: [],\r\n      commOrder: [],\r\n      userInfo: {\r\n        avatar: '',\r\n        nickname: '',\r\n        username: '',\r\n        isShow: 0\r\n      },\r\n      page: 1,\r\n      limit: 10,\r\n      total: 0,\r\n      order_total: 0,\r\n      imgShow: false,\r\n      loading: true,\r\n      imgPath: process.env.FilE_URL\r\n    }\r\n  },\r\n  mounted() {\r\n    Indicator.open('加载中...')\r\n    this.userInfo = this.$store.state.home.userInfo\r\n    // 获取我的评价列表\r\n    this.getList()\r\n  },\r\n  methods: {\r\n    goTop() {\r\n      console.log('回到顶部')\r\n      document.getElementById('com').scrollIntoView({\r\n        block: 'start',\r\n        behavior: 'smooth'\r\n      })\r\n    },\r\n    goIndex() {\r\n      this.$router.replace({\r\n        path: '/index'\r\n      })\r\n    },\r\n    goLink(link, value) {\r\n      let url = link\r\n      if (value !== '') {\r\n        url = link + value\r\n      }\r\n      this.$router.togo({\r\n        path: url\r\n      })\r\n    },\r\n    goOrder(link, id, tid) {\r\n      this.$router.togo({\r\n        path: link,\r\n        name: 'Order',\r\n        params: {\r\n          id: id,\r\n          tid: tid\r\n        }\r\n      })\r\n    },\r\n    goComm(link, num, id) {\r\n      this.$router.togo({\r\n        path: link + '?num=' + num + '&orderId=' + id\r\n      })\r\n      // wx.navigateTo({\r\n      //   url: e.currentTarget.dataset.url + '?num=' + e.currentTarget.dataset.num + '&orderId=' + e.currentTarget.id\r\n      // })\r\n    },\r\n    getList: function () {\r\n      var that = this\r\n      // 获取我的评价\r\n      let info = {\r\n        page: that.page,\r\n        limit: that.limit\r\n      }\r\n      getMyCommList(info).then(res => {\r\n        Indicator.close()\r\n        if (res.isSuccess) {\r\n          for (var i = 0; i < res.data.rows.length; i++) {\r\n            res.data.rows[i].createtime = parseTime(res.data.rows[i].createtime, '{y}-{m}-{d}')\r\n          }\r\n          that.comList = res.data.rows\r\n          that.total = res.data.total\r\n          that.loading = false\r\n        }\r\n      })\r\n      // 获取未评价订单\r\n      getnoCommList().then(res => {\r\n        if (res.isSuccess) {\r\n          if (res.row !== null) {\r\n            that.commOrder = res.rows\r\n            that.order_total = res.total\r\n          }\r\n        }\r\n      })\r\n    },\r\n    loadMore() {\r\n      var that = this\r\n      that.loading = true\r\n      // 获取我的评价\r\n      let info = {\r\n        page: ++that.page,\r\n        limit: that.limit\r\n      }\r\n      getMyCommList(info).then(res => {\r\n        Indicator.close()\r\n        if (res.isSuccess) {\r\n          if (res.data.rows !== null && res.data.rows.length > 0) {\r\n            for (var i = 0; i < res.data.rows.length; i++) {\r\n              res.data.rows[i].createtime = parseTime(res.data.rows[i].createtime, '{y}-{m}-{d}')\r\n            }\r\n            that.comList = that.comList.concat(res.data.rows)\r\n            that.total = res.data.total\r\n            that.loading = false\r\n          } else {\r\n            that.loading = true\r\n          }\r\n        }\r\n      })\r\n    },\r\n    previewImg(url) {\r\n      this.imgShow = true\r\n      this.img_show_big = url\r\n    },\r\n    hiddenImg() {\r\n      this.imgShow = false\r\n    }\r\n  }\r\n}\r\n\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n  @import '~styles/index.less';\r\n  @import '~styles/variable.less';\r\n\r\n  .my_comment {\r\n    background: #f2f2f2;\r\n    overflow-x: hidden;\r\n  }\r\n\r\n  .com_body {\r\n    height: 100%;\r\n  }\r\n\r\n  .com_user {\r\n    height: 88/100rem;\r\n    line-height: 88/100rem;\r\n    background: #fff;\r\n    margin-bottom: 20/100rem;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    padding: 0 26/100rem;\r\n  }\r\n\r\n  .com_user .user_info {\r\n    height: 88/100rem;\r\n    line-height: 88/100rem;\r\n    display: inline-flex;\r\n    align-items: center;\r\n  }\r\n\r\n  .com_user .user_info img {\r\n    vertical-align: middle;\r\n  }\r\n\r\n  .user_info span {\r\n    font-size: 24/100rem;\r\n    color: #686868;\r\n    margin: 0 16/100rem;\r\n    line-height: 1.4;\r\n    display: -webkit-box;\r\n    -webkit-box-orient: vertical;\r\n    -webkit-line-clamp: 2;\r\n    overflow: hidden;\r\n    width: 4rem;\r\n  }\r\n\r\n  .user_info .iconfont {\r\n    font-size: 40/100rem;\r\n    color: #ff4e79;\r\n  }\r\n\r\n  .com_user .con_btn {\r\n    width: 160/100rem;\r\n    height: 50/100rem;\r\n    font-size: 28/100rem;\r\n    color: #ff4e79;\r\n    border: 2/100rem solid #ff4e79;\r\n    text-align: center;\r\n    line-height: 50/100rem;\r\n    border-radius: 20/100rem;\r\n  }\r\n\r\n  .com_body .com_write {\r\n    height: 252/100rem;\r\n    background: #fff;\r\n    margin-bottom: 20/100rem;\r\n    padding: 0 26/100rem;\r\n  }\r\n\r\n  .com_write .write_title {\r\n    font-size: 24/100rem;\r\n    color: #909090;\r\n    padding-top: 38/100rem;\r\n  }\r\n\r\n  .com_write .write_imglist {\r\n    margin-top: 25/100rem;\r\n    overflow: hidden;\r\n  }\r\n\r\n  .write_imglist img {\r\n    width: 130/100rem;\r\n    height: 130/100rem;\r\n    margin-right: 12/100rem;\r\n  }\r\n\r\n  .write_imglist .null_img {\r\n    width: 130/100rem;\r\n    height: 130/100rem;\r\n    background: #8f8f8f;\r\n    text-align: center;\r\n    line-height: 130/100rem;\r\n    float: right;\r\n  }\r\n\r\n  .null_img span {\r\n    color: #fff;\r\n    font-size: 22/100rem;\r\n  }\r\n\r\n  // .com_body .com_list {}\r\n\r\n  .com_list .com_head {\r\n    height: 84/100rem;\r\n    line-height: 84/100rem;\r\n    font-size: 32/100rem;\r\n    color: #ff4e79;\r\n    background: #fff;\r\n    padding: 0 26/100rem;\r\n    border-bottom: 2/100rem solid #e0e0e0;\r\n  }\r\n\r\n  .com_list .com_info {\r\n    margin-bottom: 20/100rem;\r\n    background: #fff;\r\n    padding: 0 26/100rem;\r\n    padding-bottom: 20/100rem;\r\n  }\r\n\r\n  .com_info .com_info_head {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    padding-top: 36/100rem;\r\n  }\r\n\r\n  .com_info_head .com_users {\r\n    display: inline-flex;\r\n    align-items: center;\r\n    justify-content: flex-start;\r\n  }\r\n\r\n  .com_users span {\r\n    font-size: 24/100rem;\r\n    color: #686868;\r\n    margin-left: 16/100rem;\r\n    line-height: 1.4;\r\n    display: -webkit-box;\r\n    -webkit-box-orient: vertical;\r\n    -webkit-line-clamp: 2;\r\n    overflow: hidden;\r\n    width: 3rem;\r\n  }\r\n\r\n  .com_info .com_pro_info {\r\n    padding-top: 22/100rem;\r\n    font-size: 24/100rem;\r\n    color: #a4a4a4;\r\n    font-family: 'DIN';\r\n    background: #fff;\r\n  }\r\n\r\n  .com_info_head .star_level .light {\r\n    color: #ff4e79;\r\n  }\r\n\r\n  .com_info_head .star_level icon {\r\n    color: #ff4e79;\r\n  }\r\n\r\n  .com_pro_info span {\r\n    margin-right: 8/100rem;\r\n  }\r\n\r\n  .com_info .com_span {\r\n    padding: 36/100rem 0;\r\n    font-size: 30/100rem;\r\n    /* font-weight: bold; */\r\n    color: #333;\r\n    word-wrap: break-word;\r\n  }\r\n\r\n  .com_img img {\r\n    width: 176/100rem;\r\n    height: 176/100rem;\r\n    margin-right: 12/100rem;\r\n  }\r\n\r\n  .com_info .com_pro_more {\r\n    height: 220/100rem;\r\n    display: flex;\r\n    align-items: center;\r\n    background: #f8f8f8;\r\n  }\r\n\r\n  .com_pro_more .pro_img {\r\n    width: 220/100rem;\r\n    height: 220/100rem;\r\n  }\r\n\r\n  .com_pro_more .pro_img img {\r\n    width: 220/100rem;\r\n    height: 220/100rem;\r\n  }\r\n\r\n  .com_pro_more .pro_more_info {\r\n    padding: 0 24/100rem;\r\n    background: #f8f8f8;\r\n  }\r\n\r\n  .pro_more_info .pro_name {\r\n    width: 437/100rem;\r\n    font-size: 30/100rem;\r\n    /* font-weight: bold; */\r\n    color: #313131;\r\n    /* margin-top: 30/100rem; */\r\n    display: -webkit-box;\r\n    -webkit-box-orient: vertical;\r\n    -webkit-line-clamp: 2;\r\n    overflow: hidden;\r\n  }\r\n\r\n  .pro_more_info .pro_spec {\r\n    margin-top: 10/100rem;\r\n    font-size: 24/100rem;\r\n    color: #7e7e7e;\r\n  }\r\n\r\n  .pro_spec span {\r\n    font-family: 'DIN';\r\n  }\r\n\r\n  .com_pro_more .pro_price {\r\n    margin-top: 10/100rem;\r\n    font-family: 'DIN';\r\n  }\r\n\r\n  .pro_price .price {\r\n    font-size: 38/100rem;\r\n    color: #ff4e79;\r\n  }\r\n\r\n  .pro_price .score {\r\n    font-size: 26/100rem;\r\n    color: #666;\r\n  }\r\n\r\n  .pro_price img {\r\n    width: 24/100rem;\r\n    height: 20/100rem;\r\n  }\r\n\r\n  .com_pro_more .pro_oldprice {\r\n    font-family: 'DIN';\r\n    color: #7c7c7c;\r\n    font-size: 22/100rem;\r\n    text-decoration: line-through;\r\n    margin-top: -8/100rem;\r\n  }\r\n\r\n  .com_oper {\r\n    display: flex;\r\n    height: 72/100rem;\r\n    justify-content: space-between;\r\n    align-items: flex-end;\r\n    padding-bottom: 42/100rem;\r\n  }\r\n\r\n  .com_oper .com_oper_info {\r\n    font-size: 24/100rem;\r\n    color: #8b8b8b;\r\n  }\r\n\r\n  .com_oper .com_oper_btn {\r\n    width: 144/100rem;\r\n    height: 46/100rem;\r\n    font-size: 28/100rem;\r\n    color: #ff4e79;\r\n    border: 2/100rem solid #ff4e79;\r\n    text-align: center;\r\n    line-height: 46/100rem;\r\n    border-radius: 20/100rem;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n  }\r\n\r\n  .com_oper_btn icon {\r\n    font-size: 28/100rem;\r\n    line-height: 88/100rem;\r\n  }\r\n\r\n  .order-foot {\r\n    height: 84/100rem;\r\n    line-height: 84/100rem;\r\n    /* background: #fff; */\r\n    text-align: center;\r\n    margin-top: -20/100rem;\r\n  }\r\n\r\n  .order-foot span {\r\n    font-size: 23.97/100rem;\r\n    color: #bebebe;\r\n  }\r\n\r\n  .com_list_null {\r\n    text-align: center;\r\n    font-size: 30/100rem;\r\n    /* font-weight: bold; */\r\n    padding: 200/100rem 0;\r\n    color: #999;\r\n  }\r\n\r\n  .com_list_null img {\r\n    display: inline-block;\r\n    width: 750/100rem;\r\n    height: 357/100rem;\r\n  }\r\n\r\n  .pro_com_img_bg {\r\n    position: fixed;\r\n    background: rgba(0, 0, 0, 0.6);\r\n    width: 100%;\r\n    height: 100%;\r\n    top: 0;\r\n    z-index: 202;\r\n  }\r\n\r\n  .pro_com_img {\r\n    width: 100%;\r\n    height: 100%;\r\n    position: fixed;\r\n    bottom: 0;\r\n    z-index: 203;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n\r\n    img {\r\n      width: 80%;\r\n      vertical-align: middle;\r\n    }\r\n  }\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/member/myComment.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('common-header',{attrs:{\"h_title\":_vm.h_title,\"showback\":true}}),_vm._v(\" \"),_c('return-top',{on:{\"returnTop\":_vm.goTop}}),_vm._v(\" \"),_c('div',{staticStyle:{\"height\":\"0.9rem\"},attrs:{\"id\":\"com\"}}),_vm._v(\" \"),_c('div',{staticClass:\"my_comment\"},[_c('div',{staticClass:\"com_body\"},[_c('div',{staticClass:\"com_user\"},[_c('div',{staticClass:\"user_info\"},[_c('img',{staticStyle:{\"width\":\"0.64rem\",\"height\":\"0.61rem\",\"border-radius\":\"50%\"},attrs:{\"src\":_vm.userInfo.avatar}}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.userInfo.nickname))])]),_vm._v(\" \"),_c('div',{staticClass:\"con_btn\",on:{\"click\":function($event){return _vm.goOrder('/order',5,6)}}},[_vm._v(\"写评论\")])]),_vm._v(\" \"),(_vm.commOrder.length>0)?_c('div',{staticClass:\"com_write\"},[_c('div',{staticClass:\"write_title\"},[_vm._v(\"\\n          没有来得及评价的宝贝，还有机会去评论！\\n        \")]),_vm._v(\" \"),_c('div',{staticClass:\"write_imglist\"},[_vm._l((_vm.commOrder),function(item,index){return _c('img',{key:index,attrs:{\"src\":item.rows[0].first_img},on:{\"click\":function($event){return _vm.goComm('/addComment',item.rows[0].order_items.length,item.rows[0].order_id)}}})}),_vm._v(\" \"),(_vm.order_total>4)?_c('div',{staticClass:\"null_img\",on:{\"click\":function($event){return _vm.goOrder('/order',5,6)}}},[_c('span',[_vm._v(\"查看更多\")])]):_vm._e()],2)]):_vm._e(),_vm._v(\" \"),(_vm.comList.length>0)?_c('div',{directives:[{name:\"infinite-scroll\",rawName:\"v-infinite-scroll\",value:(_vm.loadMore),expression:\"loadMore\"}],staticClass:\"com_list\",attrs:{\"infinite-scroll-disabled\":\"loading\",\"infinite-scroll-distance\":\"30\"}},[_c('div',{staticClass:\"com_head\"},[_vm._v(\"全部评论\")]),_vm._v(\" \"),_vm._l((_vm.comList),function(item,index){return _c('div',{key:index,staticClass:\"com_info\"},[_c('div',{staticClass:\"com_info_head\"},[_c('div',{staticClass:\"com_users\"},[_c('img',{staticStyle:{\"width\":\"0.64rem\",\"height\":\"0.61rem\",\"border-radius\":\"50%\"},attrs:{\"src\":_vm.userInfo.avatar}}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.userInfo.nickname))])]),_vm._v(\" \"),_c('div',{staticClass:\"star_level\"},[(item.score<1)?_c('i',{staticClass:\"iconfont icon-star\"}):_vm._e(),_vm._v(\" \"),(item.score>=1)?_c('i',{staticClass:\"iconfont icon-xingping light\"}):_vm._e(),_vm._v(\" \"),(item.score<2)?_c('i',{staticClass:\"iconfont icon-star\"}):_vm._e(),_vm._v(\" \"),(item.score>=2)?_c('i',{staticClass:\"iconfont icon-xingping light\"}):_vm._e(),_vm._v(\" \"),(item.score<3)?_c('i',{staticClass:\"iconfont icon-star\"}):_vm._e(),_vm._v(\" \"),(item.score>=3)?_c('i',{staticClass:\"iconfont icon-xingping light\"}):_vm._e(),_vm._v(\" \"),(item.score<4)?_c('i',{staticClass:\"iconfont icon-star\"}):_vm._e(),_vm._v(\" \"),(item.score>=4)?_c('i',{staticClass:\"iconfont icon-xingping light\"}):_vm._e(),_vm._v(\" \"),(item.score<5)?_c('i',{staticClass:\"iconfont icon-star\"}):_vm._e(),_vm._v(\" \"),(item.score>=5)?_c('i',{staticClass:\"iconfont icon-xingping light\"}):_vm._e()])]),_vm._v(\" \"),_c('div',{staticClass:\"com_pro_info\"},[_c('span',[_vm._v(_vm._s(item.createtime))]),_vm._v(\"规格:\\n            \"),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(item.title))])]),_vm._v(\" \"),_c('div',{staticClass:\"com_text\"},[_vm._v(\"\\n            \"+_vm._s(item.comment)+\"\\n          \")]),_vm._v(\" \"),_c('div',{staticClass:\"com_img\"},_vm._l((item.pic),function(com,index){return _c('img',{key:index,attrs:{\"src\":com},on:{\"click\":function($event){return _vm.previewImg(com)}}})}),0),_vm._v(\" \"),_c('div',{staticClass:\"com_pro_more\",on:{\"click\":function($event){return _vm.goLink('/proDetail?type=normal&id=',item.goods_id)}}},[_c('div',{staticClass:\"pro_img\"},[_c('img',{attrs:{\"src\":item.goods_image}})]),_vm._v(\" \"),_c('div',{staticClass:\"pro_more_info\"},[_c('div',{staticClass:\"pro_name\"},[_vm._v(_vm._s(item.name))]),_vm._v(\" \"),_c('div',{staticClass:\"pro_spec\"},[_vm._v(\"\\n                规格:\\n                \"),_c('span',[_vm._v(_vm._s(item.title))])]),_vm._v(\" \"),_c('div',{staticClass:\"pro_price\"},[_c('span',{staticClass:\"price\"},[_vm._v(_vm._s(item.proPrice_n))]),_vm._v(\" \"),(item.proScore>0)?_c('i',{staticClass:\"iconfont icon-jifen1\"}):_vm._e(),_vm._v(\" \"),(item.proScore>0)?_c('span',{staticClass:\"score\"},[_vm._v(_vm._s(item.proScore))]):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"pro_oldprice\"},[_vm._v(_vm._s(item.proPrice_o))])])])])}),_vm._v(\" \"),_c('button',{staticStyle:{\"border\":\"none\",\"background\":\"#f2f2f2\"},attrs:{\"type\":\"default\",\"size\":\"default\",\"loading\":\"\",\"plain\":\"\",\"hidden\":\"comList.length==total\"}},[_vm._v(\"加载中...\")])],2):_vm._e(),_vm._v(\" \"),(_vm.comList.length==_vm.total&&_vm.total>0)?_c('div',{staticClass:\"order-foot\"},[_c('span',[_vm._v(\"—————— 我是有底线的 ——————\")])]):_vm._e(),_vm._v(\" \"),(_vm.comList.length<=0)?_c('div',{staticClass:\"com_list_null\"},[_c('img',{attrs:{\"src\":_vm.imgPath+\"pro/null_1.png\"}})]):_vm._e()])]),_vm._v(\" \"),_c('div',{staticClass:\"goIndex\",attrs:{\"data-link\":\"../index/index\"},on:{\"click\":_vm.goIndex}},[_c('i',{staticClass:\"iconfont icon-home\"})]),_vm._v(\" \"),(_vm.imgShow)?_c('div',{staticClass:\"pro_com_img_bg\",attrs:{\"catchtouchmove\":\"ture\"},on:{\"click\":_vm.hiddenImg}}):_vm._e(),_vm._v(\" \"),(_vm.imgShow)?_c('div',{staticClass:\"pro_com_img\",attrs:{\"catchtouchmove\":\"ture\"},on:{\"click\":_vm.hiddenImg}},[_c('img',{attrs:{\"src\":_vm.img_show_big,\"alt\":\"\"},on:{\"click\":_vm.hiddenImg}})]):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6627ee28\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/member/myComment.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6627ee28\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./myComment.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./myComment.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./myComment.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6627ee28\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./myComment.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6627ee28\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/member/myComment.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}