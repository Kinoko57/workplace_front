webpackJsonp([49],{"61LT":function(t,s){},LirB:function(t,s,a){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var i=a("mvHQ"),e=a.n(i),n=a("fqE/"),o=a("Jtwt"),l=a("Au9i"),_=a("HUDw"),c=a("WVZN"),d={name:"MyWallet",data:function(){return{h_title:"我的钱包",head_color:{background:"#f3c0a2",color:"#000"},choseId:-1,myWalletShow:!1,myWallet:!1,startDate:new Date("1971-01-01"),endDate:new Date("2019-01-22"),isSign:!0,membeInfo:{},imgPath:"https://share.gongzhugou.com/static/image/xcx_img/",detailType:"1",fifterHeight:"",dateVale:Object(c.c)((new Date).getTime(),"{y}-{m}-{d}"),detailList:[],cashMoney:{income:"0.00",stay_wind:"0.00"},height:"",topNum:0,total:0,allowScorll:!0,rulesShow:!1,rulesTitle:"",birthday:null,cashInfo:!1,flag:!0,hidenShow:!1,cashInfoNum:1,is_end:!1,hasData:!0,is_load:!0,page:1,dataInfo:{},nowDate:"",show:!1}},components:{InfiniteScroll:l.InfiniteScroll,Indicator:l.Indicator,DatetimePicker:l.DatetimePicker,commonHeader:n.a,Picker:l.Picker,Toast:l.Toast,Button:l.Button,returnTop:o.a,Loadmore:l.Loadmore},mounted:function(){l.Indicator.open("加载中...");var t=Object(c.c)((new Date).getTime()).split(" ")[0],s=t.split("-")[0]+"年"+t.split("-")[1]+"月";this.endDate=new Date,this.nowDate=t.substring(0,t.length-3),this.birthday=s,this.getFindCon(),this.getAcountList(),this.getVipInfo()},methods:{scrollEvent:function(t){t.target.scrollTop>600?this.show=!0:this.show=!1},goTop:function(){console.log("回到顶部"),document.getElementById("returnTop").scrollIntoView({block:"start",behavior:"smooth"})},getFindCon:function(){var t=this;Object(_.f)().then(function(s){s.isSuccess&&(t.rulesTitle=s.data.member_withdraw)})},showRules:function(){this.rulesShow=!0,this.allowScorll=!1},hiddenRules:function(){this.rulesShow=!1,this.allowScorll=!0},toCashWith:function(){this.$router.togo({path:"/cashWithDrawal"})},showCashInfo:function(t){console.log(t,"当前id");for(var s=0;s<this.detailList.length;s++)for(var a=0;a<this.detailList[s].length;a++)this.detailList[s][a].id===t&&("3"!==this.detailList[s][a].status&&"2"!==this.detailList[s][a].status?(this.choseId=t,this.myWalletShow=!this.myWalletShow,console.log(this.choseId)):(this.choseId=-1,this.myWalletShow=!1))},openBirth:function(){this.$refs.dataPicker.open();for(var t=document.getElementsByClassName("picker-slot"),s=0;t&&s<t.length;s++)2===s&&(t[s].style.display="none")},bindDateChange:function(t){console.log(t.getTime(),"1111");var s=Object(c.c)(t.getTime(),"{y}-{m}-{d}"),a=s.split("-")[0]+"年"+s.split("-")[1]+"月";this.birthday=a,this.nowDate=s.substring(0,s.length-3),this.detailList=[],this.page=1,this.getAcountList()},etailedType:function(t){this.detailType=t,this.is_end=!1,this.page=1,this.dateType="1",this.detailList=[],this.getAcountList()},getVipInfo:function(){var t=this;l.Indicator.open("加载中..."),Object(_.u)().then(function(s){s.isSuccess&&(t.myWallet=!0,l.Indicator.close(),t.membeInfo=s.data.member)})},getAcountList:function(t){var s=this,a={page:s.page,type:s.detailType,date:s.nowDate};l.Indicator.open("加载中..."),Object(_.y)(a).then(function(t){if(t.isSuccess)if(l.Indicator.close(),1===s.detailType||"1"===s.detailType)if(t.data.money.rows.length>0){var a=s.page-1;console.log(s.page),0===a&&(s.detailList=[]),s.detailList[a]=t.data.money.rows,s.total=t.data.money.total,s.cashMoney=t.data.wind,s.hasData=!0,s.is_end=!1,s.is_load=!1,t.data.money.rows.length===parseInt(t.data.money.total)&&t.data.money.rows.length>0&&(s.cashMoney=t.data.wind,s.is_load=!0,s.is_end=!0)}else s.cashMoney=t.data.wind,s.is_load=!0,s.hasData=!1;else if(t.data.advance.rows.length>0){var i=s.page-1;console.log(s.page),0===i&&(s.detailList=[]),s.detailList[i]=t.data.advance.rows,s.total=t.data.advance.total,s.cashMoney=t.data.wind,s.hasData=!0,s.is_end=!1,s.is_load=!1,t.data.advance.rows.length===Number(t.data.advance.total)&&t.data.advance.rows.length>0&&(s.cashMoney=t.data.wind,s.is_load=!0,s.is_end=!0)}else s.cashMoney=t.data.wind,s.is_load=!0,s.hasData=!1;else Object(l.Toast)({message:t.msg,duration:2e3})})},loadMore:function(){var t=this,s={page:++t.page,type:t.detailType,date:t.date};t.page>2?t.show=!0:t.show=!1,this.is_load=!0,1===t.detailType||"1"===t.detailType?Object(_.y)(s).then(function(s){if(!0===s.isSuccess||"true"===s.isSuccess){if(s.data.money.rows.length>0){var a=t.page-1;t.detailList[a]=s.data.money.rows,t.cashMoney=s.data.wind,t.is_end=!1,t.is_load=!1,("[]"===e()(s.data.money.rows)||t.detailList[a].length<10)&&(t.cashMoney=s.data.wind,t.is_load=!0,t.is_end=!0,console.log("11111"))}}else t.cashMoney=s.data.wind,t.is_end=!0,t.is_load=!0;console.log(t.is_end)}):Object(_.y)(s).then(function(s){if(!0===s.isSuccess||"true"===s.isSuccess){if(console.log(s.rows),s.data.advance.rows.length>0){++t.page;var a=t.page-1;t.detailList[a]=s.data.advance.rows,t.is_end=!1,t.is_load=!1,("[]"===e()(s.data.advance.rows)||t.detailList[a].length<10)&&(t.cashMoney=s.data.wind,t.is_load=!0,t.is_end=!0)}}else t.cashMoney=s.data.wind,t.is_end=!0,t.is_load=!0})}}},r={render:function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",[a("common-header",{attrs:{h_title:t.h_title,showback:!0,bgcolor:t.head_color}}),t._v(" "),t.myWallet?a("div",{staticClass:"m_height"},[a("div",{staticStyle:{height:"0.9rem"}}),t._v(" "),a("div",{staticClass:"myWallet"},[a("div",{staticClass:"m_bg_top"},[a("div",{staticClass:"m_bg_top_t"},[a("img",{staticClass:"m_bg_top_bg",attrs:{src:t.imgPath+"shop/cash_1.png",mode:"widthFix"}}),t._v(" "),a("div",{staticClass:"m_bg_top_content"},[a("img",{staticClass:"m_bg_top_content_bg",attrs:{src:t.imgPath+"shop/cash_2.png",mode:"widthFix"}}),t._v(" "),a("div",{staticClass:"m_balance"},[a("div",{staticClass:"m_balance_l"},[a("span",{staticClass:"m_balance_con"},[t._v("我的余额：")]),t._v(" "),a("span",{staticClass:"m_balance_count"},[t._v("￥"+t._s(t.membeInfo.money))])]),t._v(" "),a("div",{staticClass:"m_balance_r"},[a("div",{staticClass:"m_balance_r_t",on:{click:t.showRules}},[a("span",[t._v("提现规则")]),t._v(" "),a("i",{staticClass:"iconfont icon-iconset0143"})]),t._v(" "),a("span",{staticClass:"m_cash",on:{click:t.toCashWith}},[t._v("提现")])])]),t._v(" "),a("div",{staticClass:"m_all_money"},[a("span",{staticClass:"m_y_money"},[t._v("可提现：￥"+t._s(t.membeInfo.can_money))]),t._v(" "),a("span",{staticClass:"m_n_money"},[t._v("待结算：￥"+t._s(t.membeInfo.money_freeze))])])])]),t._v(" "),a("div",{staticClass:"m_Detailed"},[a("div",{staticClass:"detailed_nav"},[a("div",{class:"1"==t.detailType?"text_active":"text1",attrs:{id:"1"},on:{click:function(s){return t.etailedType("1")}}},[t._v("收益明细")]),t._v(" "),a("div",{class:"2"==t.detailType?"text_active":"text1",attrs:{id:"2"},on:{click:function(s){return t.etailedType("2")}}},[t._v("提现记录")])]),t._v(" "),a("div",{staticClass:"detailed_choseDate"},[a("div",{staticClass:"detailed_choseDate_inner"},[a("div",{staticClass:"detailed_choseDate_show"},[a("div",{staticClass:"detailed_choseDate_show_l",on:{click:t.openBirth}},[a("div",{staticClass:"pickDate"},[null!=t.birthday?a("span",[t._v(t._s(t.birthday))]):t._e(),t._v(" "),a("i",{staticClass:"iconfont icon-desc"})])]),t._v(" "),a("div",{staticClass:"detailed_choseDate_show_r"},["1"==t.detailType?a("div",{staticClass:"m_income"},[t._v("\n                          收入"),a("span",{staticClass:"m_c"},[t._v("￥"+t._s(t.cashMoney.income))])]):t._e(),t._v(" "),"1"==t.detailType?a("div",{staticClass:"m_waitCash"},[t._v("\n                          待结算"),a("span",{staticClass:"m_c"},[t._v("￥"+t._s(t.cashMoney.stay_wind))])]):t._e(),t._v(" "),"2"==t.detailType?a("div",{staticClass:"m_income"},[t._v("\n                          累计提现"),a("span",{staticClass:"m_c"},[t._v("￥"+t._s(t.cashMoney.income))])]):t._e(),t._v(" "),"2"==t.detailType?a("div",{staticClass:"m_waitCash"},[t._v("\n                          提现"),a("span",{staticClass:"m_c"},[t._v("￥"+t._s(t.cashMoney.stay_wind))])]):t._e()])])])])])]),t._v(" "),a("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMore,expression:"loadMore"}],staticClass:"scroll",attrs:{"infinite-scroll-disabled":"is_load","infinite-scroll-distance":"30",id:"scroll"},on:{scroll:t.scrollEvent}},[a("div",{staticStyle:{height:"0.01rem"},attrs:{id:"returnTop"}}),t._v(" "),t.show?a("div",{staticClass:"returnTop",on:{click:t.goTop}},[a("i",{staticClass:"iconfont icon-huidaodingbu"})]):t._e(),t._v(" "),a("div",{ref:"vieBox"},[0!=t.total?a("div",{staticClass:"m_Detailed_List"},[t._l(t.detailList,function(s,i){return"1"==t.detailType?a("div",{key:i,staticClass:"list_info"},t._l(s,function(s){return a("div",{key:s.id,staticClass:"list_info_content",attrs:{"report-submit":"true"}},[1!=s.type&&2!=s.status?a("img",{staticClass:"list_info_timg",attrs:{src:t.imgPath+"shop/share_icon.png"}}):t._e(),t._v(" "),1!=s.type&&2==s.status?a("img",{staticClass:"list_info_timg",attrs:{src:t.imgPath+"shop/share_icon1.png"}}):t._e(),t._v(" "),1==s.type&&2!=s.status?a("img",{staticClass:"list_info_timg",attrs:{src:t.imgPath+"shop/share_icon3.png"}}):t._e(),t._v(" "),1==s.type&&2==s.status?a("img",{staticClass:"list_info_timg",attrs:{src:t.imgPath+"shop/share_icon2.png"}}):t._e(),t._v(" "),a("div",{staticClass:"list_info_br"},[a("div",{staticClass:"list_info_tright",on:{click:function(a){return a.preventDefault(),a.stopPropagation(),t.showCashInfo(s.id)}}},[a("div",{staticClass:"list_info_tright_l"},[1!=s.type?a("span",{staticClass:"list_info_tright_lt"},[t._v("分享佣金")]):t._e(),t._v(" "),1==s.type?a("span",{staticClass:"list_info_tright_lt"},[t._v("购物返利")]):t._e(),t._v(" "),a("div",{staticClass:"list_info_tright_lb"},[a("span",[t._v(t._s(s.createtime))])])]),t._v(" "),a("div",{staticClass:"list_info_tright_r"},[2!=s.status&&3!=s.status?a("div",{staticClass:"list_info_tright_r1"},[a("div",{staticClass:"list_info_tright_r1_t"},[a("span",[t._v("+"+t._s(s.money))]),t._v(" "),a("i",{class:t.choseId==s.id&&t.myWalletShow?"iconfont icon-xiala1":"iconfont icon-jiantouarrow487"})]),t._v(" "),0==s.status?a("div",{staticClass:"list_info_tright_r1_b"},[t._v("待结算")]):t._e()]):t._e(),t._v(" "),2==s.status?a("div",{staticClass:"list_info_tright_r2 xian"},[a("span",[t._v("+"+t._s(s.money))]),t._v(" "),a("i",{staticClass:"iconfont icon-jiantouarrow487"}),t._v(" "),a("div",[t._v("已退款")]),t._v(" "),a("span",{staticClass:"xiexian"})]):t._e(),t._v(" "),3==s.status?a("div",{staticClass:"list_info_tright_r2 xian"},[a("span",[t._v("+"+t._s(s.money))]),t._v(" "),a("i",{staticClass:"iconfont icon-jiantouarrow487"}),t._v(" "),a("div",[t._v("降级退还")]),t._v(" "),a("span",{staticClass:"xiexian"})]):t._e()])]),t._v(" "),t.choseId==s.id&&t.myWalletShow?a("div",{staticClass:"list_info_bright"},[a("div",{staticClass:"list_info_bright_l"},[a("img",{attrs:{src:s.buyer.image}}),t._v(" "),a("div",{staticClass:"list_info_bright_ti"},[a("span",[t._v(t._s(s.buyer.nickname))])])]),t._v(" "),a("div",{staticClass:"list_info_bright_r"},["0"==s.status?a("div",[t._v("待结算")]):t._e(),t._v(" "),"1"==s.status?a("div",[t._v("已领取")]):t._e(),t._v(" "),"2"==s.status?a("div",[t._v("已退款")]):t._e(),t._v(" "),"3"==s.status?a("div",[t._v("降级退还")]):t._e()])]):t._e()])])}),0):t._e()}),t._v(" "),t._l(t.detailList,function(s,i){return"2"===t.detailType||2===t.detailType?a("div",{key:i,staticClass:"list_info"},t._l(t.listblock,function(s,i){return a("div",{key:i,staticClass:"list_info_content",attrs:{"data-id":i,"report-submit":"true"}},[a("img",{staticClass:"list_info_timg",attrs:{src:t.imgPath+"shop/share_icon.png"}}),t._v(" "),a("div",{staticClass:"list_info_br"},[a("div",{staticClass:"list_info_tright"},[a("div",{staticClass:"list_info_tright_l"},[a("span",{staticClass:"list_info_tright_lt cashSuccess"},[t._v("提现成功")]),t._v(" "),a("div",{staticClass:"list_info_tright_lb"},[a("span",[t._v(t._s(s.createtime))])])]),t._v(" "),a("div",{staticClass:"list_info_tright_r"},[a("div",{staticClass:"list_info_tright_r1"},[a("div",{staticClass:"list_info_tright_r1_t cashMoney"},[a("span",[t._v("-"+t._s(s.money))])])])])])])])}),0):t._e()})],2):t._e(),t._v(" "),a("div",{staticClass:"mar_bottom"},[t.is_load?t._e():a("div",{staticClass:"more_load"},[a("mt-spinner",{attrs:{type:"fading-circle"}})],1),t._v(" "),t.hasData?t._e():a("div",{staticClass:"s_fans_bottom"},[a("img",{attrs:{src:t.imgPath+"pro/null.png",mode:"widthFix"}})]),t._v(" "),t.hasData&&t.is_end?a("div",{staticClass:"order-foot"},[a("span",[t._v("—————— 我是有底线的 ——————")])]):t._e()])])])])]):t._e(),t._v(" "),a("mt-datetime-picker",{ref:"dataPicker",attrs:{type:"date","year-format":"{value} 年","month-format":"{value} 月","date-format":"{value} 日",startDate:t.startDate,endDate:t.endDate},on:{confirm:t.bindDateChange},model:{value:t.dateVale,callback:function(s){t.dateVale=s},expression:"dateVale"}}),t._v(" "),t.rulesShow?a("div",{staticClass:"rulesDetail_bg",on:{click:t.hiddenRules}}):t._e(),t._v(" "),t.rulesShow?a("div",{staticClass:"rulesDetail"},[a("div",{staticClass:"rules_head"},[t._v("提现规则说明")]),t._v(" "),a("div",{staticClass:"rules_richtext",staticStyle:{height:"3.4rem"}},[a("span",[t._v(t._s(t.rulesTitle))])]),t._v(" "),a("div",{staticClass:"rules_btn",on:{click:t.hiddenRules}},[a("mt-button",[t._v("我知道了")])],1)]):t._e()],1)},staticRenderFns:[]};var h=a("VU/8")(d,r,!1,function(t){a("61LT")},"data-v-50ee3908",null);s.default=h.exports}});
//# sourceMappingURL=49.ad07f818e02fc079047a.js.map