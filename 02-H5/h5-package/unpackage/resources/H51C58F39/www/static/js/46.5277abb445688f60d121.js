webpackJsonp([46],{NpdK:function(e,t){},RS03:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s("mvHQ"),a=s.n(i),o=s("fqE/"),n=s("Jtwt"),r=s("Au9i"),l=s("HUDw"),c={name:"NewPeople",data:function(){return{h_title:"新人特惠",head_color:{background:"#ffffff",color:"#000"},isShare:0,isMember:!1,showNewpeople:!1,imgPath:"https://share.gongzhugou.com/static/image/xcx_img/",is_load:!1,total:0,hasData:!0,is_end:!1,isSign:!0,allowScorll:!0,topNum:0,bg_color:"#740c0b",height:"",page:0,limit:10,shareInfo:{nickname:"",iamge:""},nicName:"",gift_bg:"",newtitle:"",homesrc:"https://share.gongzhugou.com/static/image/xcx_img/pro/member_title.png",titlesrc:"https://share.gongzhugou.com/static/image/xcx_img/pro/member_title.png",newList:[],newShowList:[]}},components:{Indicator:r.Indicator,InfiniteScroll:r.InfiniteScroll,commonHeader:o.a,returnTop:n.a},mounted:function(){var e=this;r.Indicator.open("加载中..."),this.nicName=this.$store.state.home.userInfo.nickname,console.log(e.$store.state.home.userInfo.inviter);var t=window.localStorage;if(void 0!=t.getItem("share")&&""!==t.getItem("share")&&null!==JSON.parse(t.getItem("share")).nickname&&"null"!==JSON.parse(t.getItem("share")).nickname)e.shareInfo=JSON.parse(t.getItem("share")),e.getList();else if(-1===e.$store.state.home.userInfo.inviter&&"-1"===e.$store.state.home.userInfo.inviter){var s={iamge:"https://share.gongzhugou.com/static/image/xcx_img/member/new_people_static.png",nickname:"公主购"};t.setItem("share",a()(s)),e.shareInfo=s,e.getList()}else if(0!==e.$store.state.home.userInfo.inviter&&"0"!==e.$store.state.home.userInfo.inviter){var i={uid:e.$store.state.home.userInfo.inviter};Object(l.x)(i).then(function(s){!0!==s.isSuccess&&"true"!==s.isSuccess||(e.shareInfo=s.data.share,t.setItem("share",a()(s.data.share)),e.getList())})}else{var o={iamge:"https://share.gongzhugou.com/static/image/xcx_img/member/new_people_static.png",nickname:"公主购"};e.shareInfo=o,t.setItem("share",a()(o)),e.getList()}this.isMember=this.$store.state.home.is_member,this.isShare=this.$store.state.home.is_share,this.newNews=this.$store.state.home.news,this.total_amout=this.$store.state.home.carNum},methods:{goNewDetail:function(e,t){this.$router.togo({path:"/newPeopleDetail?type="+e+"&id="+t})},goTop:function(){console.log("回到顶部"),document.getElementById("newPeople").scrollIntoView({block:"start",behavior:"smooth"})},getList:function(){var e=this,t=this;r.Indicator.open("加载中..."),Object(l.m)().then(function(s){!0!==s.isSuccess&&"true"!==s.isSuccess||(r.Indicator.close(),t.newList=s.data.goods,s.data.goods.length>0?(t.newShowList[t.page]=t.newList[t.page],t.is_load=!1,t.hasData=!0,t.is_end=!1,t.limit=s.data.size,t.gift_bg=s.data.list_img,t.newtitle=s.data.list_content,t.showNewpeople=!0,t.bg_color=s.data.bgcolor,(s.data.goods[t.page].length<t.limit||1===s.data.goods.length)&&(t.is_load=!0,t.hasData=!0,t.is_end=!0,console.log(t.newShowList,"111"))):(e.hasData=!1,t.is_load=!0))})},loadMore:function(){if(console.log("加载下一页"),this.is_load=!0,console.log(this.page),this.page<this.newList.length-1){++this.page;var e=this.page;this.newShowList[e]=this.newList[e],this.is_end=!1,this.is_load=!1,console.log(this.newShowList,"more111"),(this.newList[e].length<this.limit||this.page===this.newList.length-1)&&(this.is_end=!0,this.is_load=!0,this.hasData=!0)}else this.is_end=!0,this.is_load=!0,this.hasData=!0;console.log(this.newList)}}},h={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("common-header",{attrs:{h_title:e.h_title,showback:!0,bgcolor:e.head_color}}),e._v(" "),e.showNewpeople?s("div",[s("div",{staticClass:"newPeople"},[s("return-top",{on:{returnTop:e.goTop}}),e._v(" "),s("div",{staticStyle:{height:"0.9rem"},attrs:{id:"newPeople"}}),e._v(" "),s("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:e.loadMore,expression:"loadMore"}],staticClass:"scroll",attrs:{"infinite-scroll-disabled":"is_load","infinite-scroll-distance":"30"}},[s("div",{staticClass:"newPeopel_top",style:{background:e.bg_color}},[s("div",{staticClass:"newhome"},[s("img",{attrs:{src:e.shareInfo.iamge}}),e._v(" "),s("span",[e._v(e._s(e.shareInfo.nickname))])]),e._v(" "),s("div",{staticClass:"newtitle"},[s("div",{staticClass:"newtitle_bg"},[s("span",[e._v("Hi,"+e._s(e.nicName)+","+e._s(e.newtitle))])]),e._v(" "),s("span",{staticClass:"sanjia"})])]),e._v(" "),s("div",{staticClass:"newPeople_center"},[s("img",{staticClass:"giftbg",attrs:{src:e.gift_bg,mode:"widthFix"}})]),e._v(" "),s("div",{staticClass:"newpeople_list",staticStyle:{"{background":"bg_color}"}},[e.hasData?s("div",{staticClass:"newpeople_list_content"},[s("div",{staticClass:"new_listInfo"},e._l(e.newShowList,function(t,i){return s("div",{key:i,staticClass:"new_pro_block"},e._l(t,function(t,i){return s("div",{key:i,staticClass:"new_pro",on:{click:function(s){return e.goNewDetail("newpeople",t.goods_id)}}},[s("div",{staticClass:"pro_img"},[s("img",{attrs:{src:t.img}})]),e._v(" "),s("div",[s("span",{staticClass:"new_span"},[e._v(e._s(t.name))]),e._v(" "),s("span",{staticClass:"new_price"},[e._v("￥"+e._s(t.sale)),e.isMember?s("span",{staticStyle:{color:"#ff8d97","font-size":"0.23rem"}},[e._v(" / 赚"+e._s(t.back_rebate))]):e._e()])])])}),0)}),0)]):e._e(),e._v(" "),s("div",{staticClass:"mar_bottom"},[e.is_load?e._e():s("div",{staticClass:"more_load"},[s("mt-spinner",{attrs:{type:"fading-circle"}})],1),e._v(" "),e.hasData?e._e():s("div",{staticClass:"s_fans_bottom"},[s("img",{attrs:{src:e.imgPath+"pro/null.png",mode:"widthFix"}})]),e._v(" "),e.hasData&&e.is_end?s("div",{staticClass:"order-foot"},[s("span",[e._v("—————— 我是有底线的 ——————")])]):e._e()])])])],1)]):e._e()],1)},staticRenderFns:[]};var g=s("VU/8")(c,h,!1,function(e){s("NpdK")},"data-v-58fcfa14",null);t.default=g.exports}});
//# sourceMappingURL=46.5277abb445688f60d121.js.map